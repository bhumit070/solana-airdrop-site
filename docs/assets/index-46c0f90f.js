(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ts(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function fo(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function r(){if(this instanceof r){var s=[null];s.push.apply(s,arguments);var o=Function.bind.apply(t,s);return new o}return t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),e}var lt={},an={};an.byteLength=rc;an.toByteArray=ic;an.fromByteArray=ac;var je=[],Fe=[],tc=typeof Uint8Array<"u"?Uint8Array:Array,Ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Mr=0,ec=Ui.length;Mr<ec;++Mr)je[Mr]=Ui[Mr],Fe[Ui.charCodeAt(Mr)]=Mr;Fe["-".charCodeAt(0)]=62;Fe["_".charCodeAt(0)]=63;function Us(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=n.indexOf("=");e===-1&&(e=t);var r=e===t?0:4-e%4;return[e,r]}function rc(n){var t=Us(n),e=t[0],r=t[1];return(e+r)*3/4-r}function nc(n,t,e){return(t+e)*3/4-e}function ic(n){var t,e=Us(n),r=e[0],s=e[1],o=new tc(nc(n,r,s)),c=0,u=s>0?r-4:r,g;for(g=0;g<u;g+=4)t=Fe[n.charCodeAt(g)]<<18|Fe[n.charCodeAt(g+1)]<<12|Fe[n.charCodeAt(g+2)]<<6|Fe[n.charCodeAt(g+3)],o[c++]=t>>16&255,o[c++]=t>>8&255,o[c++]=t&255;return s===2&&(t=Fe[n.charCodeAt(g)]<<2|Fe[n.charCodeAt(g+1)]>>4,o[c++]=t&255),s===1&&(t=Fe[n.charCodeAt(g)]<<10|Fe[n.charCodeAt(g+1)]<<4|Fe[n.charCodeAt(g+2)]>>2,o[c++]=t>>8&255,o[c++]=t&255),o}function oc(n){return je[n>>18&63]+je[n>>12&63]+je[n>>6&63]+je[n&63]}function sc(n,t,e){for(var r,s=[],o=t;o<e;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),s.push(oc(r));return s.join("")}function ac(n){for(var t,e=n.length,r=e%3,s=[],o=16383,c=0,u=e-r;c<u;c+=o)s.push(sc(n,c,c+o>u?u:c+o));return r===1?(t=n[e-1],s.push(je[t>>2]+je[t<<4&63]+"==")):r===2&&(t=(n[e-2]<<8)+n[e-1],s.push(je[t>>10]+je[t>>4&63]+je[t<<2&63]+"=")),s.join("")}var Qn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Qn.read=function(n,t,e,r,s){var o,c,u=s*8-r-1,g=(1<<u)-1,v=g>>1,k=-7,_=e?s-1:0,U=e?-1:1,M=n[t+_];for(_+=U,o=M&(1<<-k)-1,M>>=-k,k+=u;k>0;o=o*256+n[t+_],_+=U,k-=8);for(c=o&(1<<-k)-1,o>>=-k,k+=r;k>0;c=c*256+n[t+_],_+=U,k-=8);if(o===0)o=1-v;else{if(o===g)return c?NaN:(M?-1:1)*(1/0);c=c+Math.pow(2,r),o=o-v}return(M?-1:1)*c*Math.pow(2,o-r)};Qn.write=function(n,t,e,r,s,o){var c,u,g,v=o*8-s-1,k=(1<<v)-1,_=k>>1,U=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=r?0:o-1,T=r?1:-1,L=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,c=k):(c=Math.floor(Math.log(t)/Math.LN2),t*(g=Math.pow(2,-c))<1&&(c--,g*=2),c+_>=1?t+=U/g:t+=U*Math.pow(2,1-_),t*g>=2&&(c++,g/=2),c+_>=k?(u=0,c=k):c+_>=1?(u=(t*g-1)*Math.pow(2,s),c=c+_):(u=t*Math.pow(2,_-1)*Math.pow(2,s),c=0));s>=8;n[e+M]=u&255,M+=T,u/=256,s-=8);for(c=c<<s|u,v+=s;v>0;n[e+M]=c&255,M+=T,c/=256,v-=8);n[e+M-T]|=L*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=an,e=Qn,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=H,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const f=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(f,i),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(f){if(f>s)throw new RangeError('The value "'+f+'" is invalid for option "size"');const i=new Uint8Array(f);return Object.setPrototypeOf(i,u.prototype),i}function u(f,i,a){if(typeof f=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(f)}return g(f,i,a)}u.poolSize=8192;function g(f,i,a){if(typeof f=="string")return U(f,i);if(ArrayBuffer.isView(f))return T(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Pt(f,ArrayBuffer)||f&&Pt(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pt(f,SharedArrayBuffer)||f&&Pt(f.buffer,SharedArrayBuffer)))return L(f,i,a);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const l=f.valueOf&&f.valueOf();if(l!=null&&l!==f)return u.from(l,i,a);const w=C(f);if(w)return w;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),i,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,i,a){return g(f,i,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function v(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function k(f,i,a){return v(f),f<=0?c(f):i!==void 0?typeof a=="string"?c(f).fill(i,a):c(f).fill(i):c(f)}u.alloc=function(f,i,a){return k(f,i,a)};function _(f){return v(f),c(f<0?0:D(f)|0)}u.allocUnsafe=function(f){return _(f)},u.allocUnsafeSlow=function(f){return _(f)};function U(f,i){if((typeof i!="string"||i==="")&&(i="utf8"),!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const a=O(f,i)|0;let l=c(a);const w=l.write(f,i);return w!==a&&(l=l.slice(0,w)),l}function M(f){const i=f.length<0?0:D(f.length)|0,a=c(i);for(let l=0;l<i;l+=1)a[l]=f[l]&255;return a}function T(f){if(Pt(f,Uint8Array)){const i=new Uint8Array(f);return L(i.buffer,i.byteOffset,i.byteLength)}return M(f)}function L(f,i,a){if(i<0||f.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<i+(a||0))throw new RangeError('"length" is outside of buffer bounds');let l;return i===void 0&&a===void 0?l=new Uint8Array(f):a===void 0?l=new Uint8Array(f,i):l=new Uint8Array(f,i,a),Object.setPrototypeOf(l,u.prototype),l}function C(f){if(u.isBuffer(f)){const i=D(f.length)|0,a=c(i);return a.length===0||f.copy(a,0,0,i),a}if(f.length!==void 0)return typeof f.length!="number"||Rt(f.length)?c(0):M(f);if(f.type==="Buffer"&&Array.isArray(f.data))return M(f.data)}function D(f){if(f>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return f|0}function H(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==u.prototype},u.compare=function(i,a){if(Pt(i,Uint8Array)&&(i=u.from(i,i.offset,i.byteLength)),Pt(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(i)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===a)return 0;let l=i.length,w=a.length;for(let x=0,S=Math.min(l,w);x<S;++x)if(i[x]!==a[x]){l=i[x],w=a[x];break}return l<w?-1:w<l?1:0},u.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(i,a){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return u.alloc(0);let l;if(a===void 0)for(a=0,l=0;l<i.length;++l)a+=i[l].length;const w=u.allocUnsafe(a);let x=0;for(l=0;l<i.length;++l){let S=i[l];if(Pt(S,Uint8Array))x+S.length>w.length?(u.isBuffer(S)||(S=u.from(S)),S.copy(w,x)):Uint8Array.prototype.set.call(w,S,x);else if(u.isBuffer(S))S.copy(w,x);else throw new TypeError('"list" argument must be an Array of Buffers');x+=S.length}return w};function O(f,i){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Pt(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const a=f.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&a===0)return 0;let w=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return kt(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Tt(f).length;default:if(w)return l?-1:kt(f).length;i=(""+i).toLowerCase(),w=!0}}u.byteLength=O;function Z(f,i,a){let l=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,i>>>=0,a<=i))return"";for(f||(f="utf8");;)switch(f){case"hex":return I(this,i,a);case"utf8":case"utf-8":return h(this,i,a);case"ascii":return m(this,i,a);case"latin1":case"binary":return E(this,i,a);case"base64":return A(this,i,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,i,a);default:if(l)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),l=!0}}u.prototype._isBuffer=!0;function N(f,i,a){const l=f[i];f[i]=f[a],f[a]=l}u.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<i;a+=2)N(this,a,a+1);return this},u.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<i;a+=4)N(this,a,a+3),N(this,a+1,a+2);return this},u.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<i;a+=8)N(this,a,a+7),N(this,a+1,a+6),N(this,a+2,a+5),N(this,a+3,a+4);return this},u.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?h(this,0,i):Z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(i){if(!u.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:u.compare(this,i)===0},u.prototype.inspect=function(){let i="";const a=n.INSPECT_MAX_BYTES;return i=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(i+=" ... "),"<Buffer "+i+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(i,a,l,w,x){if(Pt(i,Uint8Array)&&(i=u.from(i,i.offset,i.byteLength)),!u.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(a===void 0&&(a=0),l===void 0&&(l=i?i.length:0),w===void 0&&(w=0),x===void 0&&(x=this.length),a<0||l>i.length||w<0||x>this.length)throw new RangeError("out of range index");if(w>=x&&a>=l)return 0;if(w>=x)return-1;if(a>=l)return 1;if(a>>>=0,l>>>=0,w>>>=0,x>>>=0,this===i)return 0;let S=x-w,W=l-a;const Q=Math.min(S,W),J=this.slice(w,x),ft=i.slice(a,l);for(let V=0;V<Q;++V)if(J[V]!==ft[V]){S=J[V],W=ft[V];break}return S<W?-1:W<S?1:0};function j(f,i,a,l,w){if(f.length===0)return-1;if(typeof a=="string"?(l=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,Rt(a)&&(a=w?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(w)return-1;a=f.length-1}else if(a<0)if(w)a=0;else return-1;if(typeof i=="string"&&(i=u.from(i,l)),u.isBuffer(i))return i.length===0?-1:K(f,i,a,l,w);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?w?Uint8Array.prototype.indexOf.call(f,i,a):Uint8Array.prototype.lastIndexOf.call(f,i,a):K(f,[i],a,l,w);throw new TypeError("val must be string, number or Buffer")}function K(f,i,a,l,w){let x=1,S=f.length,W=i.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(f.length<2||i.length<2)return-1;x=2,S/=2,W/=2,a/=2}function Q(ft,V){return x===1?ft[V]:ft.readUInt16BE(V*x)}let J;if(w){let ft=-1;for(J=a;J<S;J++)if(Q(f,J)===Q(i,ft===-1?0:J-ft)){if(ft===-1&&(ft=J),J-ft+1===W)return ft*x}else ft!==-1&&(J-=J-ft),ft=-1}else for(a+W>S&&(a=S-W),J=a;J>=0;J--){let ft=!0;for(let V=0;V<W;V++)if(Q(f,J+V)!==Q(i,V)){ft=!1;break}if(ft)return J}return-1}u.prototype.includes=function(i,a,l){return this.indexOf(i,a,l)!==-1},u.prototype.indexOf=function(i,a,l){return j(this,i,a,l,!0)},u.prototype.lastIndexOf=function(i,a,l){return j(this,i,a,l,!1)};function rt(f,i,a,l){a=Number(a)||0;const w=f.length-a;l?(l=Number(l),l>w&&(l=w)):l=w;const x=i.length;l>x/2&&(l=x/2);let S;for(S=0;S<l;++S){const W=parseInt(i.substr(S*2,2),16);if(Rt(W))return S;f[a+S]=W}return S}function wt(f,i,a,l){return _t(kt(i,f.length-a),f,a,l)}function zt(f,i,a,l){return _t(Ot(i),f,a,l)}function gt(f,i,a,l){return _t(Tt(i),f,a,l)}function Ut(f,i,a,l){return _t(Rr(i,f.length-a),f,a,l)}u.prototype.write=function(i,a,l,w){if(a===void 0)w="utf8",l=this.length,a=0;else if(l===void 0&&typeof a=="string")w=a,l=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(l)?(l=l>>>0,w===void 0&&(w="utf8")):(w=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const x=this.length-a;if((l===void 0||l>x)&&(l=x),i.length>0&&(l<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");let S=!1;for(;;)switch(w){case"hex":return rt(this,i,a,l);case"utf8":case"utf-8":return wt(this,i,a,l);case"ascii":case"latin1":case"binary":return zt(this,i,a,l);case"base64":return gt(this,i,a,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ut(this,i,a,l);default:if(S)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),S=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(f,i,a){return i===0&&a===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(i,a))}function h(f,i,a){a=Math.min(f.length,a);const l=[];let w=i;for(;w<a;){const x=f[w];let S=null,W=x>239?4:x>223?3:x>191?2:1;if(w+W<=a){let Q,J,ft,V;switch(W){case 1:x<128&&(S=x);break;case 2:Q=f[w+1],(Q&192)===128&&(V=(x&31)<<6|Q&63,V>127&&(S=V));break;case 3:Q=f[w+1],J=f[w+2],(Q&192)===128&&(J&192)===128&&(V=(x&15)<<12|(Q&63)<<6|J&63,V>2047&&(V<55296||V>57343)&&(S=V));break;case 4:Q=f[w+1],J=f[w+2],ft=f[w+3],(Q&192)===128&&(J&192)===128&&(ft&192)===128&&(V=(x&15)<<18|(Q&63)<<12|(J&63)<<6|ft&63,V>65535&&V<1114112&&(S=V))}}S===null?(S=65533,W=1):S>65535&&(S-=65536,l.push(S>>>10&1023|55296),S=56320|S&1023),l.push(S),w+=W}return y(l)}const p=4096;function y(f){const i=f.length;if(i<=p)return String.fromCharCode.apply(String,f);let a="",l=0;for(;l<i;)a+=String.fromCharCode.apply(String,f.slice(l,l+=p));return a}function m(f,i,a){let l="";a=Math.min(f.length,a);for(let w=i;w<a;++w)l+=String.fromCharCode(f[w]&127);return l}function E(f,i,a){let l="";a=Math.min(f.length,a);for(let w=i;w<a;++w)l+=String.fromCharCode(f[w]);return l}function I(f,i,a){const l=f.length;(!i||i<0)&&(i=0),(!a||a<0||a>l)&&(a=l);let w="";for(let x=i;x<a;++x)w+=Nt[f[x]];return w}function R(f,i,a){const l=f.slice(i,a);let w="";for(let x=0;x<l.length-1;x+=2)w+=String.fromCharCode(l[x]+l[x+1]*256);return w}u.prototype.slice=function(i,a){const l=this.length;i=~~i,a=a===void 0?l:~~a,i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),a<0?(a+=l,a<0&&(a=0)):a>l&&(a=l),a<i&&(a=i);const w=this.subarray(i,a);return Object.setPrototypeOf(w,u.prototype),w};function b(f,i,a){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+i>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(i,a,l){i=i>>>0,a=a>>>0,l||b(i,a,this.length);let w=this[i],x=1,S=0;for(;++S<a&&(x*=256);)w+=this[i+S]*x;return w},u.prototype.readUintBE=u.prototype.readUIntBE=function(i,a,l){i=i>>>0,a=a>>>0,l||b(i,a,this.length);let w=this[i+--a],x=1;for(;a>0&&(x*=256);)w+=this[i+--a]*x;return w},u.prototype.readUint8=u.prototype.readUInt8=function(i,a){return i=i>>>0,a||b(i,1,this.length),this[i]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(i,a){return i=i>>>0,a||b(i,2,this.length),this[i]|this[i+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(i,a){return i=i>>>0,a||b(i,2,this.length),this[i]<<8|this[i+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(i,a){return i=i>>>0,a||b(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(i,a){return i=i>>>0,a||b(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},u.prototype.readBigUInt64LE=jt(function(i){i=i>>>0,ve(i,"offset");const a=this[i],l=this[i+7];(a===void 0||l===void 0)&&xt(i,this.length-8);const w=a+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,x=this[++i]+this[++i]*2**8+this[++i]*2**16+l*2**24;return BigInt(w)+(BigInt(x)<<BigInt(32))}),u.prototype.readBigUInt64BE=jt(function(i){i=i>>>0,ve(i,"offset");const a=this[i],l=this[i+7];(a===void 0||l===void 0)&&xt(i,this.length-8);const w=a*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],x=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l;return(BigInt(w)<<BigInt(32))+BigInt(x)}),u.prototype.readIntLE=function(i,a,l){i=i>>>0,a=a>>>0,l||b(i,a,this.length);let w=this[i],x=1,S=0;for(;++S<a&&(x*=256);)w+=this[i+S]*x;return x*=128,w>=x&&(w-=Math.pow(2,8*a)),w},u.prototype.readIntBE=function(i,a,l){i=i>>>0,a=a>>>0,l||b(i,a,this.length);let w=a,x=1,S=this[i+--w];for(;w>0&&(x*=256);)S+=this[i+--w]*x;return x*=128,S>=x&&(S-=Math.pow(2,8*a)),S},u.prototype.readInt8=function(i,a){return i=i>>>0,a||b(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},u.prototype.readInt16LE=function(i,a){i=i>>>0,a||b(i,2,this.length);const l=this[i]|this[i+1]<<8;return l&32768?l|4294901760:l},u.prototype.readInt16BE=function(i,a){i=i>>>0,a||b(i,2,this.length);const l=this[i+1]|this[i]<<8;return l&32768?l|4294901760:l},u.prototype.readInt32LE=function(i,a){return i=i>>>0,a||b(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},u.prototype.readInt32BE=function(i,a){return i=i>>>0,a||b(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},u.prototype.readBigInt64LE=jt(function(i){i=i>>>0,ve(i,"offset");const a=this[i],l=this[i+7];(a===void 0||l===void 0)&&xt(i,this.length-8);const w=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(l<<24);return(BigInt(w)<<BigInt(32))+BigInt(a+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),u.prototype.readBigInt64BE=jt(function(i){i=i>>>0,ve(i,"offset");const a=this[i],l=this[i+7];(a===void 0||l===void 0)&&xt(i,this.length-8);const w=(a<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(w)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l)}),u.prototype.readFloatLE=function(i,a){return i=i>>>0,a||b(i,4,this.length),e.read(this,i,!0,23,4)},u.prototype.readFloatBE=function(i,a){return i=i>>>0,a||b(i,4,this.length),e.read(this,i,!1,23,4)},u.prototype.readDoubleLE=function(i,a){return i=i>>>0,a||b(i,8,this.length),e.read(this,i,!0,52,8)},u.prototype.readDoubleBE=function(i,a){return i=i>>>0,a||b(i,8,this.length),e.read(this,i,!1,52,8)};function d(f,i,a,l,w,x){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>w||i<x)throw new RangeError('"value" argument is out of bounds');if(a+l>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(i,a,l,w){if(i=+i,a=a>>>0,l=l>>>0,!w){const W=Math.pow(2,8*l)-1;d(this,i,a,l,W,0)}let x=1,S=0;for(this[a]=i&255;++S<l&&(x*=256);)this[a+S]=i/x&255;return a+l},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(i,a,l,w){if(i=+i,a=a>>>0,l=l>>>0,!w){const W=Math.pow(2,8*l)-1;d(this,i,a,l,W,0)}let x=l-1,S=1;for(this[a+x]=i&255;--x>=0&&(S*=256);)this[a+x]=i/S&255;return a+l},u.prototype.writeUint8=u.prototype.writeUInt8=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,1,255,0),this[a]=i&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,2,65535,0),this[a]=i&255,this[a+1]=i>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,2,65535,0),this[a]=i>>>8,this[a+1]=i&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,4,4294967295,0),this[a+3]=i>>>24,this[a+2]=i>>>16,this[a+1]=i>>>8,this[a]=i&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,4,4294967295,0),this[a]=i>>>24,this[a+1]=i>>>16,this[a+2]=i>>>8,this[a+3]=i&255,a+4};function B(f,i,a,l,w){Mt(i,l,w,f,a,7);let x=Number(i&BigInt(4294967295));f[a++]=x,x=x>>8,f[a++]=x,x=x>>8,f[a++]=x,x=x>>8,f[a++]=x;let S=Number(i>>BigInt(32)&BigInt(4294967295));return f[a++]=S,S=S>>8,f[a++]=S,S=S>>8,f[a++]=S,S=S>>8,f[a++]=S,a}function nt(f,i,a,l,w){Mt(i,l,w,f,a,7);let x=Number(i&BigInt(4294967295));f[a+7]=x,x=x>>8,f[a+6]=x,x=x>>8,f[a+5]=x,x=x>>8,f[a+4]=x;let S=Number(i>>BigInt(32)&BigInt(4294967295));return f[a+3]=S,S=S>>8,f[a+2]=S,S=S>>8,f[a+1]=S,S=S>>8,f[a]=S,a+8}u.prototype.writeBigUInt64LE=jt(function(i,a=0){return B(this,i,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=jt(function(i,a=0){return nt(this,i,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(i,a,l,w){if(i=+i,a=a>>>0,!w){const Q=Math.pow(2,8*l-1);d(this,i,a,l,Q-1,-Q)}let x=0,S=1,W=0;for(this[a]=i&255;++x<l&&(S*=256);)i<0&&W===0&&this[a+x-1]!==0&&(W=1),this[a+x]=(i/S>>0)-W&255;return a+l},u.prototype.writeIntBE=function(i,a,l,w){if(i=+i,a=a>>>0,!w){const Q=Math.pow(2,8*l-1);d(this,i,a,l,Q-1,-Q)}let x=l-1,S=1,W=0;for(this[a+x]=i&255;--x>=0&&(S*=256);)i<0&&W===0&&this[a+x+1]!==0&&(W=1),this[a+x]=(i/S>>0)-W&255;return a+l},u.prototype.writeInt8=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,1,127,-128),i<0&&(i=255+i+1),this[a]=i&255,a+1},u.prototype.writeInt16LE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,2,32767,-32768),this[a]=i&255,this[a+1]=i>>>8,a+2},u.prototype.writeInt16BE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,2,32767,-32768),this[a]=i>>>8,this[a+1]=i&255,a+2},u.prototype.writeInt32LE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,4,2147483647,-2147483648),this[a]=i&255,this[a+1]=i>>>8,this[a+2]=i>>>16,this[a+3]=i>>>24,a+4},u.prototype.writeInt32BE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[a]=i>>>24,this[a+1]=i>>>16,this[a+2]=i>>>8,this[a+3]=i&255,a+4},u.prototype.writeBigInt64LE=jt(function(i,a=0){return B(this,i,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=jt(function(i,a=0){return nt(this,i,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function tt(f,i,a,l,w,x){if(a+l>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function ot(f,i,a,l,w){return i=+i,a=a>>>0,w||tt(f,i,a,4),e.write(f,i,a,l,23,4),a+4}u.prototype.writeFloatLE=function(i,a,l){return ot(this,i,a,!0,l)},u.prototype.writeFloatBE=function(i,a,l){return ot(this,i,a,!1,l)};function Kt(f,i,a,l,w){return i=+i,a=a>>>0,w||tt(f,i,a,8),e.write(f,i,a,l,52,8),a+8}u.prototype.writeDoubleLE=function(i,a,l){return Kt(this,i,a,!0,l)},u.prototype.writeDoubleBE=function(i,a,l){return Kt(this,i,a,!1,l)},u.prototype.copy=function(i,a,l,w){if(!u.isBuffer(i))throw new TypeError("argument should be a Buffer");if(l||(l=0),!w&&w!==0&&(w=this.length),a>=i.length&&(a=i.length),a||(a=0),w>0&&w<l&&(w=l),w===l||i.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),i.length-a<w-l&&(w=i.length-a+l);const x=w-l;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,l,w):Uint8Array.prototype.set.call(i,this.subarray(l,w),a),x},u.prototype.fill=function(i,a,l,w){if(typeof i=="string"){if(typeof a=="string"?(w=a,a=0,l=this.length):typeof l=="string"&&(w=l,l=this.length),w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!u.isEncoding(w))throw new TypeError("Unknown encoding: "+w);if(i.length===1){const S=i.charCodeAt(0);(w==="utf8"&&S<128||w==="latin1")&&(i=S)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(a<0||this.length<a||this.length<l)throw new RangeError("Out of range index");if(l<=a)return this;a=a>>>0,l=l===void 0?this.length:l>>>0,i||(i=0);let x;if(typeof i=="number")for(x=a;x<l;++x)this[x]=i;else{const S=u.isBuffer(i)?i:u.from(i,w),W=S.length;if(W===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(x=0;x<l-a;++x)this[x+a]=S[x%W]}return this};const dt={};function Et(f,i,a){dt[f]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(w){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:w,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}Et("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Et("ERR_INVALID_ARG_TYPE",function(f,i){return`The "${f}" argument must be of type number. Received type ${typeof i}`},TypeError),Et("ERR_OUT_OF_RANGE",function(f,i,a){let l=`The value of "${f}" is out of range.`,w=a;return Number.isInteger(a)&&Math.abs(a)>2**32?w=tr(String(a)):typeof a=="bigint"&&(w=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(w=tr(w)),w+="n"),l+=` It must be ${i}. Received ${w}`,l},RangeError);function tr(f){let i="",a=f.length;const l=f[0]==="-"?1:0;for(;a>=l+4;a-=3)i=`_${f.slice(a-3,a)}${i}`;return`${f.slice(0,a)}${i}`}function Ct(f,i,a){ve(i,"offset"),(f[i]===void 0||f[i+a]===void 0)&&xt(i,f.length-(a+1))}function Mt(f,i,a,l,w,x){if(f>a||f<i){const S=typeof i=="bigint"?"n":"";let W;throw x>3?i===0||i===BigInt(0)?W=`>= 0${S} and < 2${S} ** ${(x+1)*8}${S}`:W=`>= -(2${S} ** ${(x+1)*8-1}${S}) and < 2 ** ${(x+1)*8-1}${S}`:W=`>= ${i}${S} and <= ${a}${S}`,new dt.ERR_OUT_OF_RANGE("value",W,f)}Ct(l,w,x)}function ve(f,i){if(typeof f!="number")throw new dt.ERR_INVALID_ARG_TYPE(i,"number",f)}function xt(f,i,a){throw Math.floor(f)!==f?(ve(f,a),new dt.ERR_OUT_OF_RANGE(a||"offset","an integer",f)):i<0?new dt.ERR_BUFFER_OUT_OF_BOUNDS:new dt.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${i}`,f)}const Ft=/[^+/0-9A-Za-z-_]/g;function kr(f){if(f=f.split("=")[0],f=f.trim().replace(Ft,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function kt(f,i){i=i||1/0;let a;const l=f.length;let w=null;const x=[];for(let S=0;S<l;++S){if(a=f.charCodeAt(S),a>55295&&a<57344){if(!w){if(a>56319){(i-=3)>-1&&x.push(239,191,189);continue}else if(S+1===l){(i-=3)>-1&&x.push(239,191,189);continue}w=a;continue}if(a<56320){(i-=3)>-1&&x.push(239,191,189),w=a;continue}a=(w-55296<<10|a-56320)+65536}else w&&(i-=3)>-1&&x.push(239,191,189);if(w=null,a<128){if((i-=1)<0)break;x.push(a)}else if(a<2048){if((i-=2)<0)break;x.push(a>>6|192,a&63|128)}else if(a<65536){if((i-=3)<0)break;x.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((i-=4)<0)break;x.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return x}function Ot(f){const i=[];for(let a=0;a<f.length;++a)i.push(f.charCodeAt(a)&255);return i}function Rr(f,i){let a,l,w;const x=[];for(let S=0;S<f.length&&!((i-=2)<0);++S)a=f.charCodeAt(S),l=a>>8,w=a%256,x.push(w),x.push(l);return x}function Tt(f){return t.toByteArray(kr(f))}function _t(f,i,a,l){let w;for(w=0;w<l&&!(w+a>=i.length||w>=f.length);++w)i[w+a]=f[w];return w}function Pt(f,i){return f instanceof i||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===i.name}function Rt(f){return f!==f}const Nt=function(){const f="0123456789abcdef",i=new Array(256);for(let a=0;a<16;++a){const l=a*16;for(let w=0;w<16;++w)i[l+w]=f[a]+f[w]}return i}();function jt(f){return typeof BigInt>"u"?Dt:f}function Dt(){throw new Error("BigInt not supported")}})(lt);function Xi(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function cc(n){if(typeof n!="boolean")throw new Error(`Expected boolean, not ${n}`)}function Ls(n,...t){if(!(n instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(n.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${n.length}`)}function uc(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xi(n.outputLen),Xi(n.blockLen)}function fc(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function hc(n,t){Ls(n);const e=t.outputLen;if(n.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const Ue={number:Xi,bool:cc,bytes:Ls,hash:uc,exists:fc,output:hc};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lc=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),Li=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Ke=(n,t)=>n<<32-t|n>>>t,dc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!dc)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function pc(n){if(typeof n!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof n}`);return new TextEncoder().encode(n)}function cn(n){if(typeof n=="string"&&(n=pc(n)),!(n instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof n})`);return n}class ho{clone(){return this._cloneInto()}}function Br(n){const t=r=>n().update(cn(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function gc(n){const t=(r,s)=>n(s).update(cn(r)).digest(),e=n({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=r=>n(r),t}function yc(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const s=BigInt(32),o=BigInt(4294967295),c=Number(e>>s&o),u=Number(e&o),g=r?4:0,v=r?0:4;n.setUint32(t+g,c,r),n.setUint32(t+v,u,r)}class Cs extends ho{constructor(t,e,r,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Li(this.buffer)}update(t){Ue.exists(this);const{view:e,buffer:r,blockLen:s}=this;t=cn(t);const o=t.length;for(let c=0;c<o;){const u=Math.min(s-this.pos,o-c);if(u===s){const g=Li(t);for(;s<=o-c;c+=s)this.process(g,c);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ue.exists(this),Ue.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:o}=this;let{pos:c}=this;e[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let _=c;_<s;_++)e[_]=0;yc(r,s-8,BigInt(this.length*8),o),this.process(r,0);const u=Li(t),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const v=g/4,k=this.get();if(v>k.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<v;_++)u.setUint32(4*_,k[_],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:s,finished:o,destroyed:c,pos:u}=this;return t.length=s,t.pos=u,t.finished=o,t.destroyed=c,s%e&&t.buffer.set(r),t}}const yn=BigInt(2**32-1),Yi=BigInt(32);function Fs(n,t=!1){return t?{h:Number(n&yn),l:Number(n>>Yi&yn)}:{h:Number(n>>Yi&yn)|0,l:Number(n&yn)|0}}function wc(n,t=!1){let e=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:o,l:c}=Fs(n[s],t);[e[s],r[s]]=[o,c]}return[e,r]}const mc=(n,t)=>BigInt(n>>>0)<<Yi|BigInt(t>>>0),bc=(n,t,e)=>n>>>e,xc=(n,t,e)=>n<<32-e|t>>>e,vc=(n,t,e)=>n>>>e|t<<32-e,Ec=(n,t,e)=>n<<32-e|t>>>e,Bc=(n,t,e)=>n<<64-e|t>>>e-32,Sc=(n,t,e)=>n>>>e-32|t<<64-e,_c=(n,t)=>t,Ac=(n,t)=>n,Ic=(n,t,e)=>n<<e|t>>>32-e,kc=(n,t,e)=>t<<e|n>>>32-e,Rc=(n,t,e)=>t<<e-32|n>>>64-e,Mc=(n,t,e)=>n<<e-32|t>>>64-e;function Tc(n,t,e,r){const s=(t>>>0)+(r>>>0);return{h:n+e+(s/2**32|0)|0,l:s|0}}const Uc=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),Lc=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,Cc=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),Fc=(n,t,e,r,s)=>t+e+r+s+(n/2**32|0)|0,Oc=(n,t,e,r,s)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(s>>>0),Pc=(n,t,e,r,s,o)=>t+e+r+s+o+(n/2**32|0)|0,ht={fromBig:Fs,split:wc,toBig:mc,shrSH:bc,shrSL:xc,rotrSH:vc,rotrSL:Ec,rotrBH:Bc,rotrBL:Sc,rotr32H:_c,rotr32L:Ac,rotlSH:Ic,rotlSL:kc,rotlBH:Rc,rotlBL:Mc,add:Tc,add3L:Uc,add3H:Lc,add4L:Cc,add4H:Fc,add5H:Pc,add5L:Oc},[Nc,Dc]=ht.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),er=new Uint32Array(80),rr=new Uint32Array(80);class ti extends Cs{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:s,Ch:o,Cl:c,Dh:u,Dl:g,Eh:v,El:k,Fh:_,Fl:U,Gh:M,Gl:T,Hh:L,Hl:C}=this;return[t,e,r,s,o,c,u,g,v,k,_,U,M,T,L,C]}set(t,e,r,s,o,c,u,g,v,k,_,U,M,T,L,C){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=c|0,this.Dh=u|0,this.Dl=g|0,this.Eh=v|0,this.El=k|0,this.Fh=_|0,this.Fl=U|0,this.Gh=M|0,this.Gl=T|0,this.Hh=L|0,this.Hl=C|0}process(t,e){for(let O=0;O<16;O++,e+=4)er[O]=t.getUint32(e),rr[O]=t.getUint32(e+=4);for(let O=16;O<80;O++){const Z=er[O-15]|0,N=rr[O-15]|0,j=ht.rotrSH(Z,N,1)^ht.rotrSH(Z,N,8)^ht.shrSH(Z,N,7),K=ht.rotrSL(Z,N,1)^ht.rotrSL(Z,N,8)^ht.shrSL(Z,N,7),rt=er[O-2]|0,wt=rr[O-2]|0,zt=ht.rotrSH(rt,wt,19)^ht.rotrBH(rt,wt,61)^ht.shrSH(rt,wt,6),gt=ht.rotrSL(rt,wt,19)^ht.rotrBL(rt,wt,61)^ht.shrSL(rt,wt,6),Ut=ht.add4L(K,gt,rr[O-7],rr[O-16]),A=ht.add4H(Ut,j,zt,er[O-7],er[O-16]);er[O]=A|0,rr[O]=Ut|0}let{Ah:r,Al:s,Bh:o,Bl:c,Ch:u,Cl:g,Dh:v,Dl:k,Eh:_,El:U,Fh:M,Fl:T,Gh:L,Gl:C,Hh:D,Hl:H}=this;for(let O=0;O<80;O++){const Z=ht.rotrSH(_,U,14)^ht.rotrSH(_,U,18)^ht.rotrBH(_,U,41),N=ht.rotrSL(_,U,14)^ht.rotrSL(_,U,18)^ht.rotrBL(_,U,41),j=_&M^~_&L,K=U&T^~U&C,rt=ht.add5L(H,N,K,Dc[O],rr[O]),wt=ht.add5H(rt,D,Z,j,Nc[O],er[O]),zt=rt|0,gt=ht.rotrSH(r,s,28)^ht.rotrBH(r,s,34)^ht.rotrBH(r,s,39),Ut=ht.rotrSL(r,s,28)^ht.rotrBL(r,s,34)^ht.rotrBL(r,s,39),A=r&o^r&u^o&u,h=s&c^s&g^c&g;D=L|0,H=C|0,L=M|0,C=T|0,M=_|0,T=U|0,{h:_,l:U}=ht.add(v|0,k|0,wt|0,zt|0),v=u|0,k=g|0,u=o|0,g=c|0,o=r|0,c=s|0;const p=ht.add3L(zt,Ut,h);r=ht.add3H(p,wt,gt,A),s=p|0}({h:r,l:s}=ht.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:c}=ht.add(this.Bh|0,this.Bl|0,o|0,c|0),{h:u,l:g}=ht.add(this.Ch|0,this.Cl|0,u|0,g|0),{h:v,l:k}=ht.add(this.Dh|0,this.Dl|0,v|0,k|0),{h:_,l:U}=ht.add(this.Eh|0,this.El|0,_|0,U|0),{h:M,l:T}=ht.add(this.Fh|0,this.Fl|0,M|0,T|0),{h:L,l:C}=ht.add(this.Gh|0,this.Gl|0,L|0,C|0),{h:D,l:H}=ht.add(this.Hh|0,this.Hl|0,D|0,H|0),this.set(r,s,o,c,u,g,v,k,_,U,M,T,L,C,D,H)}roundClean(){er.fill(0),rr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Hc extends ti{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class qc extends ti{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class $c extends ti{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const zc=Br(()=>new ti);Br(()=>new Hc);Br(()=>new qc);Br(()=>new $c);const Kc={},lo=Object.freeze(Object.defineProperty({__proto__:null,default:Kc},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const xe=BigInt(0),bt=BigInt(1),ar=BigInt(2),Wc=BigInt(8),qo=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Lt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:qo,n:qo,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),Os=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Jr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const Gc=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),jc=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Vc=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Zc=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class mt{constructor(t,e,r,s){this.x=t,this.y=e,this.z=r,this.t=s}static fromAffine(t){if(!(t instanceof de))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(de.ZERO)?mt.ZERO:new mt(t.x,t.y,bt,q(t.x*t.y))}static toAffineBatch(t){const e=Jc(t.map(r=>r.z));return t.map((r,s)=>r.toAffine(e[s]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){zo(t);const{x:e,y:r,z:s}=this,{x:o,y:c,z:u}=t,g=q(e*u),v=q(o*s),k=q(r*u),_=q(c*s);return g===v&&k===_}negate(){return new mt(q(-this.x),this.y,this.z,q(-this.t))}double(){const{x:t,y:e,z:r}=this,{a:s}=Lt,o=q(t*t),c=q(e*e),u=q(ar*q(r*r)),g=q(s*o),v=t+e,k=q(q(v*v)-o-c),_=g+c,U=_-u,M=g-c,T=q(k*U),L=q(_*M),C=q(k*M),D=q(U*_);return new mt(T,L,D,C)}add(t){zo(t);const{x:e,y:r,z:s,t:o}=this,{x:c,y:u,z:g,t:v}=t,k=q((r-e)*(u+c)),_=q((r+e)*(u-c)),U=q(_-k);if(U===xe)return this.double();const M=q(s*ar*v),T=q(o*ar*g),L=T+M,C=_+k,D=T-M,H=q(L*U),O=q(C*D),Z=q(L*D),N=q(U*C);return new mt(H,O,N,Z)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,r=[];let s=this,o=s;for(let c=0;c<e;c++){o=s,r.push(o);for(let u=1;u<2**(t-1);u++)o=o.add(s),r.push(o);s=o.double()}return r}wNAF(t,e){!e&&this.equals(mt.BASE)&&(e=de.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=e&&Ji.get(e);s||(s=this.precomputeWindow(r),e&&r!==1&&(s=mt.normalizeZ(s),Ji.set(e,s)));let o=mt.ZERO,c=mt.BASE;const u=1+256/r,g=2**(r-1),v=BigInt(2**r-1),k=2**r,_=BigInt(r);for(let U=0;U<u;U++){const M=U*g;let T=Number(t&v);t>>=_,T>g&&(T-=k,t+=bt);const L=M,C=M+Math.abs(T)-1,D=U%2!==0,H=T<0;T===0?c=c.add($o(D,s[L])):o=o.add($o(H,s[C]))}return mt.normalizeZ([o,c])[0]}multiply(t,e){return this.wNAF(An(t,Lt.l),e)}multiplyUnsafe(t){let e=An(t,Lt.l,!1);const r=mt.BASE,s=mt.ZERO;if(e===xe)return s;if(this.equals(s)||e===bt)return this;if(this.equals(r))return this.wNAF(e);let o=s,c=this;for(;e>xe;)e&bt&&(o=o.add(c)),c=c.double(),e>>=bt;return o}isSmallOrder(){return this.multiplyUnsafe(Lt.h).equals(mt.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(Lt.l/ar).double();return Lt.l%ar&&(t=t.add(this)),t.equals(mt.ZERO)}toAffine(t){const{x:e,y:r,z:s}=this,o=this.equals(mt.ZERO);t==null&&(t=o?Wc:ei(s));const c=q(e*t),u=q(r*t),g=q(s*t);if(o)return de.ZERO;if(g!==bt)throw new Error("invZ was invalid");return new de(c,u)}fromRistrettoBytes(){Fi()}toRistrettoBytes(){Fi()}fromRistrettoHash(){Fi()}}mt.BASE=new mt(Lt.Gx,Lt.Gy,bt,q(Lt.Gx*Lt.Gy));mt.ZERO=new mt(xe,bt,bt,xe);function $o(n,t){const e=t.negate();return n?e:t}function zo(n){if(!(n instanceof mt))throw new TypeError("ExtendedPoint expected")}function Ci(n){if(!(n instanceof De))throw new TypeError("RistrettoPoint expected")}function Fi(){throw new Error("Legacy method: switch to RistrettoPoint")}class De{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=Lt,r=q(Jr*t*t),s=q((r+bt)*Vc);let o=BigInt(-1);const c=q((o-e*r)*q(r+e));let{isValid:u,value:g}=go(s,c),v=q(g*t);sr(v)||(v=q(-v)),u||(g=v),u||(o=r);const k=q(o*(r-bt)*Zc-c),_=g*g,U=q((g+g)*c),M=q(k*Gc),T=q(bt-_),L=q(bt+_);return new mt(q(U*L),q(T*M),q(M*L),q(U*T))}static hashToCurve(t){t=dr(t,64);const e=Oi(t.slice(0,32)),r=this.calcElligatorRistrettoMap(e),s=Oi(t.slice(32,64)),o=this.calcElligatorRistrettoMap(s);return new De(r.add(o))}static fromHex(t){t=dr(t,32);const{a:e,d:r}=Lt,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=Oi(t);if(!tu(en(o),t)||sr(o))throw new Error(s);const c=q(o*o),u=q(bt+e*c),g=q(bt-e*c),v=q(u*u),k=q(g*g),_=q(e*r*v-k),{isValid:U,value:M}=Wo(q(_*k)),T=q(M*g),L=q(M*T*_);let C=q((o+o)*T);sr(C)&&(C=q(-C));const D=q(u*L),H=q(C*D);if(!U||sr(H)||D===xe)throw new Error(s);return new De(new mt(C,D,bt,H))}toRawBytes(){let{x:t,y:e,z:r,t:s}=this.ep;const o=q(q(r+e)*q(r-e)),c=q(t*e),u=q(c*c),{value:g}=Wo(q(o*u)),v=q(g*o),k=q(g*c),_=q(v*k*s);let U;if(sr(s*_)){let T=q(e*Jr),L=q(t*Jr);t=T,e=L,U=q(v*jc)}else U=k;sr(t*_)&&(e=q(-e));let M=q((r-e)*U);return sr(M)&&(M=q(-M)),en(M)}toHex(){return un(this.toRawBytes())}toString(){return this.toHex()}equals(t){Ci(t);const e=this.ep,r=t.ep,s=q(e.x*r.y)===q(e.y*r.x),o=q(e.y*r.y)===q(e.x*r.x);return s||o}add(t){return Ci(t),new De(this.ep.add(t.ep))}subtract(t){return Ci(t),new De(this.ep.subtract(t.ep))}multiply(t){return new De(this.ep.multiply(t))}multiplyUnsafe(t){return new De(this.ep.multiplyUnsafe(t))}}De.BASE=new De(mt.BASE);De.ZERO=new De(mt.ZERO);const Ji=new WeakMap;let de=class Qi{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Ji.delete(this)}static fromHex(t,e=!0){const{d:r,P:s}=Lt;t=dr(t,32);const o=t.slice();o[31]=t[31]&-129;const c=fn(o);if(e&&c>=s)throw new Error("Expected 0 < hex < P");if(!e&&c>=Os)throw new Error("Expected 0 < hex < 2**256");const u=q(c*c),g=q(u-bt),v=q(r*u+bt);let{isValid:k,value:_}=go(g,v);if(!k)throw new Error("Point.fromHex: invalid y coordinate");const U=(_&bt)===bt;return(t[31]&128)!==0!==U&&(_=q(-_)),new Qi(_,c)}static async fromPrivateKey(t){return(await qs(t)).point}toRawBytes(){const t=en(this.y);return t[31]|=this.x&bt?128:0,t}toHex(){return un(this.toRawBytes())}toX25519(){const{y:t}=this,e=q((bt+t)*ei(bt-t));return en(e)}isTorsionFree(){return mt.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Qi(q(-this.x),this.y)}add(t){return mt.fromAffine(this).add(mt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return mt.fromAffine(this).multiply(t,this).toAffine()}};de.BASE=new de(Lt.Gx,Lt.Gy);de.ZERO=new de(xe,bt);let to=class Ps{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=dr(t,64),r=de.fromHex(e.slice(0,32),!1),s=fn(e.slice(32,64));return new Ps(r,s)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof de))throw new Error("Expected Point instance");return An(e,Lt.l,!1),this}toRawBytes(){const t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(en(this.s),32),t}toHex(){return un(this.toRawBytes())}};function Ko(...n){if(!n.every(r=>r instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(n.length===1)return n[0];const t=n.reduce((r,s)=>r+s.length,0),e=new Uint8Array(t);for(let r=0,s=0;r<n.length;r++){const o=n[r];e.set(o,s),s+=o.length}return e}const Xc=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function un(n){if(!(n instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let e=0;e<n.length;e++)t+=Xc[n[e]];return t}function po(n){if(typeof n!="string")throw new TypeError("hexToBytes: expected string, got "+typeof n);if(n.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(n.length/2);for(let e=0;e<t.length;e++){const r=e*2,s=n.slice(r,r+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[e]=o}return t}function Ns(n){const e=n.toString(16).padStart(64,"0");return po(e)}function en(n){return Ns(n).reverse()}function sr(n){return(q(n)&bt)===bt}function fn(n){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+un(Uint8Array.from(n).reverse()))}const Yc=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Oi(n){return q(fn(n)&Yc)}function q(n,t=Lt.P){const e=n%t;return e>=xe?e:t+e}function ei(n,t=Lt.P){if(n===xe||t<=xe)throw new Error(`invert: expected positive integers, got n=${n} mod=${t}`);let e=q(n,t),r=t,s=xe,o=bt;for(;e!==xe;){const u=r/e,g=r%e,v=s-o*u;r=e,e=g,s=o,o=v}if(r!==bt)throw new Error("invert: does not exist");return q(s,t)}function Jc(n,t=Lt.P){const e=new Array(n.length),r=n.reduce((o,c,u)=>c===xe?o:(e[u]=o,q(o*c,t)),bt),s=ei(r,t);return n.reduceRight((o,c,u)=>c===xe?o:(e[u]=q(o*e[u],t),q(o*c,t)),s),e}function We(n,t){const{P:e}=Lt;let r=n;for(;t-- >xe;)r*=r,r%=e;return r}function Qc(n){const{P:t}=Lt,e=BigInt(5),r=BigInt(10),s=BigInt(20),o=BigInt(40),c=BigInt(80),g=n*n%t*n%t,v=We(g,ar)*g%t,k=We(v,bt)*n%t,_=We(k,e)*k%t,U=We(_,r)*_%t,M=We(U,s)*U%t,T=We(M,o)*M%t,L=We(T,c)*T%t,C=We(L,c)*T%t,D=We(C,r)*_%t;return{pow_p_5_8:We(D,ar)*n%t,b2:g}}function go(n,t){const e=q(t*t*t),r=q(e*e*t),s=Qc(n*r).pow_p_5_8;let o=q(n*e*s);const c=q(t*o*o),u=o,g=q(o*Jr),v=c===n,k=c===q(-n),_=c===q(-n*Jr);return v&&(o=u),(k||_)&&(o=g),sr(o)&&(o=q(-o)),{isValid:v||k,value:o}}function Wo(n){return go(bt,n)}function _n(n){return q(fn(n),Lt.l)}function tu(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function dr(n,t){const e=n instanceof Uint8Array?Uint8Array.from(n):po(n);if(typeof t=="number"&&e.length!==t)throw new Error(`Expected ${t} bytes`);return e}function An(n,t,e=!0){if(!t)throw new TypeError("Specify max value");if(typeof n=="number"&&Number.isSafeInteger(n)&&(n=BigInt(n)),typeof n=="bigint"&&n<t){if(e){if(xe<n)return n}else if(xe<=n)return n}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function eu(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Ds(n){if(n=typeof n=="bigint"||typeof n=="number"?Ns(An(n,Os)):dr(n),n.length!==32)throw new Error("Expected 32 bytes");return n}function Hs(n){const t=eu(n.slice(0,32)),e=n.slice(32,64),r=_n(t),s=de.BASE.multiply(r),o=s.toRawBytes();return{head:t,prefix:e,scalar:r,point:s,pointBytes:o}}let Qr;function In(...n){if(typeof Qr!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Qr(...n)}async function qs(n){return Hs(await Nr.sha512(Ds(n)))}function yo(n){return Hs(In(Ds(n)))}function ru(n){return yo(n).pointBytes}function nu(n,t){n=dr(n);const{prefix:e,scalar:r,pointBytes:s}=yo(t),o=_n(In(e,n)),c=de.BASE.multiply(o),u=_n(In(c.toRawBytes(),s,n)),g=q(o+u*r,Lt.l);return new to(c,g).toRawBytes()}function iu(n,t,e){t=dr(t),e instanceof de||(e=de.fromHex(e,!1));const{r,s}=n instanceof to?n.assertValidity():to.fromHex(n),o=mt.BASE.multiplyUnsafe(s);return{r,s,SB:o,pub:e,msg:t}}function ou(n,t,e,r){const s=_n(r),o=mt.fromAffine(n).multiplyUnsafe(s);return mt.fromAffine(t).add(o).subtract(e).multiplyUnsafe(Lt.h).equals(mt.ZERO)}function su(n,t,e){const{r,SB:s,msg:o,pub:c}=iu(n,t,e),u=In(r.toRawBytes(),c.toRawBytes(),o);return ou(c,r,s,u)}const $s={getExtendedPublicKey:yo,getPublicKey:ru,sign:nu,verify:su};de.BASE._setWindowSize(8);const nr={node:lo,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Nr={bytesToHex:un,hexToBytes:po,concatBytes:Ko,getExtendedPublicKey:qs,mod:q,invert:ei,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:n=>{if(n=dr(n),n.length<40||n.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return q(fn(n),Lt.l-bt)+bt},randomBytes:(n=32)=>{if(nr.web)return nr.web.getRandomValues(new Uint8Array(n));if(nr.node){const{randomBytes:t}=nr.node;return new Uint8Array(t(n).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Nr.randomBytes(32),sha512:async(...n)=>{const t=Ko(...n);if(nr.web){const e=await nr.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(nr.node)return Uint8Array.from(nr.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(n=8,t=de.BASE){const e=t.equals(de.BASE)?t:new de(t.x,t.y);return e._setWindowSize(n),e.multiply(ar),e},sha512Sync:void 0};Object.defineProperties(Nr,{sha512Sync:{configurable:!1,get(){return Qr},set(n){Qr||(Qr=n)}}});var rn={},au={get exports(){return rn},set exports(n){rn=n}};const cu=fo(lo);(function(n){(function(t,e){function r(A,h){if(!A)throw new Error(h||"Assertion failed")}function s(A,h){A.super_=h;var p=function(){};p.prototype=h.prototype,A.prototype=new p,A.prototype.constructor=A}function o(A,h,p){if(o.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((h==="le"||h==="be")&&(p=h,h=10),this._init(A||0,h||10,p||"be"))}typeof t=="object"?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=cu.Buffer}catch{}o.isBN=function(h){return h instanceof o?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===o.wordSize&&Array.isArray(h.words)},o.max=function(h,p){return h.cmp(p)>0?h:p},o.min=function(h,p){return h.cmp(p)<0?h:p},o.prototype._init=function(h,p,y){if(typeof h=="number")return this._initNumber(h,p,y);if(typeof h=="object")return this._initArray(h,p,y);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),h=h.toString().replace(/\s+/g,"");var m=0;h[0]==="-"&&(m++,this.negative=1),m<h.length&&(p===16?this._parseHex(h,m,y):(this._parseBase(h,p,m),y==="le"&&this._initArray(this.toArray(),p,y)))},o.prototype._initNumber=function(h,p,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),p,y)},o.prototype._initArray=function(h,p,y){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var E,I,R=0;if(y==="be")for(m=h.length-1,E=0;m>=0;m-=3)I=h[m]|h[m-1]<<8|h[m-2]<<16,this.words[E]|=I<<R&67108863,this.words[E+1]=I>>>26-R&67108863,R+=24,R>=26&&(R-=26,E++);else if(y==="le")for(m=0,E=0;m<h.length;m+=3)I=h[m]|h[m+1]<<8|h[m+2]<<16,this.words[E]|=I<<R&67108863,this.words[E+1]=I>>>26-R&67108863,R+=24,R>=26&&(R-=26,E++);return this._strip()};function u(A,h){var p=A.charCodeAt(h);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;r(!1,"Invalid character in "+A)}function g(A,h,p){var y=u(A,p);return p-1>=h&&(y|=u(A,p-1)<<4),y}o.prototype._parseHex=function(h,p,y){this.length=Math.ceil((h.length-p)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var E=0,I=0,R;if(y==="be")for(m=h.length-1;m>=p;m-=2)R=g(h,p,m)<<E,this.words[I]|=R&67108863,E>=18?(E-=18,I+=1,this.words[I]|=R>>>26):E+=8;else{var b=h.length-p;for(m=b%2===0?p+1:p;m<h.length;m+=2)R=g(h,p,m)<<E,this.words[I]|=R&67108863,E>=18?(E-=18,I+=1,this.words[I]|=R>>>26):E+=8}this._strip()};function v(A,h,p,y){for(var m=0,E=0,I=Math.min(A.length,p),R=h;R<I;R++){var b=A.charCodeAt(R)-48;m*=y,b>=49?E=b-49+10:b>=17?E=b-17+10:E=b,r(b>=0&&E<y,"Invalid character"),m+=E}return m}o.prototype._parseBase=function(h,p,y){this.words=[0],this.length=1;for(var m=0,E=1;E<=67108863;E*=p)m++;m--,E=E/p|0;for(var I=h.length-y,R=I%m,b=Math.min(I,I-R)+y,d=0,B=y;B<b;B+=m)d=v(h,B,B+m,p),this.imuln(E),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(R!==0){var nt=1;for(d=v(h,B,h.length,p),B=0;B<R;B++)nt*=p;this.imuln(nt),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},o.prototype.copy=function(h){h.words=new Array(this.length);for(var p=0;p<this.length;p++)h.words[p]=this.words[p];h.length=this.length,h.negative=this.negative,h.red=this.red};function k(A,h){A.words=h.words,A.length=h.length,A.negative=h.negative,A.red=h.red}if(o.prototype._move=function(h){k(h,this)},o.prototype.clone=function(){var h=new o(null);return this.copy(h),h},o.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{o.prototype.inspect=_}else o.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(h,p){h=h||10,p=p|0||1;var y;if(h===16||h==="hex"){y="";for(var m=0,E=0,I=0;I<this.length;I++){var R=this.words[I],b=((R<<m|E)&16777215).toString(16);E=R>>>24-m&16777215,m+=2,m>=26&&(m-=26,I--),E!==0||I!==this.length-1?y=U[6-b.length]+b+y:y=b+y}for(E!==0&&(y=E.toString(16)+y);y.length%p!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(h===(h|0)&&h>=2&&h<=36){var d=M[h],B=T[h];y="";var nt=this.clone();for(nt.negative=0;!nt.isZero();){var tt=nt.modrn(B).toString(h);nt=nt.idivn(B),nt.isZero()?y=tt+y:y=U[d-tt.length]+tt+y}for(this.isZero()&&(y="0"+y);y.length%p!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},o.prototype.toJSON=function(){return this.toString(16,2)},c&&(o.prototype.toBuffer=function(h,p){return this.toArrayLike(c,h,p)}),o.prototype.toArray=function(h,p){return this.toArrayLike(Array,h,p)};var L=function(h,p){return h.allocUnsafe?h.allocUnsafe(p):new h(p)};o.prototype.toArrayLike=function(h,p,y){this._strip();var m=this.byteLength(),E=y||Math.max(1,m);r(m<=E,"byte array longer than desired length"),r(E>0,"Requested array length <= 0");var I=L(h,E),R=p==="le"?"LE":"BE";return this["_toArrayLike"+R](I,m),I},o.prototype._toArrayLikeLE=function(h,p){for(var y=0,m=0,E=0,I=0;E<this.length;E++){var R=this.words[E]<<I|m;h[y++]=R&255,y<h.length&&(h[y++]=R>>8&255),y<h.length&&(h[y++]=R>>16&255),I===6?(y<h.length&&(h[y++]=R>>24&255),m=0,I=0):(m=R>>>24,I+=2)}if(y<h.length)for(h[y++]=m;y<h.length;)h[y++]=0},o.prototype._toArrayLikeBE=function(h,p){for(var y=h.length-1,m=0,E=0,I=0;E<this.length;E++){var R=this.words[E]<<I|m;h[y--]=R&255,y>=0&&(h[y--]=R>>8&255),y>=0&&(h[y--]=R>>16&255),I===6?(y>=0&&(h[y--]=R>>24&255),m=0,I=0):(m=R>>>24,I+=2)}if(y>=0)for(h[y--]=m;y>=0;)h[y--]=0},Math.clz32?o.prototype._countBits=function(h){return 32-Math.clz32(h)}:o.prototype._countBits=function(h){var p=h,y=0;return p>=4096&&(y+=13,p>>>=13),p>=64&&(y+=7,p>>>=7),p>=8&&(y+=4,p>>>=4),p>=2&&(y+=2,p>>>=2),y+p},o.prototype._zeroBits=function(h){if(h===0)return 26;var p=h,y=0;return p&8191||(y+=13,p>>>=13),p&127||(y+=7,p>>>=7),p&15||(y+=4,p>>>=4),p&3||(y+=2,p>>>=2),p&1||y++,y},o.prototype.bitLength=function(){var h=this.words[this.length-1],p=this._countBits(h);return(this.length-1)*26+p};function C(A){for(var h=new Array(A.bitLength()),p=0;p<h.length;p++){var y=p/26|0,m=p%26;h[p]=A.words[y]>>>m&1}return h}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,p=0;p<this.length;p++){var y=this._zeroBits(this.words[p]);if(h+=y,y!==26)break}return h},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},o.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]|h.words[p];return this._strip()},o.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},o.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},o.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},o.prototype.iuand=function(h){var p;this.length>h.length?p=h:p=this;for(var y=0;y<p.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=p.length,this._strip()},o.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},o.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},o.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},o.prototype.iuxor=function(h){var p,y;this.length>h.length?(p=this,y=h):(p=h,y=this);for(var m=0;m<y.length;m++)this.words[m]=p.words[m]^y.words[m];if(this!==p)for(;m<p.length;m++)this.words[m]=p.words[m];return this.length=p.length,this._strip()},o.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},o.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},o.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},o.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var p=Math.ceil(h/26)|0,y=h%26;this._expand(p),y>0&&p--;for(var m=0;m<p;m++)this.words[m]=~this.words[m]&67108863;return y>0&&(this.words[m]=~this.words[m]&67108863>>26-y),this._strip()},o.prototype.notn=function(h){return this.clone().inotn(h)},o.prototype.setn=function(h,p){r(typeof h=="number"&&h>=0);var y=h/26|0,m=h%26;return this._expand(y+1),p?this.words[y]=this.words[y]|1<<m:this.words[y]=this.words[y]&~(1<<m),this._strip()},o.prototype.iadd=function(h){var p;if(this.negative!==0&&h.negative===0)return this.negative=0,p=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,p=this.isub(h),h.negative=1,p._normSign();var y,m;this.length>h.length?(y=this,m=h):(y=h,m=this);for(var E=0,I=0;I<m.length;I++)p=(y.words[I]|0)+(m.words[I]|0)+E,this.words[I]=p&67108863,E=p>>>26;for(;E!==0&&I<y.length;I++)p=(y.words[I]|0)+E,this.words[I]=p&67108863,E=p>>>26;if(this.length=y.length,E!==0)this.words[this.length]=E,this.length++;else if(y!==this)for(;I<y.length;I++)this.words[I]=y.words[I];return this},o.prototype.add=function(h){var p;return h.negative!==0&&this.negative===0?(h.negative=0,p=this.sub(h),h.negative^=1,p):h.negative===0&&this.negative!==0?(this.negative=0,p=h.sub(this),this.negative=1,p):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},o.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var p=this.iadd(h);return h.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var y=this.cmp(h);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,E;y>0?(m=this,E=h):(m=h,E=this);for(var I=0,R=0;R<E.length;R++)p=(m.words[R]|0)-(E.words[R]|0)+I,I=p>>26,this.words[R]=p&67108863;for(;I!==0&&R<m.length;R++)p=(m.words[R]|0)+I,I=p>>26,this.words[R]=p&67108863;if(I===0&&R<m.length&&m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this.length=Math.max(this.length,R),m!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(h){return this.clone().isub(h)};function D(A,h,p){p.negative=h.negative^A.negative;var y=A.length+h.length|0;p.length=y,y=y-1|0;var m=A.words[0]|0,E=h.words[0]|0,I=m*E,R=I&67108863,b=I/67108864|0;p.words[0]=R;for(var d=1;d<y;d++){for(var B=b>>>26,nt=b&67108863,tt=Math.min(d,h.length-1),ot=Math.max(0,d-A.length+1);ot<=tt;ot++){var Kt=d-ot|0;m=A.words[Kt]|0,E=h.words[ot]|0,I=m*E+nt,B+=I/67108864|0,nt=I&67108863}p.words[d]=nt|0,b=B|0}return b!==0?p.words[d]=b|0:p.length--,p._strip()}var H=function(h,p,y){var m=h.words,E=p.words,I=y.words,R=0,b,d,B,nt=m[0]|0,tt=nt&8191,ot=nt>>>13,Kt=m[1]|0,dt=Kt&8191,Et=Kt>>>13,tr=m[2]|0,Ct=tr&8191,Mt=tr>>>13,ve=m[3]|0,xt=ve&8191,Ft=ve>>>13,kr=m[4]|0,kt=kr&8191,Ot=kr>>>13,Rr=m[5]|0,Tt=Rr&8191,_t=Rr>>>13,Pt=m[6]|0,Rt=Pt&8191,Nt=Pt>>>13,jt=m[7]|0,Dt=jt&8191,f=jt>>>13,i=m[8]|0,a=i&8191,l=i>>>13,w=m[9]|0,x=w&8191,S=w>>>13,W=E[0]|0,Q=W&8191,J=W>>>13,ft=E[1]|0,V=ft&8191,Vt=ft>>>13,Lo=E[2]|0,Zt=Lo&8191,Xt=Lo>>>13,Co=E[3]|0,Yt=Co&8191,Jt=Co>>>13,Fo=E[4]|0,Qt=Fo&8191,te=Fo>>>13,Oo=E[5]|0,ee=Oo&8191,re=Oo>>>13,Po=E[6]|0,ne=Po&8191,ie=Po>>>13,No=E[7]|0,oe=No&8191,se=No>>>13,Do=E[8]|0,ae=Do&8191,ce=Do>>>13,Ho=E[9]|0,ue=Ho&8191,fe=Ho>>>13;y.negative=h.negative^p.negative,y.length=19,b=Math.imul(tt,Q),d=Math.imul(tt,J),d=d+Math.imul(ot,Q)|0,B=Math.imul(ot,J);var di=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(di>>>26)|0,di&=67108863,b=Math.imul(dt,Q),d=Math.imul(dt,J),d=d+Math.imul(Et,Q)|0,B=Math.imul(Et,J),b=b+Math.imul(tt,V)|0,d=d+Math.imul(tt,Vt)|0,d=d+Math.imul(ot,V)|0,B=B+Math.imul(ot,Vt)|0;var pi=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(pi>>>26)|0,pi&=67108863,b=Math.imul(Ct,Q),d=Math.imul(Ct,J),d=d+Math.imul(Mt,Q)|0,B=Math.imul(Mt,J),b=b+Math.imul(dt,V)|0,d=d+Math.imul(dt,Vt)|0,d=d+Math.imul(Et,V)|0,B=B+Math.imul(Et,Vt)|0,b=b+Math.imul(tt,Zt)|0,d=d+Math.imul(tt,Xt)|0,d=d+Math.imul(ot,Zt)|0,B=B+Math.imul(ot,Xt)|0;var gi=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(gi>>>26)|0,gi&=67108863,b=Math.imul(xt,Q),d=Math.imul(xt,J),d=d+Math.imul(Ft,Q)|0,B=Math.imul(Ft,J),b=b+Math.imul(Ct,V)|0,d=d+Math.imul(Ct,Vt)|0,d=d+Math.imul(Mt,V)|0,B=B+Math.imul(Mt,Vt)|0,b=b+Math.imul(dt,Zt)|0,d=d+Math.imul(dt,Xt)|0,d=d+Math.imul(Et,Zt)|0,B=B+Math.imul(Et,Xt)|0,b=b+Math.imul(tt,Yt)|0,d=d+Math.imul(tt,Jt)|0,d=d+Math.imul(ot,Yt)|0,B=B+Math.imul(ot,Jt)|0;var yi=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(yi>>>26)|0,yi&=67108863,b=Math.imul(kt,Q),d=Math.imul(kt,J),d=d+Math.imul(Ot,Q)|0,B=Math.imul(Ot,J),b=b+Math.imul(xt,V)|0,d=d+Math.imul(xt,Vt)|0,d=d+Math.imul(Ft,V)|0,B=B+Math.imul(Ft,Vt)|0,b=b+Math.imul(Ct,Zt)|0,d=d+Math.imul(Ct,Xt)|0,d=d+Math.imul(Mt,Zt)|0,B=B+Math.imul(Mt,Xt)|0,b=b+Math.imul(dt,Yt)|0,d=d+Math.imul(dt,Jt)|0,d=d+Math.imul(Et,Yt)|0,B=B+Math.imul(Et,Jt)|0,b=b+Math.imul(tt,Qt)|0,d=d+Math.imul(tt,te)|0,d=d+Math.imul(ot,Qt)|0,B=B+Math.imul(ot,te)|0;var wi=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(wi>>>26)|0,wi&=67108863,b=Math.imul(Tt,Q),d=Math.imul(Tt,J),d=d+Math.imul(_t,Q)|0,B=Math.imul(_t,J),b=b+Math.imul(kt,V)|0,d=d+Math.imul(kt,Vt)|0,d=d+Math.imul(Ot,V)|0,B=B+Math.imul(Ot,Vt)|0,b=b+Math.imul(xt,Zt)|0,d=d+Math.imul(xt,Xt)|0,d=d+Math.imul(Ft,Zt)|0,B=B+Math.imul(Ft,Xt)|0,b=b+Math.imul(Ct,Yt)|0,d=d+Math.imul(Ct,Jt)|0,d=d+Math.imul(Mt,Yt)|0,B=B+Math.imul(Mt,Jt)|0,b=b+Math.imul(dt,Qt)|0,d=d+Math.imul(dt,te)|0,d=d+Math.imul(Et,Qt)|0,B=B+Math.imul(Et,te)|0,b=b+Math.imul(tt,ee)|0,d=d+Math.imul(tt,re)|0,d=d+Math.imul(ot,ee)|0,B=B+Math.imul(ot,re)|0;var mi=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(mi>>>26)|0,mi&=67108863,b=Math.imul(Rt,Q),d=Math.imul(Rt,J),d=d+Math.imul(Nt,Q)|0,B=Math.imul(Nt,J),b=b+Math.imul(Tt,V)|0,d=d+Math.imul(Tt,Vt)|0,d=d+Math.imul(_t,V)|0,B=B+Math.imul(_t,Vt)|0,b=b+Math.imul(kt,Zt)|0,d=d+Math.imul(kt,Xt)|0,d=d+Math.imul(Ot,Zt)|0,B=B+Math.imul(Ot,Xt)|0,b=b+Math.imul(xt,Yt)|0,d=d+Math.imul(xt,Jt)|0,d=d+Math.imul(Ft,Yt)|0,B=B+Math.imul(Ft,Jt)|0,b=b+Math.imul(Ct,Qt)|0,d=d+Math.imul(Ct,te)|0,d=d+Math.imul(Mt,Qt)|0,B=B+Math.imul(Mt,te)|0,b=b+Math.imul(dt,ee)|0,d=d+Math.imul(dt,re)|0,d=d+Math.imul(Et,ee)|0,B=B+Math.imul(Et,re)|0,b=b+Math.imul(tt,ne)|0,d=d+Math.imul(tt,ie)|0,d=d+Math.imul(ot,ne)|0,B=B+Math.imul(ot,ie)|0;var bi=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(bi>>>26)|0,bi&=67108863,b=Math.imul(Dt,Q),d=Math.imul(Dt,J),d=d+Math.imul(f,Q)|0,B=Math.imul(f,J),b=b+Math.imul(Rt,V)|0,d=d+Math.imul(Rt,Vt)|0,d=d+Math.imul(Nt,V)|0,B=B+Math.imul(Nt,Vt)|0,b=b+Math.imul(Tt,Zt)|0,d=d+Math.imul(Tt,Xt)|0,d=d+Math.imul(_t,Zt)|0,B=B+Math.imul(_t,Xt)|0,b=b+Math.imul(kt,Yt)|0,d=d+Math.imul(kt,Jt)|0,d=d+Math.imul(Ot,Yt)|0,B=B+Math.imul(Ot,Jt)|0,b=b+Math.imul(xt,Qt)|0,d=d+Math.imul(xt,te)|0,d=d+Math.imul(Ft,Qt)|0,B=B+Math.imul(Ft,te)|0,b=b+Math.imul(Ct,ee)|0,d=d+Math.imul(Ct,re)|0,d=d+Math.imul(Mt,ee)|0,B=B+Math.imul(Mt,re)|0,b=b+Math.imul(dt,ne)|0,d=d+Math.imul(dt,ie)|0,d=d+Math.imul(Et,ne)|0,B=B+Math.imul(Et,ie)|0,b=b+Math.imul(tt,oe)|0,d=d+Math.imul(tt,se)|0,d=d+Math.imul(ot,oe)|0,B=B+Math.imul(ot,se)|0;var xi=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(xi>>>26)|0,xi&=67108863,b=Math.imul(a,Q),d=Math.imul(a,J),d=d+Math.imul(l,Q)|0,B=Math.imul(l,J),b=b+Math.imul(Dt,V)|0,d=d+Math.imul(Dt,Vt)|0,d=d+Math.imul(f,V)|0,B=B+Math.imul(f,Vt)|0,b=b+Math.imul(Rt,Zt)|0,d=d+Math.imul(Rt,Xt)|0,d=d+Math.imul(Nt,Zt)|0,B=B+Math.imul(Nt,Xt)|0,b=b+Math.imul(Tt,Yt)|0,d=d+Math.imul(Tt,Jt)|0,d=d+Math.imul(_t,Yt)|0,B=B+Math.imul(_t,Jt)|0,b=b+Math.imul(kt,Qt)|0,d=d+Math.imul(kt,te)|0,d=d+Math.imul(Ot,Qt)|0,B=B+Math.imul(Ot,te)|0,b=b+Math.imul(xt,ee)|0,d=d+Math.imul(xt,re)|0,d=d+Math.imul(Ft,ee)|0,B=B+Math.imul(Ft,re)|0,b=b+Math.imul(Ct,ne)|0,d=d+Math.imul(Ct,ie)|0,d=d+Math.imul(Mt,ne)|0,B=B+Math.imul(Mt,ie)|0,b=b+Math.imul(dt,oe)|0,d=d+Math.imul(dt,se)|0,d=d+Math.imul(Et,oe)|0,B=B+Math.imul(Et,se)|0,b=b+Math.imul(tt,ae)|0,d=d+Math.imul(tt,ce)|0,d=d+Math.imul(ot,ae)|0,B=B+Math.imul(ot,ce)|0;var vi=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(vi>>>26)|0,vi&=67108863,b=Math.imul(x,Q),d=Math.imul(x,J),d=d+Math.imul(S,Q)|0,B=Math.imul(S,J),b=b+Math.imul(a,V)|0,d=d+Math.imul(a,Vt)|0,d=d+Math.imul(l,V)|0,B=B+Math.imul(l,Vt)|0,b=b+Math.imul(Dt,Zt)|0,d=d+Math.imul(Dt,Xt)|0,d=d+Math.imul(f,Zt)|0,B=B+Math.imul(f,Xt)|0,b=b+Math.imul(Rt,Yt)|0,d=d+Math.imul(Rt,Jt)|0,d=d+Math.imul(Nt,Yt)|0,B=B+Math.imul(Nt,Jt)|0,b=b+Math.imul(Tt,Qt)|0,d=d+Math.imul(Tt,te)|0,d=d+Math.imul(_t,Qt)|0,B=B+Math.imul(_t,te)|0,b=b+Math.imul(kt,ee)|0,d=d+Math.imul(kt,re)|0,d=d+Math.imul(Ot,ee)|0,B=B+Math.imul(Ot,re)|0,b=b+Math.imul(xt,ne)|0,d=d+Math.imul(xt,ie)|0,d=d+Math.imul(Ft,ne)|0,B=B+Math.imul(Ft,ie)|0,b=b+Math.imul(Ct,oe)|0,d=d+Math.imul(Ct,se)|0,d=d+Math.imul(Mt,oe)|0,B=B+Math.imul(Mt,se)|0,b=b+Math.imul(dt,ae)|0,d=d+Math.imul(dt,ce)|0,d=d+Math.imul(Et,ae)|0,B=B+Math.imul(Et,ce)|0,b=b+Math.imul(tt,ue)|0,d=d+Math.imul(tt,fe)|0,d=d+Math.imul(ot,ue)|0,B=B+Math.imul(ot,fe)|0;var Ei=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,b=Math.imul(x,V),d=Math.imul(x,Vt),d=d+Math.imul(S,V)|0,B=Math.imul(S,Vt),b=b+Math.imul(a,Zt)|0,d=d+Math.imul(a,Xt)|0,d=d+Math.imul(l,Zt)|0,B=B+Math.imul(l,Xt)|0,b=b+Math.imul(Dt,Yt)|0,d=d+Math.imul(Dt,Jt)|0,d=d+Math.imul(f,Yt)|0,B=B+Math.imul(f,Jt)|0,b=b+Math.imul(Rt,Qt)|0,d=d+Math.imul(Rt,te)|0,d=d+Math.imul(Nt,Qt)|0,B=B+Math.imul(Nt,te)|0,b=b+Math.imul(Tt,ee)|0,d=d+Math.imul(Tt,re)|0,d=d+Math.imul(_t,ee)|0,B=B+Math.imul(_t,re)|0,b=b+Math.imul(kt,ne)|0,d=d+Math.imul(kt,ie)|0,d=d+Math.imul(Ot,ne)|0,B=B+Math.imul(Ot,ie)|0,b=b+Math.imul(xt,oe)|0,d=d+Math.imul(xt,se)|0,d=d+Math.imul(Ft,oe)|0,B=B+Math.imul(Ft,se)|0,b=b+Math.imul(Ct,ae)|0,d=d+Math.imul(Ct,ce)|0,d=d+Math.imul(Mt,ae)|0,B=B+Math.imul(Mt,ce)|0,b=b+Math.imul(dt,ue)|0,d=d+Math.imul(dt,fe)|0,d=d+Math.imul(Et,ue)|0,B=B+Math.imul(Et,fe)|0;var Bi=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,b=Math.imul(x,Zt),d=Math.imul(x,Xt),d=d+Math.imul(S,Zt)|0,B=Math.imul(S,Xt),b=b+Math.imul(a,Yt)|0,d=d+Math.imul(a,Jt)|0,d=d+Math.imul(l,Yt)|0,B=B+Math.imul(l,Jt)|0,b=b+Math.imul(Dt,Qt)|0,d=d+Math.imul(Dt,te)|0,d=d+Math.imul(f,Qt)|0,B=B+Math.imul(f,te)|0,b=b+Math.imul(Rt,ee)|0,d=d+Math.imul(Rt,re)|0,d=d+Math.imul(Nt,ee)|0,B=B+Math.imul(Nt,re)|0,b=b+Math.imul(Tt,ne)|0,d=d+Math.imul(Tt,ie)|0,d=d+Math.imul(_t,ne)|0,B=B+Math.imul(_t,ie)|0,b=b+Math.imul(kt,oe)|0,d=d+Math.imul(kt,se)|0,d=d+Math.imul(Ot,oe)|0,B=B+Math.imul(Ot,se)|0,b=b+Math.imul(xt,ae)|0,d=d+Math.imul(xt,ce)|0,d=d+Math.imul(Ft,ae)|0,B=B+Math.imul(Ft,ce)|0,b=b+Math.imul(Ct,ue)|0,d=d+Math.imul(Ct,fe)|0,d=d+Math.imul(Mt,ue)|0,B=B+Math.imul(Mt,fe)|0;var Si=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(Si>>>26)|0,Si&=67108863,b=Math.imul(x,Yt),d=Math.imul(x,Jt),d=d+Math.imul(S,Yt)|0,B=Math.imul(S,Jt),b=b+Math.imul(a,Qt)|0,d=d+Math.imul(a,te)|0,d=d+Math.imul(l,Qt)|0,B=B+Math.imul(l,te)|0,b=b+Math.imul(Dt,ee)|0,d=d+Math.imul(Dt,re)|0,d=d+Math.imul(f,ee)|0,B=B+Math.imul(f,re)|0,b=b+Math.imul(Rt,ne)|0,d=d+Math.imul(Rt,ie)|0,d=d+Math.imul(Nt,ne)|0,B=B+Math.imul(Nt,ie)|0,b=b+Math.imul(Tt,oe)|0,d=d+Math.imul(Tt,se)|0,d=d+Math.imul(_t,oe)|0,B=B+Math.imul(_t,se)|0,b=b+Math.imul(kt,ae)|0,d=d+Math.imul(kt,ce)|0,d=d+Math.imul(Ot,ae)|0,B=B+Math.imul(Ot,ce)|0,b=b+Math.imul(xt,ue)|0,d=d+Math.imul(xt,fe)|0,d=d+Math.imul(Ft,ue)|0,B=B+Math.imul(Ft,fe)|0;var _i=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(_i>>>26)|0,_i&=67108863,b=Math.imul(x,Qt),d=Math.imul(x,te),d=d+Math.imul(S,Qt)|0,B=Math.imul(S,te),b=b+Math.imul(a,ee)|0,d=d+Math.imul(a,re)|0,d=d+Math.imul(l,ee)|0,B=B+Math.imul(l,re)|0,b=b+Math.imul(Dt,ne)|0,d=d+Math.imul(Dt,ie)|0,d=d+Math.imul(f,ne)|0,B=B+Math.imul(f,ie)|0,b=b+Math.imul(Rt,oe)|0,d=d+Math.imul(Rt,se)|0,d=d+Math.imul(Nt,oe)|0,B=B+Math.imul(Nt,se)|0,b=b+Math.imul(Tt,ae)|0,d=d+Math.imul(Tt,ce)|0,d=d+Math.imul(_t,ae)|0,B=B+Math.imul(_t,ce)|0,b=b+Math.imul(kt,ue)|0,d=d+Math.imul(kt,fe)|0,d=d+Math.imul(Ot,ue)|0,B=B+Math.imul(Ot,fe)|0;var Ai=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,b=Math.imul(x,ee),d=Math.imul(x,re),d=d+Math.imul(S,ee)|0,B=Math.imul(S,re),b=b+Math.imul(a,ne)|0,d=d+Math.imul(a,ie)|0,d=d+Math.imul(l,ne)|0,B=B+Math.imul(l,ie)|0,b=b+Math.imul(Dt,oe)|0,d=d+Math.imul(Dt,se)|0,d=d+Math.imul(f,oe)|0,B=B+Math.imul(f,se)|0,b=b+Math.imul(Rt,ae)|0,d=d+Math.imul(Rt,ce)|0,d=d+Math.imul(Nt,ae)|0,B=B+Math.imul(Nt,ce)|0,b=b+Math.imul(Tt,ue)|0,d=d+Math.imul(Tt,fe)|0,d=d+Math.imul(_t,ue)|0,B=B+Math.imul(_t,fe)|0;var Ii=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,b=Math.imul(x,ne),d=Math.imul(x,ie),d=d+Math.imul(S,ne)|0,B=Math.imul(S,ie),b=b+Math.imul(a,oe)|0,d=d+Math.imul(a,se)|0,d=d+Math.imul(l,oe)|0,B=B+Math.imul(l,se)|0,b=b+Math.imul(Dt,ae)|0,d=d+Math.imul(Dt,ce)|0,d=d+Math.imul(f,ae)|0,B=B+Math.imul(f,ce)|0,b=b+Math.imul(Rt,ue)|0,d=d+Math.imul(Rt,fe)|0,d=d+Math.imul(Nt,ue)|0,B=B+Math.imul(Nt,fe)|0;var ki=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(ki>>>26)|0,ki&=67108863,b=Math.imul(x,oe),d=Math.imul(x,se),d=d+Math.imul(S,oe)|0,B=Math.imul(S,se),b=b+Math.imul(a,ae)|0,d=d+Math.imul(a,ce)|0,d=d+Math.imul(l,ae)|0,B=B+Math.imul(l,ce)|0,b=b+Math.imul(Dt,ue)|0,d=d+Math.imul(Dt,fe)|0,d=d+Math.imul(f,ue)|0,B=B+Math.imul(f,fe)|0;var Ri=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,b=Math.imul(x,ae),d=Math.imul(x,ce),d=d+Math.imul(S,ae)|0,B=Math.imul(S,ce),b=b+Math.imul(a,ue)|0,d=d+Math.imul(a,fe)|0,d=d+Math.imul(l,ue)|0,B=B+Math.imul(l,fe)|0;var Mi=(R+b|0)+((d&8191)<<13)|0;R=(B+(d>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,b=Math.imul(x,ue),d=Math.imul(x,fe),d=d+Math.imul(S,ue)|0,B=Math.imul(S,fe);var Ti=(R+b|0)+((d&8191)<<13)|0;return R=(B+(d>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,I[0]=di,I[1]=pi,I[2]=gi,I[3]=yi,I[4]=wi,I[5]=mi,I[6]=bi,I[7]=xi,I[8]=vi,I[9]=Ei,I[10]=Bi,I[11]=Si,I[12]=_i,I[13]=Ai,I[14]=Ii,I[15]=ki,I[16]=Ri,I[17]=Mi,I[18]=Ti,R!==0&&(I[19]=R,y.length++),y};Math.imul||(H=D);function O(A,h,p){p.negative=h.negative^A.negative,p.length=A.length+h.length;for(var y=0,m=0,E=0;E<p.length-1;E++){var I=m;m=0;for(var R=y&67108863,b=Math.min(E,h.length-1),d=Math.max(0,E-A.length+1);d<=b;d++){var B=E-d,nt=A.words[B]|0,tt=h.words[d]|0,ot=nt*tt,Kt=ot&67108863;I=I+(ot/67108864|0)|0,Kt=Kt+R|0,R=Kt&67108863,I=I+(Kt>>>26)|0,m+=I>>>26,I&=67108863}p.words[E]=R,y=I,I=m}return y!==0?p.words[E]=y:p.length--,p._strip()}function Z(A,h,p){return O(A,h,p)}o.prototype.mulTo=function(h,p){var y,m=this.length+h.length;return this.length===10&&h.length===10?y=H(this,h,p):m<63?y=D(this,h,p):m<1024?y=O(this,h,p):y=Z(this,h,p),y},o.prototype.mul=function(h){var p=new o(null);return p.words=new Array(this.length+h.length),this.mulTo(h,p)},o.prototype.mulf=function(h){var p=new o(null);return p.words=new Array(this.length+h.length),Z(this,h,p)},o.prototype.imul=function(h){return this.clone().mulTo(h,this)},o.prototype.imuln=function(h){var p=h<0;p&&(h=-h),r(typeof h=="number"),r(h<67108864);for(var y=0,m=0;m<this.length;m++){var E=(this.words[m]|0)*h,I=(E&67108863)+(y&67108863);y>>=26,y+=E/67108864|0,y+=I>>>26,this.words[m]=I&67108863}return y!==0&&(this.words[m]=y,this.length++),p?this.ineg():this},o.prototype.muln=function(h){return this.clone().imuln(h)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(h){var p=C(h);if(p.length===0)return new o(1);for(var y=this,m=0;m<p.length&&p[m]===0;m++,y=y.sqr());if(++m<p.length)for(var E=y.sqr();m<p.length;m++,E=E.sqr())p[m]!==0&&(y=y.mul(E));return y},o.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26,m=67108863>>>26-p<<26-p,E;if(p!==0){var I=0;for(E=0;E<this.length;E++){var R=this.words[E]&m,b=(this.words[E]|0)-R<<p;this.words[E]=b|I,I=R>>>26-p}I&&(this.words[E]=I,this.length++)}if(y!==0){for(E=this.length-1;E>=0;E--)this.words[E+y]=this.words[E];for(E=0;E<y;E++)this.words[E]=0;this.length+=y}return this._strip()},o.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},o.prototype.iushrn=function(h,p,y){r(typeof h=="number"&&h>=0);var m;p?m=(p-p%26)/26:m=0;var E=h%26,I=Math.min((h-E)/26,this.length),R=67108863^67108863>>>E<<E,b=y;if(m-=I,m=Math.max(0,m),b){for(var d=0;d<I;d++)b.words[d]=this.words[d];b.length=I}if(I!==0)if(this.length>I)for(this.length-=I,d=0;d<this.length;d++)this.words[d]=this.words[d+I];else this.words[0]=0,this.length=1;var B=0;for(d=this.length-1;d>=0&&(B!==0||d>=m);d--){var nt=this.words[d]|0;this.words[d]=B<<26-E|nt>>>E,B=nt&R}return b&&B!==0&&(b.words[b.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(h,p,y){return r(this.negative===0),this.iushrn(h,p,y)},o.prototype.shln=function(h){return this.clone().ishln(h)},o.prototype.ushln=function(h){return this.clone().iushln(h)},o.prototype.shrn=function(h){return this.clone().ishrn(h)},o.prototype.ushrn=function(h){return this.clone().iushrn(h)},o.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26,m=1<<p;if(this.length<=y)return!1;var E=this.words[y];return!!(E&m)},o.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(p!==0&&y++,this.length=Math.min(y,this.length),p!==0){var m=67108863^67108863>>>p<<p;this.words[this.length-1]&=m}return this._strip()},o.prototype.maskn=function(h){return this.clone().imaskn(h)},o.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},o.prototype._iaddn=function(h){this.words[0]+=h;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},o.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},o.prototype.addn=function(h){return this.clone().iaddn(h)},o.prototype.subn=function(h){return this.clone().isubn(h)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(h,p,y){var m=h.length+y,E;this._expand(m);var I,R=0;for(E=0;E<h.length;E++){I=(this.words[E+y]|0)+R;var b=(h.words[E]|0)*p;I-=b&67108863,R=(I>>26)-(b/67108864|0),this.words[E+y]=I&67108863}for(;E<this.length-y;E++)I=(this.words[E+y]|0)+R,R=I>>26,this.words[E+y]=I&67108863;if(R===0)return this._strip();for(r(R===-1),R=0,E=0;E<this.length;E++)I=-(this.words[E]|0)+R,R=I>>26,this.words[E]=I&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(h,p){var y=this.length-h.length,m=this.clone(),E=h,I=E.words[E.length-1]|0,R=this._countBits(I);y=26-R,y!==0&&(E=E.ushln(y),m.iushln(y),I=E.words[E.length-1]|0);var b=m.length-E.length,d;if(p!=="mod"){d=new o(null),d.length=b+1,d.words=new Array(d.length);for(var B=0;B<d.length;B++)d.words[B]=0}var nt=m.clone()._ishlnsubmul(E,1,b);nt.negative===0&&(m=nt,d&&(d.words[b]=1));for(var tt=b-1;tt>=0;tt--){var ot=(m.words[E.length+tt]|0)*67108864+(m.words[E.length+tt-1]|0);for(ot=Math.min(ot/I|0,67108863),m._ishlnsubmul(E,ot,tt);m.negative!==0;)ot--,m.negative=0,m._ishlnsubmul(E,1,tt),m.isZero()||(m.negative^=1);d&&(d.words[tt]=ot)}return d&&d._strip(),m._strip(),p!=="div"&&y!==0&&m.iushrn(y),{div:d||null,mod:m}},o.prototype.divmod=function(h,p,y){if(r(!h.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var m,E,I;return this.negative!==0&&h.negative===0?(I=this.neg().divmod(h,p),p!=="mod"&&(m=I.div.neg()),p!=="div"&&(E=I.mod.neg(),y&&E.negative!==0&&E.iadd(h)),{div:m,mod:E}):this.negative===0&&h.negative!==0?(I=this.divmod(h.neg(),p),p!=="mod"&&(m=I.div.neg()),{div:m,mod:I.mod}):this.negative&h.negative?(I=this.neg().divmod(h.neg(),p),p!=="div"&&(E=I.mod.neg(),y&&E.negative!==0&&E.isub(h)),{div:I.div,mod:E}):h.length>this.length||this.cmp(h)<0?{div:new o(0),mod:this}:h.length===1?p==="div"?{div:this.divn(h.words[0]),mod:null}:p==="mod"?{div:null,mod:new o(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new o(this.modrn(h.words[0]))}:this._wordDiv(h,p)},o.prototype.div=function(h){return this.divmod(h,"div",!1).div},o.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},o.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},o.prototype.divRound=function(h){var p=this.divmod(h);if(p.mod.isZero())return p.div;var y=p.div.negative!==0?p.mod.isub(h):p.mod,m=h.ushrn(1),E=h.andln(1),I=y.cmp(m);return I<0||E===1&&I===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},o.prototype.modrn=function(h){var p=h<0;p&&(h=-h),r(h<=67108863);for(var y=(1<<26)%h,m=0,E=this.length-1;E>=0;E--)m=(y*m+(this.words[E]|0))%h;return p?-m:m},o.prototype.modn=function(h){return this.modrn(h)},o.prototype.idivn=function(h){var p=h<0;p&&(h=-h),r(h<=67108863);for(var y=0,m=this.length-1;m>=0;m--){var E=(this.words[m]|0)+y*67108864;this.words[m]=E/h|0,y=E%h}return this._strip(),p?this.ineg():this},o.prototype.divn=function(h){return this.clone().idivn(h)},o.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var p=this,y=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var m=new o(1),E=new o(0),I=new o(0),R=new o(1),b=0;p.isEven()&&y.isEven();)p.iushrn(1),y.iushrn(1),++b;for(var d=y.clone(),B=p.clone();!p.isZero();){for(var nt=0,tt=1;!(p.words[0]&tt)&&nt<26;++nt,tt<<=1);if(nt>0)for(p.iushrn(nt);nt-- >0;)(m.isOdd()||E.isOdd())&&(m.iadd(d),E.isub(B)),m.iushrn(1),E.iushrn(1);for(var ot=0,Kt=1;!(y.words[0]&Kt)&&ot<26;++ot,Kt<<=1);if(ot>0)for(y.iushrn(ot);ot-- >0;)(I.isOdd()||R.isOdd())&&(I.iadd(d),R.isub(B)),I.iushrn(1),R.iushrn(1);p.cmp(y)>=0?(p.isub(y),m.isub(I),E.isub(R)):(y.isub(p),I.isub(m),R.isub(E))}return{a:I,b:R,gcd:y.iushln(b)}},o.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var p=this,y=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var m=new o(1),E=new o(0),I=y.clone();p.cmpn(1)>0&&y.cmpn(1)>0;){for(var R=0,b=1;!(p.words[0]&b)&&R<26;++R,b<<=1);if(R>0)for(p.iushrn(R);R-- >0;)m.isOdd()&&m.iadd(I),m.iushrn(1);for(var d=0,B=1;!(y.words[0]&B)&&d<26;++d,B<<=1);if(d>0)for(y.iushrn(d);d-- >0;)E.isOdd()&&E.iadd(I),E.iushrn(1);p.cmp(y)>=0?(p.isub(y),m.isub(E)):(y.isub(p),E.isub(m))}var nt;return p.cmpn(1)===0?nt=m:nt=E,nt.cmpn(0)<0&&nt.iadd(h),nt},o.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var p=this.clone(),y=h.clone();p.negative=0,y.negative=0;for(var m=0;p.isEven()&&y.isEven();m++)p.iushrn(1),y.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;y.isEven();)y.iushrn(1);var E=p.cmp(y);if(E<0){var I=p;p=y,y=I}else if(E===0||y.cmpn(1)===0)break;p.isub(y)}while(!0);return y.iushln(m)},o.prototype.invm=function(h){return this.egcd(h).a.umod(h)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(h){return this.words[0]&h},o.prototype.bincn=function(h){r(typeof h=="number");var p=h%26,y=(h-p)/26,m=1<<p;if(this.length<=y)return this._expand(y+1),this.words[y]|=m,this;for(var E=m,I=y;E!==0&&I<this.length;I++){var R=this.words[I]|0;R+=E,E=R>>>26,R&=67108863,this.words[I]=R}return E!==0&&(this.words[I]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(h){var p=h<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var y;if(this.length>1)y=1;else{p&&(h=-h),r(h<=67108863,"Number is too big");var m=this.words[0]|0;y=m===h?0:m<h?-1:1}return this.negative!==0?-y|0:y},o.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var p=this.ucmp(h);return this.negative!==0?-p|0:p},o.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var p=0,y=this.length-1;y>=0;y--){var m=this.words[y]|0,E=h.words[y]|0;if(m!==E){m<E?p=-1:m>E&&(p=1);break}}return p},o.prototype.gtn=function(h){return this.cmpn(h)===1},o.prototype.gt=function(h){return this.cmp(h)===1},o.prototype.gten=function(h){return this.cmpn(h)>=0},o.prototype.gte=function(h){return this.cmp(h)>=0},o.prototype.ltn=function(h){return this.cmpn(h)===-1},o.prototype.lt=function(h){return this.cmp(h)===-1},o.prototype.lten=function(h){return this.cmpn(h)<=0},o.prototype.lte=function(h){return this.cmp(h)<=0},o.prototype.eqn=function(h){return this.cmpn(h)===0},o.prototype.eq=function(h){return this.cmp(h)===0},o.red=function(h){return new gt(h)},o.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(h){return this.red=h,this},o.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},o.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},o.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},o.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},o.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},o.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},o.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},o.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var N={k256:null,p224:null,p192:null,p25519:null};function j(A,h){this.name=A,this.p=new o(h,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var h=new o(null);return h.words=new Array(Math.ceil(this.n/13)),h},j.prototype.ireduce=function(h){var p=h,y;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),y=p.bitLength();while(y>this.n);var m=y<this.n?-1:p.ucmp(this.p);return m===0?(p.words[0]=0,p.length=1):m>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},j.prototype.split=function(h,p){h.iushrn(this.n,0,p)},j.prototype.imulK=function(h){return h.imul(this.k)};function K(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(K,j),K.prototype.split=function(h,p){for(var y=4194303,m=Math.min(h.length,9),E=0;E<m;E++)p.words[E]=h.words[E];if(p.length=m,h.length<=9){h.words[0]=0,h.length=1;return}var I=h.words[9];for(p.words[p.length++]=I&y,E=10;E<h.length;E++){var R=h.words[E]|0;h.words[E-10]=(R&y)<<4|I>>>22,I=R}I>>>=22,h.words[E-10]=I,I===0&&h.length>10?h.length-=10:h.length-=9},K.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var p=0,y=0;y<h.length;y++){var m=h.words[y]|0;p+=m*977,h.words[y]=p&67108863,p=m*64+(p/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function rt(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(rt,j);function wt(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(wt,j);function zt(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(zt,j),zt.prototype.imulK=function(h){for(var p=0,y=0;y<h.length;y++){var m=(h.words[y]|0)*19+p,E=m&67108863;m>>>=26,h.words[y]=E,p=m}return p!==0&&(h.words[h.length++]=p),h},o._prime=function(h){if(N[h])return N[h];var p;if(h==="k256")p=new K;else if(h==="p224")p=new rt;else if(h==="p192")p=new wt;else if(h==="p25519")p=new zt;else throw new Error("Unknown prime "+h);return N[h]=p,p};function gt(A){if(typeof A=="string"){var h=o._prime(A);this.m=h.p,this.prime=h}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}gt.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},gt.prototype._verify2=function(h,p){r((h.negative|p.negative)===0,"red works only with positives"),r(h.red&&h.red===p.red,"red works only with red numbers")},gt.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(k(h,h.umod(this.m)._forceRed(this)),h)},gt.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},gt.prototype.add=function(h,p){this._verify2(h,p);var y=h.add(p);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},gt.prototype.iadd=function(h,p){this._verify2(h,p);var y=h.iadd(p);return y.cmp(this.m)>=0&&y.isub(this.m),y},gt.prototype.sub=function(h,p){this._verify2(h,p);var y=h.sub(p);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},gt.prototype.isub=function(h,p){this._verify2(h,p);var y=h.isub(p);return y.cmpn(0)<0&&y.iadd(this.m),y},gt.prototype.shl=function(h,p){return this._verify1(h),this.imod(h.ushln(p))},gt.prototype.imul=function(h,p){return this._verify2(h,p),this.imod(h.imul(p))},gt.prototype.mul=function(h,p){return this._verify2(h,p),this.imod(h.mul(p))},gt.prototype.isqr=function(h){return this.imul(h,h.clone())},gt.prototype.sqr=function(h){return this.mul(h,h)},gt.prototype.sqrt=function(h){if(h.isZero())return h.clone();var p=this.m.andln(3);if(r(p%2===1),p===3){var y=this.m.add(new o(1)).iushrn(2);return this.pow(h,y)}for(var m=this.m.subn(1),E=0;!m.isZero()&&m.andln(1)===0;)E++,m.iushrn(1);r(!m.isZero());var I=new o(1).toRed(this),R=I.redNeg(),b=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,b).cmp(R)!==0;)d.redIAdd(R);for(var B=this.pow(d,m),nt=this.pow(h,m.addn(1).iushrn(1)),tt=this.pow(h,m),ot=E;tt.cmp(I)!==0;){for(var Kt=tt,dt=0;Kt.cmp(I)!==0;dt++)Kt=Kt.redSqr();r(dt<ot);var Et=this.pow(B,new o(1).iushln(ot-dt-1));nt=nt.redMul(Et),B=Et.redSqr(),tt=tt.redMul(B),ot=dt}return nt},gt.prototype.invm=function(h){var p=h._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},gt.prototype.pow=function(h,p){if(p.isZero())return new o(1).toRed(this);if(p.cmpn(1)===0)return h.clone();var y=4,m=new Array(1<<y);m[0]=new o(1).toRed(this),m[1]=h;for(var E=2;E<m.length;E++)m[E]=this.mul(m[E-1],h);var I=m[0],R=0,b=0,d=p.bitLength()%26;for(d===0&&(d=26),E=p.length-1;E>=0;E--){for(var B=p.words[E],nt=d-1;nt>=0;nt--){var tt=B>>nt&1;if(I!==m[0]&&(I=this.sqr(I)),tt===0&&R===0){b=0;continue}R<<=1,R|=tt,b++,!(b!==y&&(E!==0||nt!==0))&&(I=this.mul(I,m[R]),b=0,R=0)}d=26}return I},gt.prototype.convertTo=function(h){var p=h.umod(this.m);return p===h?p.clone():p},gt.prototype.convertFrom=function(h){var p=h.clone();return p.red=null,p},o.mont=function(h){return new Ut(h)};function Ut(A){gt.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Ut,gt),Ut.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Ut.prototype.convertFrom=function(h){var p=this.imod(h.mul(this.rinv));return p.red=null,p},Ut.prototype.imul=function(h,p){if(h.isZero()||p.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(p),m=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=y.isub(m).iushrn(this.shift),I=E;return E.cmp(this.m)>=0?I=E.isub(this.m):E.cmpn(0)<0&&(I=E.iadd(this.m)),I._forceRed(this)},Ut.prototype.mul=function(h,p){if(h.isZero()||p.isZero())return new o(0)._forceRed(this);var y=h.mul(p),m=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=y.isub(m).iushrn(this.shift),I=E;return E.cmp(this.m)>=0?I=E.isub(this.m):E.cmpn(0)<0&&(I=E.iadd(this.m)),I._forceRed(this)},Ut.prototype.invm=function(h){var p=this.imod(h._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(n,$e)})(au);var kn={},uu={get exports(){return kn},set exports(n){kn=n}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,t){var e=lt,r=e.Buffer;function s(c,u){for(var g in c)u[g]=c[g]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=e:(s(e,t),t.Buffer=o);function o(c,u,g){return r(c,u,g)}o.prototype=Object.create(r.prototype),s(r,o),o.from=function(c,u,g){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,u,g)},o.alloc=function(c,u,g){if(typeof c!="number")throw new TypeError("Argument must be a number");var v=r(c);return u!==void 0?typeof g=="string"?v.fill(u,g):v.fill(u):v.fill(0),v},o.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},o.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(c)}})(uu,kn);var wn=kn.Buffer;function fu(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=r}var c=n.length,u=n.charAt(0),g=Math.log(c)/Math.log(256),v=Math.log(256)/Math.log(c);function k(M){if((Array.isArray(M)||M instanceof Uint8Array)&&(M=wn.from(M)),!wn.isBuffer(M))throw new TypeError("Expected Buffer");if(M.length===0)return"";for(var T=0,L=0,C=0,D=M.length;C!==D&&M[C]===0;)C++,T++;for(var H=(D-C)*v+1>>>0,O=new Uint8Array(H);C!==D;){for(var Z=M[C],N=0,j=H-1;(Z!==0||N<L)&&j!==-1;j--,N++)Z+=256*O[j]>>>0,O[j]=Z%c>>>0,Z=Z/c>>>0;if(Z!==0)throw new Error("Non-zero carry");L=N,C++}for(var K=H-L;K!==H&&O[K]===0;)K++;for(var rt=u.repeat(T);K<H;++K)rt+=n.charAt(O[K]);return rt}function _(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return wn.alloc(0);for(var T=0,L=0,C=0;M[T]===u;)L++,T++;for(var D=(M.length-T)*g+1>>>0,H=new Uint8Array(D);M[T];){var O=t[M.charCodeAt(T)];if(O===255)return;for(var Z=0,N=D-1;(O!==0||Z<C)&&N!==-1;N--,Z++)O+=c*H[N]>>>0,H[N]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=Z,T++}for(var j=D-C;j!==D&&H[j]===0;)j++;var K=wn.allocUnsafe(L+(D-j));K.fill(0,0,L);for(var rt=L;j!==D;)K[rt++]=H[j++];return K}function U(M){var T=_(M);if(T)return T;throw new Error("Non-base"+c+" character")}return{encode:k,decodeUnsafe:_,decode:U}}var hu=fu,lu=hu,du="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ye=lu(du);const pu=(n,t,e)=>n&t^~n&e,gu=(n,t,e)=>n&t^n&e^t&e,yu=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ir=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),or=new Uint32Array(64);class zs extends Cs{constructor(){super(64,32,8,!1),this.A=ir[0]|0,this.B=ir[1]|0,this.C=ir[2]|0,this.D=ir[3]|0,this.E=ir[4]|0,this.F=ir[5]|0,this.G=ir[6]|0,this.H=ir[7]|0}get(){const{A:t,B:e,C:r,D:s,E:o,F:c,G:u,H:g}=this;return[t,e,r,s,o,c,u,g]}set(t,e,r,s,o,c,u,g){this.A=t|0,this.B=e|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=c|0,this.G=u|0,this.H=g|0}process(t,e){for(let _=0;_<16;_++,e+=4)or[_]=t.getUint32(e,!1);for(let _=16;_<64;_++){const U=or[_-15],M=or[_-2],T=Ke(U,7)^Ke(U,18)^U>>>3,L=Ke(M,17)^Ke(M,19)^M>>>10;or[_]=L+or[_-7]+T+or[_-16]|0}let{A:r,B:s,C:o,D:c,E:u,F:g,G:v,H:k}=this;for(let _=0;_<64;_++){const U=Ke(u,6)^Ke(u,11)^Ke(u,25),M=k+U+pu(u,g,v)+yu[_]+or[_]|0,L=(Ke(r,2)^Ke(r,13)^Ke(r,22))+gu(r,s,o)|0;k=v,v=g,g=u,u=c+M|0,c=o,o=s,s=r,r=M+L|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,c=c+this.D|0,u=u+this.E|0,g=g+this.F|0,v=v+this.G|0,k=k+this.H|0,this.set(r,s,o,c,u,g,v,k)}roundClean(){or.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class wu extends zs{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const eo=Br(()=>new zs);Br(()=>new wu);var be={};function Je(n,t,e){return t<=n&&n<=e}function ri(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function mu(n){for(var t=String(n),e=t.length,r=0,s=[];r<e;){var o=t.charCodeAt(r);if(o<55296||o>57343)s.push(o);else if(56320<=o&&o<=57343)s.push(65533);else if(55296<=o&&o<=56319)if(r===e-1)s.push(65533);else{var c=n.charCodeAt(r+1);if(56320<=c&&c<=57343){var u=o&1023,g=c&1023;s.push(65536+(u<<10)+g),r+=1}else s.push(65533)}r+=1}return s}function bu(n){for(var t="",e=0;e<n.length;++e){var r=n[e];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var Rn=-1;function wo(n){this.tokens=[].slice.call(n)}wo.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Rn},prepend:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.push(t.shift());else this.tokens.push(n)}};var Dr=-1;function Pi(n,t){if(n)throw TypeError("Decoder error");return t||65533}var Mn="utf-8";function Tn(n,t){if(!(this instanceof Tn))return new Tn(n,t);if(n=n!==void 0?String(n).toLowerCase():Mn,n!==Mn)throw new Error("Encoding not supported. Only utf-8 is supported");t=ri(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Tn.prototype={decode:function(t,e){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),e=ri(e),this._streaming||(this._decoder=new xu({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var s=new wo(r),o=[],c;!s.endOfStream()&&(c=this._decoder.handler(s,s.read()),c!==Dr);)c!==null&&(Array.isArray(c)?o.push.apply(o,c):o.push(c));if(!this._streaming){do{if(c=this._decoder.handler(s,s.read()),c===Dr)break;c!==null&&(Array.isArray(c)?o.push.apply(o,c):o.push(c))}while(!s.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),bu(o)}};function Un(n,t){if(!(this instanceof Un))return new Un(n,t);if(n=n!==void 0?String(n).toLowerCase():Mn,n!==Mn)throw new Error("Encoding not supported. Only utf-8 is supported");t=ri(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Un.prototype={encode:function(t,e){t=t?String(t):"",e=ri(e),this._streaming||(this._encoder=new vu(this._options)),this._streaming=Boolean(e.stream);for(var r=[],s=new wo(mu(t)),o;!s.endOfStream()&&(o=this._encoder.handler(s,s.read()),o!==Dr);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(s,s.read()),o!==Dr;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function xu(n){var t=n.fatal,e=0,r=0,s=0,o=128,c=191;this.handler=function(u,g){if(g===Rn&&s!==0)return s=0,Pi(t);if(g===Rn)return Dr;if(s===0){if(Je(g,0,127))return g;if(Je(g,194,223))s=1,e=g-192;else if(Je(g,224,239))g===224&&(o=160),g===237&&(c=159),s=2,e=g-224;else if(Je(g,240,244))g===240&&(o=144),g===244&&(c=143),s=3,e=g-240;else return Pi(t);return e=e<<6*s,null}if(!Je(g,o,c))return e=s=r=0,o=128,c=191,u.prepend(g),Pi(t);if(o=128,c=191,r+=1,e+=g-128<<6*(s-r),r!==s)return null;var v=e;return e=s=r=0,v}}function vu(n){n.fatal,this.handler=function(t,e){if(e===Rn)return Dr;if(Je(e,0,127))return e;var r,s;Je(e,128,2047)?(r=1,s=192):Je(e,2048,65535)?(r=2,s=224):Je(e,65536,1114111)&&(r=3,s=240);for(var o=[(e>>6*r)+s];r>0;){var c=e>>6*(r-1);o.push(128|c&63),r-=1}return o}}const Eu=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Tn,TextEncoder:Un},Symbol.toStringTag,{value:"Module"})),Bu=fo(Eu);var Su=$e&&$e.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),_u=$e&&$e.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),Ze=$e&&$e.__decorate||function(n,t,e,r){var s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(o=(s<3?c(o):s>3?c(t,e,o):c(t,e))||o);return s>3&&o&&Object.defineProperty(t,e,o),o},Au=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.hasOwnProperty.call(n,e)&&Su(t,n,e);return _u(t,n),t},Ks=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(be,"__esModule",{value:!0});var Ws=be.deserializeUnchecked=Ys=be.deserialize=Xs=be.serialize=be.BinaryReader=be.BinaryWriter=be.BorshError=be.baseDecode=be.baseEncode=void 0;const ur=Ks(rn),Gs=Ks(ye),Iu=Au(Bu),ku=typeof TextDecoder!="function"?Iu.TextDecoder:TextDecoder,Ru=new ku("utf-8",{fatal:!0});function Mu(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),Gs.default.encode(Buffer.from(n))}be.baseEncode=Mu;function Tu(n){return Buffer.from(Gs.default.decode(n))}be.baseDecode=Tu;const Ni=1024;class Ae extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}be.BorshError=Ae;class js{constructor(){this.buf=Buffer.alloc(Ni),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Ni)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ur.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ur.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ur.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ur.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(Ni)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}be.BinaryWriter=js;function Xe(n,t,e){const r=e.value;e.value=function(...s){try{return r.apply(this,s)}catch(o){if(o instanceof RangeError){const c=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new Ae("Reached the end of buffer when deserializing")}throw o}}}class Le{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new ur.default(t,"le")}readU128(){const t=this.readBuffer(16);return new ur.default(t,"le")}readU256(){const t=this.readBuffer(32);return new ur.default(t,"le")}readU512(){const t=this.readBuffer(64);return new ur.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Ae(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return Ru.decode(e)}catch(r){throw new Ae(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let s=0;s<e;++s)r.push(t());return r}}Ze([Xe],Le.prototype,"readU8",null);Ze([Xe],Le.prototype,"readU16",null);Ze([Xe],Le.prototype,"readU32",null);Ze([Xe],Le.prototype,"readU64",null);Ze([Xe],Le.prototype,"readU128",null);Ze([Xe],Le.prototype,"readU256",null);Ze([Xe],Le.prototype,"readU512",null);Ze([Xe],Le.prototype,"readString",null);Ze([Xe],Le.prototype,"readFixedArray",null);Ze([Xe],Le.prototype,"readArray",null);be.BinaryReader=Le;function Vs(n){return n.charAt(0).toUpperCase()+n.slice(1)}function yr(n,t,e,r,s){try{if(typeof r=="string")s[`write${Vs(r)}`](e);else if(r instanceof Array)if(typeof r[0]=="number"){if(e.length!==r[0])throw new Ae(`Expecting byte array of length ${r[0]}, but got ${e.length} bytes`);s.writeFixedArray(e)}else if(r.length===2&&typeof r[1]=="number"){if(e.length!==r[1])throw new Ae(`Expecting byte array of length ${r[1]}, but got ${e.length} bytes`);for(let o=0;o<r[1];o++)yr(n,null,e[o],r[0],s)}else s.writeArray(e,o=>{yr(n,t,o,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{e==null?s.writeU8(0):(s.writeU8(1),yr(n,t,e,r.type,s));break}case"map":{s.writeU32(e.size),e.forEach((o,c)=>{yr(n,t,c,r.key,s),yr(n,t,o,r.value,s)});break}default:throw new Ae(`FieldType ${r} unrecognized`)}else Zs(n,e,s)}catch(o){throw o instanceof Ae&&o.addToFieldPath(t),o}}function Zs(n,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const r=n.get(t.constructor);if(!r)throw new Ae(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,o])=>{yr(n,s,t[s],o,e)});else if(r.kind==="enum"){const s=t[r.field];for(let o=0;o<r.values.length;++o){const[c,u]=r.values[o];if(c===s){e.writeU8(o),yr(n,c,t[c],u,e);break}}}else throw new Ae(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function Uu(n,t,e=js){const r=new e;return Zs(n,t,r),r.toArray()}var Xs=be.serialize=Uu;function wr(n,t,e,r){try{if(typeof e=="string")return r[`read${Vs(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return r.readFixedArray(e[0]);if(typeof e[1]=="number"){const s=[];for(let o=0;o<e[1];o++)s.push(wr(n,null,e[0],r));return s}else return r.readArray(()=>wr(n,t,e[0],r))}if(e.kind==="option")return r.readU8()?wr(n,t,e.type,r):void 0;if(e.kind==="map"){let s=new Map;const o=r.readU32();for(let c=0;c<o;c++){const u=wr(n,t,e.key,r),g=wr(n,t,e.value,r);s.set(u,g)}return s}return mo(n,e,r)}catch(s){throw s instanceof Ae&&s.addToFieldPath(t),s}}function mo(n,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const r=n.get(t);if(!r)throw new Ae(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[o,c]of n.get(t).fields)s[o]=wr(n,o,c,e);return new t(s)}if(r.kind==="enum"){const s=e.readU8();if(s>=r.values.length)throw new Ae(`Enum index: ${s} is out of range`);const[o,c]=r.values[s],u=wr(n,o,c,e);return new t({[o]:u})}throw new Ae(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function Lu(n,t,e,r=Le){const s=new r(e),o=mo(n,t,s);if(s.offset<e.length)throw new Ae(`Unexpected ${e.length-s.offset} bytes after deserialized data`);return o}var Ys=be.deserialize=Lu;function Cu(n,t,e,r=Le){const s=new r(e);return mo(n,t,s)}Ws=be.deserializeUnchecked=Cu;var P={},Js={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=an,e=Qn,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=H,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const f=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(f,i),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(f){if(f>s)throw new RangeError('The value "'+f+'" is invalid for option "size"');const i=new Uint8Array(f);return Object.setPrototypeOf(i,u.prototype),i}function u(f,i,a){if(typeof f=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(f)}return g(f,i,a)}u.poolSize=8192;function g(f,i,a){if(typeof f=="string")return U(f,i);if(ArrayBuffer.isView(f))return T(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Pt(f,ArrayBuffer)||f&&Pt(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pt(f,SharedArrayBuffer)||f&&Pt(f.buffer,SharedArrayBuffer)))return L(f,i,a);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const l=f.valueOf&&f.valueOf();if(l!=null&&l!==f)return u.from(l,i,a);const w=C(f);if(w)return w;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),i,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,i,a){return g(f,i,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function v(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function k(f,i,a){return v(f),f<=0?c(f):i!==void 0?typeof a=="string"?c(f).fill(i,a):c(f).fill(i):c(f)}u.alloc=function(f,i,a){return k(f,i,a)};function _(f){return v(f),c(f<0?0:D(f)|0)}u.allocUnsafe=function(f){return _(f)},u.allocUnsafeSlow=function(f){return _(f)};function U(f,i){if((typeof i!="string"||i==="")&&(i="utf8"),!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const a=O(f,i)|0;let l=c(a);const w=l.write(f,i);return w!==a&&(l=l.slice(0,w)),l}function M(f){const i=f.length<0?0:D(f.length)|0,a=c(i);for(let l=0;l<i;l+=1)a[l]=f[l]&255;return a}function T(f){if(Pt(f,Uint8Array)){const i=new Uint8Array(f);return L(i.buffer,i.byteOffset,i.byteLength)}return M(f)}function L(f,i,a){if(i<0||f.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<i+(a||0))throw new RangeError('"length" is outside of buffer bounds');let l;return i===void 0&&a===void 0?l=new Uint8Array(f):a===void 0?l=new Uint8Array(f,i):l=new Uint8Array(f,i,a),Object.setPrototypeOf(l,u.prototype),l}function C(f){if(u.isBuffer(f)){const i=D(f.length)|0,a=c(i);return a.length===0||f.copy(a,0,0,i),a}if(f.length!==void 0)return typeof f.length!="number"||Rt(f.length)?c(0):M(f);if(f.type==="Buffer"&&Array.isArray(f.data))return M(f.data)}function D(f){if(f>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return f|0}function H(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==u.prototype},u.compare=function(i,a){if(Pt(i,Uint8Array)&&(i=u.from(i,i.offset,i.byteLength)),Pt(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(i)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===a)return 0;let l=i.length,w=a.length;for(let x=0,S=Math.min(l,w);x<S;++x)if(i[x]!==a[x]){l=i[x],w=a[x];break}return l<w?-1:w<l?1:0},u.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(i,a){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return u.alloc(0);let l;if(a===void 0)for(a=0,l=0;l<i.length;++l)a+=i[l].length;const w=u.allocUnsafe(a);let x=0;for(l=0;l<i.length;++l){let S=i[l];if(Pt(S,Uint8Array))x+S.length>w.length?(u.isBuffer(S)||(S=u.from(S)),S.copy(w,x)):Uint8Array.prototype.set.call(w,S,x);else if(u.isBuffer(S))S.copy(w,x);else throw new TypeError('"list" argument must be an Array of Buffers');x+=S.length}return w};function O(f,i){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Pt(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const a=f.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&a===0)return 0;let w=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return kt(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Tt(f).length;default:if(w)return l?-1:kt(f).length;i=(""+i).toLowerCase(),w=!0}}u.byteLength=O;function Z(f,i,a){let l=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,i>>>=0,a<=i))return"";for(f||(f="utf8");;)switch(f){case"hex":return I(this,i,a);case"utf8":case"utf-8":return h(this,i,a);case"ascii":return m(this,i,a);case"latin1":case"binary":return E(this,i,a);case"base64":return A(this,i,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,i,a);default:if(l)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),l=!0}}u.prototype._isBuffer=!0;function N(f,i,a){const l=f[i];f[i]=f[a],f[a]=l}u.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<i;a+=2)N(this,a,a+1);return this},u.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<i;a+=4)N(this,a,a+3),N(this,a+1,a+2);return this},u.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<i;a+=8)N(this,a,a+7),N(this,a+1,a+6),N(this,a+2,a+5),N(this,a+3,a+4);return this},u.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?h(this,0,i):Z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(i){if(!u.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:u.compare(this,i)===0},u.prototype.inspect=function(){let i="";const a=n.INSPECT_MAX_BYTES;return i=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(i+=" ... "),"<Buffer "+i+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(i,a,l,w,x){if(Pt(i,Uint8Array)&&(i=u.from(i,i.offset,i.byteLength)),!u.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(a===void 0&&(a=0),l===void 0&&(l=i?i.length:0),w===void 0&&(w=0),x===void 0&&(x=this.length),a<0||l>i.length||w<0||x>this.length)throw new RangeError("out of range index");if(w>=x&&a>=l)return 0;if(w>=x)return-1;if(a>=l)return 1;if(a>>>=0,l>>>=0,w>>>=0,x>>>=0,this===i)return 0;let S=x-w,W=l-a;const Q=Math.min(S,W),J=this.slice(w,x),ft=i.slice(a,l);for(let V=0;V<Q;++V)if(J[V]!==ft[V]){S=J[V],W=ft[V];break}return S<W?-1:W<S?1:0};function j(f,i,a,l,w){if(f.length===0)return-1;if(typeof a=="string"?(l=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,Rt(a)&&(a=w?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(w)return-1;a=f.length-1}else if(a<0)if(w)a=0;else return-1;if(typeof i=="string"&&(i=u.from(i,l)),u.isBuffer(i))return i.length===0?-1:K(f,i,a,l,w);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?w?Uint8Array.prototype.indexOf.call(f,i,a):Uint8Array.prototype.lastIndexOf.call(f,i,a):K(f,[i],a,l,w);throw new TypeError("val must be string, number or Buffer")}function K(f,i,a,l,w){let x=1,S=f.length,W=i.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(f.length<2||i.length<2)return-1;x=2,S/=2,W/=2,a/=2}function Q(ft,V){return x===1?ft[V]:ft.readUInt16BE(V*x)}let J;if(w){let ft=-1;for(J=a;J<S;J++)if(Q(f,J)===Q(i,ft===-1?0:J-ft)){if(ft===-1&&(ft=J),J-ft+1===W)return ft*x}else ft!==-1&&(J-=J-ft),ft=-1}else for(a+W>S&&(a=S-W),J=a;J>=0;J--){let ft=!0;for(let V=0;V<W;V++)if(Q(f,J+V)!==Q(i,V)){ft=!1;break}if(ft)return J}return-1}u.prototype.includes=function(i,a,l){return this.indexOf(i,a,l)!==-1},u.prototype.indexOf=function(i,a,l){return j(this,i,a,l,!0)},u.prototype.lastIndexOf=function(i,a,l){return j(this,i,a,l,!1)};function rt(f,i,a,l){a=Number(a)||0;const w=f.length-a;l?(l=Number(l),l>w&&(l=w)):l=w;const x=i.length;l>x/2&&(l=x/2);let S;for(S=0;S<l;++S){const W=parseInt(i.substr(S*2,2),16);if(Rt(W))return S;f[a+S]=W}return S}function wt(f,i,a,l){return _t(kt(i,f.length-a),f,a,l)}function zt(f,i,a,l){return _t(Ot(i),f,a,l)}function gt(f,i,a,l){return _t(Tt(i),f,a,l)}function Ut(f,i,a,l){return _t(Rr(i,f.length-a),f,a,l)}u.prototype.write=function(i,a,l,w){if(a===void 0)w="utf8",l=this.length,a=0;else if(l===void 0&&typeof a=="string")w=a,l=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(l)?(l=l>>>0,w===void 0&&(w="utf8")):(w=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const x=this.length-a;if((l===void 0||l>x)&&(l=x),i.length>0&&(l<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");let S=!1;for(;;)switch(w){case"hex":return rt(this,i,a,l);case"utf8":case"utf-8":return wt(this,i,a,l);case"ascii":case"latin1":case"binary":return zt(this,i,a,l);case"base64":return gt(this,i,a,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ut(this,i,a,l);default:if(S)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),S=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(f,i,a){return i===0&&a===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(i,a))}function h(f,i,a){a=Math.min(f.length,a);const l=[];let w=i;for(;w<a;){const x=f[w];let S=null,W=x>239?4:x>223?3:x>191?2:1;if(w+W<=a){let Q,J,ft,V;switch(W){case 1:x<128&&(S=x);break;case 2:Q=f[w+1],(Q&192)===128&&(V=(x&31)<<6|Q&63,V>127&&(S=V));break;case 3:Q=f[w+1],J=f[w+2],(Q&192)===128&&(J&192)===128&&(V=(x&15)<<12|(Q&63)<<6|J&63,V>2047&&(V<55296||V>57343)&&(S=V));break;case 4:Q=f[w+1],J=f[w+2],ft=f[w+3],(Q&192)===128&&(J&192)===128&&(ft&192)===128&&(V=(x&15)<<18|(Q&63)<<12|(J&63)<<6|ft&63,V>65535&&V<1114112&&(S=V))}}S===null?(S=65533,W=1):S>65535&&(S-=65536,l.push(S>>>10&1023|55296),S=56320|S&1023),l.push(S),w+=W}return y(l)}const p=4096;function y(f){const i=f.length;if(i<=p)return String.fromCharCode.apply(String,f);let a="",l=0;for(;l<i;)a+=String.fromCharCode.apply(String,f.slice(l,l+=p));return a}function m(f,i,a){let l="";a=Math.min(f.length,a);for(let w=i;w<a;++w)l+=String.fromCharCode(f[w]&127);return l}function E(f,i,a){let l="";a=Math.min(f.length,a);for(let w=i;w<a;++w)l+=String.fromCharCode(f[w]);return l}function I(f,i,a){const l=f.length;(!i||i<0)&&(i=0),(!a||a<0||a>l)&&(a=l);let w="";for(let x=i;x<a;++x)w+=Nt[f[x]];return w}function R(f,i,a){const l=f.slice(i,a);let w="";for(let x=0;x<l.length-1;x+=2)w+=String.fromCharCode(l[x]+l[x+1]*256);return w}u.prototype.slice=function(i,a){const l=this.length;i=~~i,a=a===void 0?l:~~a,i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),a<0?(a+=l,a<0&&(a=0)):a>l&&(a=l),a<i&&(a=i);const w=this.subarray(i,a);return Object.setPrototypeOf(w,u.prototype),w};function b(f,i,a){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+i>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(i,a,l){i=i>>>0,a=a>>>0,l||b(i,a,this.length);let w=this[i],x=1,S=0;for(;++S<a&&(x*=256);)w+=this[i+S]*x;return w},u.prototype.readUintBE=u.prototype.readUIntBE=function(i,a,l){i=i>>>0,a=a>>>0,l||b(i,a,this.length);let w=this[i+--a],x=1;for(;a>0&&(x*=256);)w+=this[i+--a]*x;return w},u.prototype.readUint8=u.prototype.readUInt8=function(i,a){return i=i>>>0,a||b(i,1,this.length),this[i]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(i,a){return i=i>>>0,a||b(i,2,this.length),this[i]|this[i+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(i,a){return i=i>>>0,a||b(i,2,this.length),this[i]<<8|this[i+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(i,a){return i=i>>>0,a||b(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(i,a){return i=i>>>0,a||b(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},u.prototype.readBigUInt64LE=jt(function(i){i=i>>>0,ve(i,"offset");const a=this[i],l=this[i+7];(a===void 0||l===void 0)&&xt(i,this.length-8);const w=a+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,x=this[++i]+this[++i]*2**8+this[++i]*2**16+l*2**24;return BigInt(w)+(BigInt(x)<<BigInt(32))}),u.prototype.readBigUInt64BE=jt(function(i){i=i>>>0,ve(i,"offset");const a=this[i],l=this[i+7];(a===void 0||l===void 0)&&xt(i,this.length-8);const w=a*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],x=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l;return(BigInt(w)<<BigInt(32))+BigInt(x)}),u.prototype.readIntLE=function(i,a,l){i=i>>>0,a=a>>>0,l||b(i,a,this.length);let w=this[i],x=1,S=0;for(;++S<a&&(x*=256);)w+=this[i+S]*x;return x*=128,w>=x&&(w-=Math.pow(2,8*a)),w},u.prototype.readIntBE=function(i,a,l){i=i>>>0,a=a>>>0,l||b(i,a,this.length);let w=a,x=1,S=this[i+--w];for(;w>0&&(x*=256);)S+=this[i+--w]*x;return x*=128,S>=x&&(S-=Math.pow(2,8*a)),S},u.prototype.readInt8=function(i,a){return i=i>>>0,a||b(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},u.prototype.readInt16LE=function(i,a){i=i>>>0,a||b(i,2,this.length);const l=this[i]|this[i+1]<<8;return l&32768?l|4294901760:l},u.prototype.readInt16BE=function(i,a){i=i>>>0,a||b(i,2,this.length);const l=this[i+1]|this[i]<<8;return l&32768?l|4294901760:l},u.prototype.readInt32LE=function(i,a){return i=i>>>0,a||b(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},u.prototype.readInt32BE=function(i,a){return i=i>>>0,a||b(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},u.prototype.readBigInt64LE=jt(function(i){i=i>>>0,ve(i,"offset");const a=this[i],l=this[i+7];(a===void 0||l===void 0)&&xt(i,this.length-8);const w=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(l<<24);return(BigInt(w)<<BigInt(32))+BigInt(a+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),u.prototype.readBigInt64BE=jt(function(i){i=i>>>0,ve(i,"offset");const a=this[i],l=this[i+7];(a===void 0||l===void 0)&&xt(i,this.length-8);const w=(a<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(w)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l)}),u.prototype.readFloatLE=function(i,a){return i=i>>>0,a||b(i,4,this.length),e.read(this,i,!0,23,4)},u.prototype.readFloatBE=function(i,a){return i=i>>>0,a||b(i,4,this.length),e.read(this,i,!1,23,4)},u.prototype.readDoubleLE=function(i,a){return i=i>>>0,a||b(i,8,this.length),e.read(this,i,!0,52,8)},u.prototype.readDoubleBE=function(i,a){return i=i>>>0,a||b(i,8,this.length),e.read(this,i,!1,52,8)};function d(f,i,a,l,w,x){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>w||i<x)throw new RangeError('"value" argument is out of bounds');if(a+l>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(i,a,l,w){if(i=+i,a=a>>>0,l=l>>>0,!w){const W=Math.pow(2,8*l)-1;d(this,i,a,l,W,0)}let x=1,S=0;for(this[a]=i&255;++S<l&&(x*=256);)this[a+S]=i/x&255;return a+l},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(i,a,l,w){if(i=+i,a=a>>>0,l=l>>>0,!w){const W=Math.pow(2,8*l)-1;d(this,i,a,l,W,0)}let x=l-1,S=1;for(this[a+x]=i&255;--x>=0&&(S*=256);)this[a+x]=i/S&255;return a+l},u.prototype.writeUint8=u.prototype.writeUInt8=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,1,255,0),this[a]=i&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,2,65535,0),this[a]=i&255,this[a+1]=i>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,2,65535,0),this[a]=i>>>8,this[a+1]=i&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,4,4294967295,0),this[a+3]=i>>>24,this[a+2]=i>>>16,this[a+1]=i>>>8,this[a]=i&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,4,4294967295,0),this[a]=i>>>24,this[a+1]=i>>>16,this[a+2]=i>>>8,this[a+3]=i&255,a+4};function B(f,i,a,l,w){Mt(i,l,w,f,a,7);let x=Number(i&BigInt(4294967295));f[a++]=x,x=x>>8,f[a++]=x,x=x>>8,f[a++]=x,x=x>>8,f[a++]=x;let S=Number(i>>BigInt(32)&BigInt(4294967295));return f[a++]=S,S=S>>8,f[a++]=S,S=S>>8,f[a++]=S,S=S>>8,f[a++]=S,a}function nt(f,i,a,l,w){Mt(i,l,w,f,a,7);let x=Number(i&BigInt(4294967295));f[a+7]=x,x=x>>8,f[a+6]=x,x=x>>8,f[a+5]=x,x=x>>8,f[a+4]=x;let S=Number(i>>BigInt(32)&BigInt(4294967295));return f[a+3]=S,S=S>>8,f[a+2]=S,S=S>>8,f[a+1]=S,S=S>>8,f[a]=S,a+8}u.prototype.writeBigUInt64LE=jt(function(i,a=0){return B(this,i,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=jt(function(i,a=0){return nt(this,i,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(i,a,l,w){if(i=+i,a=a>>>0,!w){const Q=Math.pow(2,8*l-1);d(this,i,a,l,Q-1,-Q)}let x=0,S=1,W=0;for(this[a]=i&255;++x<l&&(S*=256);)i<0&&W===0&&this[a+x-1]!==0&&(W=1),this[a+x]=(i/S>>0)-W&255;return a+l},u.prototype.writeIntBE=function(i,a,l,w){if(i=+i,a=a>>>0,!w){const Q=Math.pow(2,8*l-1);d(this,i,a,l,Q-1,-Q)}let x=l-1,S=1,W=0;for(this[a+x]=i&255;--x>=0&&(S*=256);)i<0&&W===0&&this[a+x+1]!==0&&(W=1),this[a+x]=(i/S>>0)-W&255;return a+l},u.prototype.writeInt8=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,1,127,-128),i<0&&(i=255+i+1),this[a]=i&255,a+1},u.prototype.writeInt16LE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,2,32767,-32768),this[a]=i&255,this[a+1]=i>>>8,a+2},u.prototype.writeInt16BE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,2,32767,-32768),this[a]=i>>>8,this[a+1]=i&255,a+2},u.prototype.writeInt32LE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,4,2147483647,-2147483648),this[a]=i&255,this[a+1]=i>>>8,this[a+2]=i>>>16,this[a+3]=i>>>24,a+4},u.prototype.writeInt32BE=function(i,a,l){return i=+i,a=a>>>0,l||d(this,i,a,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[a]=i>>>24,this[a+1]=i>>>16,this[a+2]=i>>>8,this[a+3]=i&255,a+4},u.prototype.writeBigInt64LE=jt(function(i,a=0){return B(this,i,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=jt(function(i,a=0){return nt(this,i,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function tt(f,i,a,l,w,x){if(a+l>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function ot(f,i,a,l,w){return i=+i,a=a>>>0,w||tt(f,i,a,4),e.write(f,i,a,l,23,4),a+4}u.prototype.writeFloatLE=function(i,a,l){return ot(this,i,a,!0,l)},u.prototype.writeFloatBE=function(i,a,l){return ot(this,i,a,!1,l)};function Kt(f,i,a,l,w){return i=+i,a=a>>>0,w||tt(f,i,a,8),e.write(f,i,a,l,52,8),a+8}u.prototype.writeDoubleLE=function(i,a,l){return Kt(this,i,a,!0,l)},u.prototype.writeDoubleBE=function(i,a,l){return Kt(this,i,a,!1,l)},u.prototype.copy=function(i,a,l,w){if(!u.isBuffer(i))throw new TypeError("argument should be a Buffer");if(l||(l=0),!w&&w!==0&&(w=this.length),a>=i.length&&(a=i.length),a||(a=0),w>0&&w<l&&(w=l),w===l||i.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),i.length-a<w-l&&(w=i.length-a+l);const x=w-l;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,l,w):Uint8Array.prototype.set.call(i,this.subarray(l,w),a),x},u.prototype.fill=function(i,a,l,w){if(typeof i=="string"){if(typeof a=="string"?(w=a,a=0,l=this.length):typeof l=="string"&&(w=l,l=this.length),w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!u.isEncoding(w))throw new TypeError("Unknown encoding: "+w);if(i.length===1){const S=i.charCodeAt(0);(w==="utf8"&&S<128||w==="latin1")&&(i=S)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(a<0||this.length<a||this.length<l)throw new RangeError("Out of range index");if(l<=a)return this;a=a>>>0,l=l===void 0?this.length:l>>>0,i||(i=0);let x;if(typeof i=="number")for(x=a;x<l;++x)this[x]=i;else{const S=u.isBuffer(i)?i:u.from(i,w),W=S.length;if(W===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(x=0;x<l-a;++x)this[x+a]=S[x%W]}return this};const dt={};function Et(f,i,a){dt[f]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(w){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:w,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}Et("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Et("ERR_INVALID_ARG_TYPE",function(f,i){return`The "${f}" argument must be of type number. Received type ${typeof i}`},TypeError),Et("ERR_OUT_OF_RANGE",function(f,i,a){let l=`The value of "${f}" is out of range.`,w=a;return Number.isInteger(a)&&Math.abs(a)>2**32?w=tr(String(a)):typeof a=="bigint"&&(w=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(w=tr(w)),w+="n"),l+=` It must be ${i}. Received ${w}`,l},RangeError);function tr(f){let i="",a=f.length;const l=f[0]==="-"?1:0;for(;a>=l+4;a-=3)i=`_${f.slice(a-3,a)}${i}`;return`${f.slice(0,a)}${i}`}function Ct(f,i,a){ve(i,"offset"),(f[i]===void 0||f[i+a]===void 0)&&xt(i,f.length-(a+1))}function Mt(f,i,a,l,w,x){if(f>a||f<i){const S=typeof i=="bigint"?"n":"";let W;throw x>3?i===0||i===BigInt(0)?W=`>= 0${S} and < 2${S} ** ${(x+1)*8}${S}`:W=`>= -(2${S} ** ${(x+1)*8-1}${S}) and < 2 ** ${(x+1)*8-1}${S}`:W=`>= ${i}${S} and <= ${a}${S}`,new dt.ERR_OUT_OF_RANGE("value",W,f)}Ct(l,w,x)}function ve(f,i){if(typeof f!="number")throw new dt.ERR_INVALID_ARG_TYPE(i,"number",f)}function xt(f,i,a){throw Math.floor(f)!==f?(ve(f,a),new dt.ERR_OUT_OF_RANGE(a||"offset","an integer",f)):i<0?new dt.ERR_BUFFER_OUT_OF_BOUNDS:new dt.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${i}`,f)}const Ft=/[^+/0-9A-Za-z-_]/g;function kr(f){if(f=f.split("=")[0],f=f.trim().replace(Ft,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function kt(f,i){i=i||1/0;let a;const l=f.length;let w=null;const x=[];for(let S=0;S<l;++S){if(a=f.charCodeAt(S),a>55295&&a<57344){if(!w){if(a>56319){(i-=3)>-1&&x.push(239,191,189);continue}else if(S+1===l){(i-=3)>-1&&x.push(239,191,189);continue}w=a;continue}if(a<56320){(i-=3)>-1&&x.push(239,191,189),w=a;continue}a=(w-55296<<10|a-56320)+65536}else w&&(i-=3)>-1&&x.push(239,191,189);if(w=null,a<128){if((i-=1)<0)break;x.push(a)}else if(a<2048){if((i-=2)<0)break;x.push(a>>6|192,a&63|128)}else if(a<65536){if((i-=3)<0)break;x.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((i-=4)<0)break;x.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return x}function Ot(f){const i=[];for(let a=0;a<f.length;++a)i.push(f.charCodeAt(a)&255);return i}function Rr(f,i){let a,l,w;const x=[];for(let S=0;S<f.length&&!((i-=2)<0);++S)a=f.charCodeAt(S),l=a>>8,w=a%256,x.push(w),x.push(l);return x}function Tt(f){return t.toByteArray(kr(f))}function _t(f,i,a,l){let w;for(w=0;w<l&&!(w+a>=i.length||w>=f.length);++w)i[w+a]=f[w];return w}function Pt(f,i){return f instanceof i||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===i.name}function Rt(f){return f!==f}const Nt=function(){const f="0123456789abcdef",i=new Array(256);for(let a=0;a<16;++a){const l=a*16;for(let w=0;w<16;++w)i[l+w]=f[a]+f[w]}return i}();function jt(f){return typeof BigInt>"u"?Dt:f}function Dt(){throw new Error("BigInt not supported")}})(Js);Object.defineProperty(P,"__esModule",{value:!0});P.s16=P.s8=P.nu64be=P.u48be=P.u40be=P.u32be=P.u24be=P.u16be=me=P.nu64=P.u48=P.u40=at=P.u32=P.u24=Oe=P.u16=St=P.u8=br=P.offset=P.greedy=P.Constant=P.UTF8=P.CString=P.Blob=P.Boolean=P.BitField=P.BitStructure=P.VariantLayout=P.Union=P.UnionLayoutDiscriminator=P.UnionDiscriminator=P.Structure=P.Sequence=P.DoubleBE=P.Double=P.FloatBE=P.Float=P.NearInt64BE=P.NearInt64=P.NearUInt64BE=P.NearUInt64=P.IntBE=P.Int=P.UIntBE=P.UInt=P.OffsetLayout=P.GreedyCount=P.ExternalLayout=P.bindConstructorLayout=P.nameWithProperty=P.Layout=P.uint8ArrayToBuffer=P.checkUint8Array=void 0;P.constant=P.utf8=P.cstr=Wt=P.blob=P.unionLayoutDiscriminator=P.union=Ie=P.seq=P.bits=it=P.struct=P.f64be=P.f64=P.f32be=P.f32=P.ns64be=P.s48be=P.s40be=P.s32be=P.s24be=P.s16be=Te=P.ns64=P.s48=P.s40=P.s32=P.s24=void 0;const bo=Js;function zr(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}P.checkUint8Array=zr;function vt(n){return zr(n),bo.Buffer.from(n.buffer,n.byteOffset,n.length)}P.uint8ArrayToBuffer=vt;class It{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}P.Layout=It;function xo(n,t){return t.property?n+"["+t.property+"]":n}P.nameWithProperty=xo;function Fu(n,t){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof It))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=t,t.boundConstructor_=n,t.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(n,"decode",{value(e,r){return t.decode(e,r)},writable:!0})}P.bindConstructorLayout=Fu;class ke extends It{isCount(){throw new Error("ExternalLayout is abstract")}}P.ExternalLayout=ke;class Qs extends ke{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){zr(t);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}P.GreedyCount=Qs;class vo extends ke{constructor(t,e=0,r){if(!(t instanceof It))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof He||this.layout instanceof qe}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}P.OffsetLayout=vo;class He extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return vt(t).readUIntLE(e,this.span)}encode(t,e,r=0){return vt(e).writeUIntLE(t,r,this.span),this.span}}P.UInt=He;class qe extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return vt(t).readUIntBE(e,this.span)}encode(t,e,r=0){return vt(e).writeUIntBE(t,r,this.span),this.span}}P.UIntBE=qe;class Sr extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return vt(t).readIntLE(e,this.span)}encode(t,e,r=0){return vt(e).writeIntLE(t,r,this.span),this.span}}P.Int=Sr;class Kr extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return vt(t).readIntBE(e,this.span)}encode(t,e,r=0){return vt(e).writeIntBE(t,r,this.span),this.span}}P.IntBE=Kr;const ro=Math.pow(2,32);function ni(n){const t=Math.floor(n/ro),e=n-t*ro;return{hi32:t,lo32:e}}function ii(n,t){return n*ro+t}class ta extends It{constructor(t){super(8,t)}decode(t,e=0){const r=vt(t),s=r.readUInt32LE(e),o=r.readUInt32LE(e+4);return ii(o,s)}encode(t,e,r=0){const s=ni(t),o=vt(e);return o.writeUInt32LE(s.lo32,r),o.writeUInt32LE(s.hi32,r+4),8}}P.NearUInt64=ta;class ea extends It{constructor(t){super(8,t)}decode(t,e=0){const r=vt(t),s=r.readUInt32BE(e),o=r.readUInt32BE(e+4);return ii(s,o)}encode(t,e,r=0){const s=ni(t),o=vt(e);return o.writeUInt32BE(s.hi32,r),o.writeUInt32BE(s.lo32,r+4),8}}P.NearUInt64BE=ea;class ra extends It{constructor(t){super(8,t)}decode(t,e=0){const r=vt(t),s=r.readUInt32LE(e),o=r.readInt32LE(e+4);return ii(o,s)}encode(t,e,r=0){const s=ni(t),o=vt(e);return o.writeUInt32LE(s.lo32,r),o.writeInt32LE(s.hi32,r+4),8}}P.NearInt64=ra;class na extends It{constructor(t){super(8,t)}decode(t,e=0){const r=vt(t),s=r.readInt32BE(e),o=r.readUInt32BE(e+4);return ii(s,o)}encode(t,e,r=0){const s=ni(t),o=vt(e);return o.writeInt32BE(s.hi32,r),o.writeUInt32BE(s.lo32,r+4),8}}P.NearInt64BE=na;class ia extends It{constructor(t){super(4,t)}decode(t,e=0){return vt(t).readFloatLE(e)}encode(t,e,r=0){return vt(e).writeFloatLE(t,r),4}}P.Float=ia;class oa extends It{constructor(t){super(4,t)}decode(t,e=0){return vt(t).readFloatBE(e)}encode(t,e,r=0){return vt(e).writeFloatBE(t,r),4}}P.FloatBE=oa;class sa extends It{constructor(t){super(8,t)}decode(t,e=0){return vt(t).readDoubleLE(e)}encode(t,e,r=0){return vt(e).writeDoubleLE(t,r),8}}P.Double=sa;class aa extends It{constructor(t){super(8,t)}decode(t,e=0){return vt(t).readDoubleBE(e)}encode(t,e,r=0){return vt(e).writeDoubleBE(t,r),8}}P.DoubleBE=aa;class ca extends It{constructor(t,e,r){if(!(t instanceof It))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ke&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof ke)&&0<t.span&&(s=e*t.span),super(s,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof ke&&(s=s.decode(t,e)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let o=0;for(;o<s;)r+=this.elementLayout.getSpan(t,e+r),++o}return r}decode(t,e=0){const r=[];let s=0,o=this.count;for(o instanceof ke&&(o=o.decode(t,e));s<o;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return r}encode(t,e,r=0){const s=this.elementLayout,o=t.reduce((c,u)=>c+s.encode(u,e,r+c),0);return this.count instanceof ke&&this.count.encode(t.length,e,r),o}}P.Sequence=ca;class ua extends It{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((o,c)=>o&&c instanceof It,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&r===void 0&&(r=e,e=void 0);for(const o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((o,c)=>o+c.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,o)=>{const c=o.getSpan(t,e);return e+=c,s+c},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,e=0){zr(t);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const s=r;let o=0,c=0;for(const u of this.fields){let g=u.span;if(c=0<g?g:0,u.property!==void 0){const v=t[u.property];v!==void 0&&(c=u.encode(v,e,r),0>g&&(g=u.getSpan(e,r)))}o=r,r+=g}return o+c-s}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}P.Structure=ua;class Eo{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,r){throw new Error("UnionDiscriminator is abstract")}}P.UnionDiscriminator=Eo;class Ln extends Eo{constructor(t,e){if(!(t instanceof ke&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}P.UnionLayoutDiscriminator=Ln;class Bo extends It{constructor(t,e,r){let s;if(t instanceof He||t instanceof qe)s=new Ln(new vo(t));else if(t instanceof ke&&t.isCount())s=new Ln(t);else if(t instanceof Eo)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof It))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&(t instanceof He||t instanceof qe)&&(o+=s.layout.span)),super(o,r),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof He||t instanceof qe,this.defaultLayout=e,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,e=0){let r;const s=this.discriminator,o=s.decode(t,e),c=this.registry[o];if(c===void 0){const u=this.defaultLayout;let g=0;this.usesPrefixDiscriminator&&(g=s.layout.span),r=this.makeDestinationObject(),r[s.property]=o,r[u.property]=u.decode(t,e+g)}else r=c.decode(t,e);return r}encode(t,e,r=0){const s=this.getSourceVariant(t);if(s===void 0){const o=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=o.layout.span),o.encode(t[o.property],e,r),u+c.encode(t[c.property],e,r+u)}return s.encode(t,e,r)}addVariant(t,e,r){const s=new fa(this,t,e,r);return this.registry[t]=s,s}getVariant(t,e=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,e):r=t,this.registry[r]}}P.Union=Bo;class fa extends It{constructor(t,e,r,s){if(!(t instanceof Bo))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof It))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=r?r.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,s),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,e+r)),r+s}decode(t,e=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let o=s;if(this.layout&&(this.layout.encode(t[this.property],e,r+s),o+=this.layout.getSpan(e,r+s),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}P.VariantLayout=fa;function Tr(n){return 0>n&&(n+=4294967296),n}class So extends It{constructor(t,e,r){if(!(t instanceof He||t instanceof qe))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&r===void 0&&(r=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(o){return s=Tr(o),this},this._packedGetValue=function(){return s}}decode(t,e=0){const r=this.makeDestinationObject(),s=this.word.decode(t,e);this._packedSetValue(s);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(t));return r}encode(t,e,r=0){const s=this.word.decode(e,r);this._packedSetValue(s);for(const o of this.fields)if(o.property!==void 0){const c=t[o.property];c!==void 0&&o.encode(c)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new _o(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new ha(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}P.BitStructure=So;class _o{constructor(t,e,r){if(!(t instanceof So))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const s=8*t.span,o=t.fields.reduce((c,u)=>c+u.bits,0);if(e+o>s)throw new Error("bits too long for span remainder ("+(s-o)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=s-o-e),this.wordMask=Tr(this.valueMask<<this.start),this.property=r}decode(t,e){const r=this.container._packedGetValue();return Tr(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Tr(t&this.valueMask))throw new TypeError(xo("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=Tr(t<<this.start);this.container._packedSetValue(Tr(e&~this.wordMask)|r)}}P.BitField=_o;let ha=class extends _o{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};P.Boolean=ha;class la extends It{constructor(t,e){if(!(t instanceof ke&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ke||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),vt(t).slice(e,e+r)}encode(t,e,r){let s=this.length;if(this.length instanceof ke&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(xo("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>e.length)throw new RangeError("encoding overruns Uint8Array");const o=vt(t);return vt(e).write(o.toString("hex"),r,s,"hex"),this.length instanceof ke&&this.length.encode(s,e,r),s}}P.Blob=la;class da extends It{constructor(t){super(-1,t)}getSpan(t,e=0){zr(t);let r=e;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-e}decode(t,e=0){const r=this.getSpan(t,e);return vt(t).slice(e,e+r-1).toString("utf-8")}encode(t,e,r=0){typeof t!="string"&&(t=String(t));const s=bo.Buffer.from(t,"utf8"),o=s.length;if(r+o>e.length)throw new RangeError("encoding overruns Buffer");const c=vt(e);return s.copy(c,r),c[r+o]=0,o+1}}P.CString=da;class pa extends It{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return zr(t),t.length-e}decode(t,e=0){const r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return vt(t).slice(e,e+r).toString("utf-8")}encode(t,e,r=0){typeof t!="string"&&(t=String(t));const s=bo.Buffer.from(t,"utf8"),o=s.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(vt(e),r),o}}P.UTF8=pa;class ga extends It{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,r){return 0}}P.Constant=ga;P.greedy=(n,t)=>new Qs(n,t);var br=P.offset=(n,t,e)=>new vo(n,t,e),St=P.u8=n=>new He(1,n),Oe=P.u16=n=>new He(2,n);P.u24=n=>new He(3,n);var at=P.u32=n=>new He(4,n);P.u40=n=>new He(5,n);P.u48=n=>new He(6,n);var me=P.nu64=n=>new ta(n);P.u16be=n=>new qe(2,n);P.u24be=n=>new qe(3,n);P.u32be=n=>new qe(4,n);P.u40be=n=>new qe(5,n);P.u48be=n=>new qe(6,n);P.nu64be=n=>new ea(n);P.s8=n=>new Sr(1,n);P.s16=n=>new Sr(2,n);P.s24=n=>new Sr(3,n);P.s32=n=>new Sr(4,n);P.s40=n=>new Sr(5,n);P.s48=n=>new Sr(6,n);var Te=P.ns64=n=>new ra(n);P.s16be=n=>new Kr(2,n);P.s24be=n=>new Kr(3,n);P.s32be=n=>new Kr(4,n);P.s40be=n=>new Kr(5,n);P.s48be=n=>new Kr(6,n);P.ns64be=n=>new na(n);P.f32=n=>new ia(n);P.f32be=n=>new oa(n);P.f64=n=>new sa(n);P.f64be=n=>new aa(n);var it=P.struct=(n,t,e)=>new ua(n,t,e);P.bits=(n,t,e)=>new So(n,t,e);var Ie=P.seq=(n,t,e)=>new ca(n,t,e);P.union=(n,t,e)=>new Bo(n,t,e);P.unionLayoutDiscriminator=(n,t)=>new Ln(n,t);var Wt=P.blob=(n,t)=>new la(n,t);P.cstr=n=>new da(n);P.utf8=(n,t)=>new pa(n,t);P.constant=(n,t)=>new ga(n,t);var hn={};Object.defineProperty(hn,"__esModule",{value:!0});function Ou(n){{const t=Buffer.from(n);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var Pu=hn.toBigIntLE=Ou;function Nu(n){{const t=n.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}hn.toBigIntBE=Nu;function Du(n,t){{const e=n.toString(16),r=Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return r.reverse(),r}}var Hu=hn.toBufferLE=Du;function qu(n,t){{const e=n.toString(16);return Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}}hn.toBufferBE=qu;class $u extends TypeError{constructor(t,e){let r;const{message:s,...o}=t,{path:c}=t,u=c.length===0?s:"At path: "+c.join(".")+" -- "+s;super(u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var g;return(g=r)!=null?g:r=[t,...e()]}}}function zu(n){return lr(n)&&typeof n[Symbol.iterator]=="function"}function lr(n){return typeof n=="object"&&n!=null}function ze(n){return typeof n=="string"?JSON.stringify(n):""+n}function Ku(n){const{done:t,value:e}=n.next();return t?void 0:e}function Wu(n,t,e,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:o}=t,{type:c}=e,{refinement:u,message:g="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+ze(r)+"`"}=n;return{value:r,type:c,refinement:u,key:s[s.length-1],path:s,branch:o,...n,message:g}}function*Go(n,t,e,r){zu(n)||(n=[n]);for(const s of n){const o=Wu(s,t,e,r);o&&(yield o)}}function*Ao(n,t,e={}){const{path:r=[],branch:s=[n],coerce:o=!1,mask:c=!1}=e,u={path:r,branch:s};if(o&&(n=t.coercer(n,u),c&&t.type!=="type"&&lr(t.schema)&&lr(n)&&!Array.isArray(n)))for(const v in n)t.schema[v]===void 0&&delete n[v];let g=!0;for(const v of t.validator(n,u))g=!1,yield[v,void 0];for(let[v,k,_]of t.entries(n,u)){const U=Ao(k,_,{path:v===void 0?r:[...r,v],branch:v===void 0?s:[...s,k],coerce:o,mask:c});for(const M of U)M[0]?(g=!1,yield[M[0],void 0]):o&&(k=M[1],v===void 0?n=k:n instanceof Map?n.set(v,k):n instanceof Set?n.add(k):lr(n)&&(n[v]=k))}if(g)for(const v of t.refiner(n,u))g=!1,yield[v,void 0];g&&(yield[void 0,n])}let Ye=class{constructor(t){const{type:e,schema:r,validator:s,refiner:o,coercer:c=g=>g,entries:u=function*(){}}=t;this.type=e,this.schema=r,this.entries=u,this.coercer=c,s?this.validator=(g,v)=>{const k=s(g,v);return Go(k,v,this,g)}:this.validator=()=>[],o?this.refiner=(g,v)=>{const k=o(g,v);return Go(k,v,this,g)}:this.refiner=()=>[]}assert(t){return Gu(t,this)}create(t){return G(t,this)}is(t){return ya(t,this)}mask(t){return ju(t,this)}validate(t,e={}){return ln(t,this,e)}};function Gu(n,t){const e=ln(n,t);if(e[0])throw e[0]}function G(n,t){const e=ln(n,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function ju(n,t){const e=ln(n,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function ya(n,t){return!ln(n,t)[0]}function ln(n,t,e={}){const r=Ao(n,t,e),s=Ku(r);return s[0]?[new $u(s[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0]:[void 0,s[1]]}function _r(n,t){return new Ye({type:n,schema:null,validator:t})}function Vu(){return _r("any",()=>!0)}function Y(n){return new Ye({type:"array",schema:n,*entries(t){if(n&&Array.isArray(t))for(const[e,r]of t.entries())yield[e,r,n]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+ze(t)}})}function Qe(){return _r("boolean",n=>typeof n=="boolean")}function Io(n){return _r("instance",t=>t instanceof n||"Expected a `"+n.name+"` instance, but received: "+ze(t))}function $t(n){const t=ze(n),e=typeof n;return new Ye({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+t+"`, but received: "+ze(r)}})}function Zu(){return _r("never",()=>!1)}function X(n){return new Ye({...n,validator:(t,e)=>t===null||n.validator(t,e),refiner:(t,e)=>t===null||n.refiner(t,e)})}function F(){return _r("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+ze(n))}function ct(n){return new Ye({...n,validator:(t,e)=>t===void 0||n.validator(t,e),refiner:(t,e)=>t===void 0||n.refiner(t,e)})}function wa(n,t){return new Ye({type:"record",schema:null,*entries(e){if(lr(e))for(const r in e){const s=e[r];yield[r,r,n],yield[r,s,t]}},validator(e){return lr(e)||"Expected an object, but received: "+ze(e)}})}function z(){return _r("string",n=>typeof n=="string"||"Expected a string, but received: "+ze(n))}function ko(n){const t=Zu();return new Ye({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const r=Math.max(n.length,e.length);for(let s=0;s<r;s++)yield[s,e[s],n[s]||t]}},validator(e){return Array.isArray(e)||"Expected an array, but received: "+ze(e)}})}function $(n){const t=Object.keys(n);return new Ye({type:"type",schema:n,*entries(e){if(lr(e))for(const r of t)yield[r,e[r],n[r]]},validator(e){return lr(e)||"Expected an object, but received: "+ze(e)}})}function Re(n){const t=n.map(e=>e.type).join(" | ");return new Ye({type:"union",schema:null,validator(e,r){const s=[];for(const o of n){const[...c]=Ao(e,o,r),[u]=c;if(u[0])for(const[g]of c)g&&s.push(g);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+ze(e),...s]}})}function dn(){return _r("unknown",()=>!0)}function pn(n,t,e){return new Ye({...n,coercer:(r,s)=>ya(r,t)?n.coercer(e(r,s),s):n.coercer(r,s)})}var mn,Xu=new Uint8Array(16);function ma(){if(!mn&&(mn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!mn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mn(Xu)}const Yu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function oi(n){return typeof n=="string"&&Yu.test(n)}var we=[];for(var Di=0;Di<256;++Di)we.push((Di+256).toString(16).substr(1));function si(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(we[n[t+0]]+we[n[t+1]]+we[n[t+2]]+we[n[t+3]]+"-"+we[n[t+4]]+we[n[t+5]]+"-"+we[n[t+6]]+we[n[t+7]]+"-"+we[n[t+8]]+we[n[t+9]]+"-"+we[n[t+10]]+we[n[t+11]]+we[n[t+12]]+we[n[t+13]]+we[n[t+14]]+we[n[t+15]]).toLowerCase();if(!oi(e))throw TypeError("Stringified UUID is invalid");return e}var jo,Hi,qi=0,$i=0;function Ju(n,t,e){var r=t&&e||0,s=t||new Array(16);n=n||{};var o=n.node||jo,c=n.clockseq!==void 0?n.clockseq:Hi;if(o==null||c==null){var u=n.random||(n.rng||ma)();o==null&&(o=jo=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),c==null&&(c=Hi=(u[6]<<8|u[7])&16383)}var g=n.msecs!==void 0?n.msecs:Date.now(),v=n.nsecs!==void 0?n.nsecs:$i+1,k=g-qi+(v-$i)/1e4;if(k<0&&n.clockseq===void 0&&(c=c+1&16383),(k<0||g>qi)&&n.nsecs===void 0&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");qi=g,$i=v,Hi=c,g+=122192928e5;var _=((g&268435455)*1e4+v)%4294967296;s[r++]=_>>>24&255,s[r++]=_>>>16&255,s[r++]=_>>>8&255,s[r++]=_&255;var U=g/4294967296*1e4&268435455;s[r++]=U>>>8&255,s[r++]=U&255,s[r++]=U>>>24&15|16,s[r++]=U>>>16&255,s[r++]=c>>>8|128,s[r++]=c&255;for(var M=0;M<6;++M)s[r+M]=o[M];return t||si(s)}function ba(n){if(!oi(n))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function Qu(n){n=unescape(encodeURIComponent(n));for(var t=[],e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}var tf="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ef="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function xa(n,t,e){function r(s,o,c,u){if(typeof s=="string"&&(s=Qu(s)),typeof o=="string"&&(o=ba(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var g=new Uint8Array(16+s.length);if(g.set(o),g.set(s,o.length),g=e(g),g[6]=g[6]&15|t,g[8]=g[8]&63|128,c){u=u||0;for(var v=0;v<16;++v)c[u+v]=g[v];return c}return si(g)}try{r.name=n}catch{}return r.DNS=tf,r.URL=ef,r}function rf(n){if(typeof n=="string"){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return nf(of(sf(n),n.length*8))}function nf(n){for(var t=[],e=n.length*32,r="0123456789abcdef",s=0;s<e;s+=8){var o=n[s>>5]>>>s%32&255,c=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);t.push(c)}return t}function va(n){return(n+64>>>9<<4)+14+1}function of(n,t){n[t>>5]|=128<<t%32,n[va(t)-1]=t;for(var e=1732584193,r=-271733879,s=-1732584194,o=271733878,c=0;c<n.length;c+=16){var u=e,g=r,v=s,k=o;e=Ee(e,r,s,o,n[c],7,-680876936),o=Ee(o,e,r,s,n[c+1],12,-389564586),s=Ee(s,o,e,r,n[c+2],17,606105819),r=Ee(r,s,o,e,n[c+3],22,-1044525330),e=Ee(e,r,s,o,n[c+4],7,-176418897),o=Ee(o,e,r,s,n[c+5],12,1200080426),s=Ee(s,o,e,r,n[c+6],17,-1473231341),r=Ee(r,s,o,e,n[c+7],22,-45705983),e=Ee(e,r,s,o,n[c+8],7,1770035416),o=Ee(o,e,r,s,n[c+9],12,-1958414417),s=Ee(s,o,e,r,n[c+10],17,-42063),r=Ee(r,s,o,e,n[c+11],22,-1990404162),e=Ee(e,r,s,o,n[c+12],7,1804603682),o=Ee(o,e,r,s,n[c+13],12,-40341101),s=Ee(s,o,e,r,n[c+14],17,-1502002290),r=Ee(r,s,o,e,n[c+15],22,1236535329),e=Be(e,r,s,o,n[c+1],5,-165796510),o=Be(o,e,r,s,n[c+6],9,-1069501632),s=Be(s,o,e,r,n[c+11],14,643717713),r=Be(r,s,o,e,n[c],20,-373897302),e=Be(e,r,s,o,n[c+5],5,-701558691),o=Be(o,e,r,s,n[c+10],9,38016083),s=Be(s,o,e,r,n[c+15],14,-660478335),r=Be(r,s,o,e,n[c+4],20,-405537848),e=Be(e,r,s,o,n[c+9],5,568446438),o=Be(o,e,r,s,n[c+14],9,-1019803690),s=Be(s,o,e,r,n[c+3],14,-187363961),r=Be(r,s,o,e,n[c+8],20,1163531501),e=Be(e,r,s,o,n[c+13],5,-1444681467),o=Be(o,e,r,s,n[c+2],9,-51403784),s=Be(s,o,e,r,n[c+7],14,1735328473),r=Be(r,s,o,e,n[c+12],20,-1926607734),e=Se(e,r,s,o,n[c+5],4,-378558),o=Se(o,e,r,s,n[c+8],11,-2022574463),s=Se(s,o,e,r,n[c+11],16,1839030562),r=Se(r,s,o,e,n[c+14],23,-35309556),e=Se(e,r,s,o,n[c+1],4,-1530992060),o=Se(o,e,r,s,n[c+4],11,1272893353),s=Se(s,o,e,r,n[c+7],16,-155497632),r=Se(r,s,o,e,n[c+10],23,-1094730640),e=Se(e,r,s,o,n[c+13],4,681279174),o=Se(o,e,r,s,n[c],11,-358537222),s=Se(s,o,e,r,n[c+3],16,-722521979),r=Se(r,s,o,e,n[c+6],23,76029189),e=Se(e,r,s,o,n[c+9],4,-640364487),o=Se(o,e,r,s,n[c+12],11,-421815835),s=Se(s,o,e,r,n[c+15],16,530742520),r=Se(r,s,o,e,n[c+2],23,-995338651),e=_e(e,r,s,o,n[c],6,-198630844),o=_e(o,e,r,s,n[c+7],10,1126891415),s=_e(s,o,e,r,n[c+14],15,-1416354905),r=_e(r,s,o,e,n[c+5],21,-57434055),e=_e(e,r,s,o,n[c+12],6,1700485571),o=_e(o,e,r,s,n[c+3],10,-1894986606),s=_e(s,o,e,r,n[c+10],15,-1051523),r=_e(r,s,o,e,n[c+1],21,-2054922799),e=_e(e,r,s,o,n[c+8],6,1873313359),o=_e(o,e,r,s,n[c+15],10,-30611744),s=_e(s,o,e,r,n[c+6],15,-1560198380),r=_e(r,s,o,e,n[c+13],21,1309151649),e=_e(e,r,s,o,n[c+4],6,-145523070),o=_e(o,e,r,s,n[c+11],10,-1120210379),s=_e(s,o,e,r,n[c+2],15,718787259),r=_e(r,s,o,e,n[c+9],21,-343485551),e=fr(e,u),r=fr(r,g),s=fr(s,v),o=fr(o,k)}return[e,r,s,o]}function sf(n){if(n.length===0)return[];for(var t=n.length*8,e=new Uint32Array(va(t)),r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function fr(n,t){var e=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(e>>16);return r<<16|e&65535}function af(n,t){return n<<t|n>>>32-t}function ai(n,t,e,r,s,o){return fr(af(fr(fr(t,n),fr(r,o)),s),e)}function Ee(n,t,e,r,s,o,c){return ai(t&e|~t&r,n,t,s,o,c)}function Be(n,t,e,r,s,o,c){return ai(t&r|e&~r,n,t,s,o,c)}function Se(n,t,e,r,s,o,c){return ai(t^e^r,n,t,s,o,c)}function _e(n,t,e,r,s,o,c){return ai(e^(t|~r),n,t,s,o,c)}var cf=xa("v3",48,rf);const uf=cf;function ff(n,t,e){n=n||{};var r=n.random||(n.rng||ma)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=r[s];return t}return si(r)}function hf(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function zi(n,t){return n<<t|n>>>32-t}function lf(n){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var s=0;s<r.length;++s)n.push(r.charCodeAt(s))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var o=n.length/4+2,c=Math.ceil(o/16),u=new Array(c),g=0;g<c;++g){for(var v=new Uint32Array(16),k=0;k<16;++k)v[k]=n[g*64+k*4]<<24|n[g*64+k*4+1]<<16|n[g*64+k*4+2]<<8|n[g*64+k*4+3];u[g]=v}u[c-1][14]=(n.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(n.length-1)*8&4294967295;for(var _=0;_<c;++_){for(var U=new Uint32Array(80),M=0;M<16;++M)U[M]=u[_][M];for(var T=16;T<80;++T)U[T]=zi(U[T-3]^U[T-8]^U[T-14]^U[T-16],1);for(var L=e[0],C=e[1],D=e[2],H=e[3],O=e[4],Z=0;Z<80;++Z){var N=Math.floor(Z/20),j=zi(L,5)+hf(N,C,D,H)+O+t[N]+U[Z]>>>0;O=H,H=D,D=zi(C,30)>>>0,C=L,L=j}e[0]=e[0]+L>>>0,e[1]=e[1]+C>>>0,e[2]=e[2]+D>>>0,e[3]=e[3]+H>>>0,e[4]=e[4]+O>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var df=xa("v5",80,lf);const pf=df,gf="00000000-0000-0000-0000-000000000000";function yf(n){if(!oi(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const wf=Object.freeze(Object.defineProperty({__proto__:null,NIL:gf,parse:ba,stringify:si,v1:Ju,v3:uf,v4:ff,v5:pf,validate:oi,version:yf},Symbol.toStringTag,{value:"Module"})),Ea=fo(wf),mf=Ea.v4,bf=function(n,t,e,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const o={method:n};if(s===2&&(o.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(typeof e>"u"){const c=typeof r.generator=="function"?r.generator:function(){return mf()};o.id=c(o,r)}else s===2&&e===null?r.notificationIdNull&&(o.id=null):o.id=e;return o};var xf=bf;const vf=Ea.v4,Ef=xf,nn=function(n,t){if(!(this instanceof nn))return new nn(n,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return vf()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=n};var Bf=nn;nn.prototype.request=function(n,t,e,r){const s=this;let o=null;const c=Array.isArray(n)&&typeof t=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&n&&typeof n=="object"&&typeof t=="function")r=t,o=n;else{typeof e=="function"&&(r=e,e=void 0);const v=typeof r=="function";try{o=Ef(n,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(k){if(v)return r(k);throw k}if(!v)return o}let g;try{g=JSON.stringify(o,this.options.replacer)}catch(v){return r(v)}return this.callServer(g,function(v,k){s._parseResponse(v,k,r)}),o};nn.prototype._parseResponse=function(n,t,e){if(n){e(n);return}if(!t)return e();let r;try{r=JSON.parse(t,this.options.reviver)}catch(s){return e(s)}if(e.length===3)if(Array.isArray(r)){const s=function(c){return typeof c.error<"u"},o=function(c){return!s(c)};return e(null,r.filter(s),r.filter(o))}else return e(null,r.error,r.result);e(null,r)};var Ba={},Cn={},Sf={get exports(){return Cn},set exports(n){Cn=n}};(function(n){function t(e){return e&&e.__esModule?e:{default:e}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(Sf);var Fn={},_f={get exports(){return Fn},set exports(n){Fn=n}},On={},Af={get exports(){return On},set exports(n){On=n}},Vo;function gn(){return Vo||(Vo=1,function(n){function t(e){return n.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,t(e)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Af)),On}var Zo;function If(){return Zo||(Zo=1,function(n){var t=gn().default;function e(){n.exports=e=function(){return r},n.exports.__esModule=!0,n.exports.default=n.exports;var r={},s=Object.prototype,o=s.hasOwnProperty,c=Object.defineProperty||function(p,y,m){p[y]=m.value},u=typeof Symbol=="function"?Symbol:{},g=u.iterator||"@@iterator",v=u.asyncIterator||"@@asyncIterator",k=u.toStringTag||"@@toStringTag";function _(p,y,m){return Object.defineProperty(p,y,{value:m,enumerable:!0,configurable:!0,writable:!0}),p[y]}try{_({},"")}catch{_=function(m,E,I){return m[E]=I}}function U(p,y,m,E){var I=y&&y.prototype instanceof L?y:L,R=Object.create(I.prototype),b=new Ut(E||[]);return c(R,"_invoke",{value:rt(p,m,b)}),R}function M(p,y,m){try{return{type:"normal",arg:p.call(y,m)}}catch(E){return{type:"throw",arg:E}}}r.wrap=U;var T={};function L(){}function C(){}function D(){}var H={};_(H,g,function(){return this});var O=Object.getPrototypeOf,Z=O&&O(O(A([])));Z&&Z!==s&&o.call(Z,g)&&(H=Z);var N=D.prototype=L.prototype=Object.create(H);function j(p){["next","throw","return"].forEach(function(y){_(p,y,function(m){return this._invoke(y,m)})})}function K(p,y){function m(I,R,b,d){var B=M(p[I],p,R);if(B.type!=="throw"){var nt=B.arg,tt=nt.value;return tt&&t(tt)=="object"&&o.call(tt,"__await")?y.resolve(tt.__await).then(function(ot){m("next",ot,b,d)},function(ot){m("throw",ot,b,d)}):y.resolve(tt).then(function(ot){nt.value=ot,b(nt)},function(ot){return m("throw",ot,b,d)})}d(B.arg)}var E;c(this,"_invoke",{value:function(R,b){function d(){return new y(function(B,nt){m(R,b,B,nt)})}return E=E?E.then(d,d):d()}})}function rt(p,y,m){var E="suspendedStart";return function(I,R){if(E==="executing")throw new Error("Generator is already running");if(E==="completed"){if(I==="throw")throw R;return h()}for(m.method=I,m.arg=R;;){var b=m.delegate;if(b){var d=wt(b,m);if(d){if(d===T)continue;return d}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(E==="suspendedStart")throw E="completed",m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);E="executing";var B=M(p,y,m);if(B.type==="normal"){if(E=m.done?"completed":"suspendedYield",B.arg===T)continue;return{value:B.arg,done:m.done}}B.type==="throw"&&(E="completed",m.method="throw",m.arg=B.arg)}}}function wt(p,y){var m=y.method,E=p.iterator[m];if(E===void 0)return y.delegate=null,m==="throw"&&p.iterator.return&&(y.method="return",y.arg=void 0,wt(p,y),y.method==="throw")||m!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+m+"' method")),T;var I=M(E,p.iterator,y.arg);if(I.type==="throw")return y.method="throw",y.arg=I.arg,y.delegate=null,T;var R=I.arg;return R?R.done?(y[p.resultName]=R.value,y.next=p.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,T):R:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,T)}function zt(p){var y={tryLoc:p[0]};1 in p&&(y.catchLoc=p[1]),2 in p&&(y.finallyLoc=p[2],y.afterLoc=p[3]),this.tryEntries.push(y)}function gt(p){var y=p.completion||{};y.type="normal",delete y.arg,p.completion=y}function Ut(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(zt,this),this.reset(!0)}function A(p){if(p){var y=p[g];if(y)return y.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var m=-1,E=function I(){for(;++m<p.length;)if(o.call(p,m))return I.value=p[m],I.done=!1,I;return I.value=void 0,I.done=!0,I};return E.next=E}}return{next:h}}function h(){return{value:void 0,done:!0}}return C.prototype=D,c(N,"constructor",{value:D,configurable:!0}),c(D,"constructor",{value:C,configurable:!0}),C.displayName=_(D,k,"GeneratorFunction"),r.isGeneratorFunction=function(p){var y=typeof p=="function"&&p.constructor;return!!y&&(y===C||(y.displayName||y.name)==="GeneratorFunction")},r.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,D):(p.__proto__=D,_(p,k,"GeneratorFunction")),p.prototype=Object.create(N),p},r.awrap=function(p){return{__await:p}},j(K.prototype),_(K.prototype,v,function(){return this}),r.AsyncIterator=K,r.async=function(p,y,m,E,I){I===void 0&&(I=Promise);var R=new K(U(p,y,m,E),I);return r.isGeneratorFunction(y)?R:R.next().then(function(b){return b.done?b.value:R.next()})},j(N),_(N,k,"Generator"),_(N,g,function(){return this}),_(N,"toString",function(){return"[object Generator]"}),r.keys=function(p){var y=Object(p),m=[];for(var E in y)m.push(E);return m.reverse(),function I(){for(;m.length;){var R=m.pop();if(R in y)return I.value=R,I.done=!1,I}return I.done=!0,I}},r.values=A,Ut.prototype={constructor:Ut,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(gt),!y)for(var m in this)m.charAt(0)==="t"&&o.call(this,m)&&!isNaN(+m.slice(1))&&(this[m]=void 0)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var m=this;function E(nt,tt){return b.type="throw",b.arg=y,m.next=nt,tt&&(m.method="next",m.arg=void 0),!!tt}for(var I=this.tryEntries.length-1;I>=0;--I){var R=this.tryEntries[I],b=R.completion;if(R.tryLoc==="root")return E("end");if(R.tryLoc<=this.prev){var d=o.call(R,"catchLoc"),B=o.call(R,"finallyLoc");if(d&&B){if(this.prev<R.catchLoc)return E(R.catchLoc,!0);if(this.prev<R.finallyLoc)return E(R.finallyLoc)}else if(d){if(this.prev<R.catchLoc)return E(R.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return E(R.finallyLoc)}}}},abrupt:function(y,m){for(var E=this.tryEntries.length-1;E>=0;--E){var I=this.tryEntries[E];if(I.tryLoc<=this.prev&&o.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var R=I;break}}R&&(y==="break"||y==="continue")&&R.tryLoc<=m&&m<=R.finallyLoc&&(R=null);var b=R?R.completion:{};return b.type=y,b.arg=m,R?(this.method="next",this.next=R.finallyLoc,T):this.complete(b)},complete:function(y,m){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&m&&(this.next=m),T},finish:function(y){for(var m=this.tryEntries.length-1;m>=0;--m){var E=this.tryEntries[m];if(E.finallyLoc===y)return this.complete(E.completion,E.afterLoc),gt(E),T}},catch:function(y){for(var m=this.tryEntries.length-1;m>=0;--m){var E=this.tryEntries[m];if(E.tryLoc===y){var I=E.completion;if(I.type==="throw"){var R=I.arg;gt(E)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(y,m,E){return this.delegate={iterator:A(y),resultName:m,nextLoc:E},this.method==="next"&&(this.arg=void 0),T}},r}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(_f)),Fn}var Ki,Xo;function kf(){if(Xo)return Ki;Xo=1;var n=If()();Ki=n;try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}return Ki}var Pn={},Rf={get exports(){return Pn},set exports(n){Pn=n}},Yo;function Mf(){return Yo||(Yo=1,function(n){function t(r,s,o,c,u,g,v){try{var k=r[g](v),_=k.value}catch(U){o(U);return}k.done?s(_):Promise.resolve(_).then(c,u)}function e(r){return function(){var s=this,o=arguments;return new Promise(function(c,u){var g=r.apply(s,o);function v(_){t(g,c,u,v,k,"next",_)}function k(_){t(g,c,u,v,k,"throw",_)}v(void 0)})}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Rf)),Pn}var Nn={},Tf={get exports(){return Nn},set exports(n){Nn=n}},Jo;function Sa(){return Jo||(Jo=1,function(n){function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Tf)),Nn}var Dn={},Uf={get exports(){return Dn},set exports(n){Dn=n}},Hn={},Lf={get exports(){return Hn},set exports(n){Hn=n}},qn={},Cf={get exports(){return qn},set exports(n){qn=n}},Qo;function Ff(){return Qo||(Qo=1,function(n){var t=gn().default;function e(r,s){if(t(r)!=="object"||r===null)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var c=o.call(r,s||"default");if(t(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Cf)),qn}var ts;function Of(){return ts||(ts=1,function(n){var t=gn().default,e=Ff();function r(s){var o=e(s,"string");return t(o)==="symbol"?o:String(o)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(Lf)),Hn}var es;function _a(){return es||(es=1,function(n){var t=Of();function e(s,o){for(var c=0;c<o.length;c++){var u=o[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,t(u.key),u)}}function r(s,o,c){return o&&e(s.prototype,o),c&&e(s,c),Object.defineProperty(s,"prototype",{writable:!1}),s}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(Uf)),Dn}var $n={},Pf={get exports(){return $n},set exports(n){$n=n}},zn={},Nf={get exports(){return zn},set exports(n){zn=n}},rs;function Df(){return rs||(rs=1,function(n){function t(e,r){return n.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},n.exports.__esModule=!0,n.exports.default=n.exports,t(e,r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Nf)),zn}var ns;function Aa(){return ns||(ns=1,function(n){var t=Df();function e(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&t(r,s)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Pf)),$n}var Kn={},Hf={get exports(){return Kn},set exports(n){Kn=n}},Wn={},qf={get exports(){return Wn},set exports(n){Wn=n}},is;function $f(){return is||(is=1,function(n){function t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(qf)),Wn}var os;function Ia(){return os||(os=1,function(n){var t=gn().default,e=$f();function r(s,o){if(o&&(t(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(s)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(Hf)),Kn}var Gn={},zf={get exports(){return Gn},set exports(n){Gn=n}},ss;function ka(){return ss||(ss=1,function(n){function t(e){return n.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},n.exports.__esModule=!0,n.exports.default=n.exports,t(e)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(zf)),Gn}var jn={},Kf={get exports(){return jn},set exports(n){jn=n}},as;function Ra(){return as||(as=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function s(g,v,k){this.fn=g,this.context=v,this.once=k||!1}function o(g,v,k,_,U){if(typeof k!="function")throw new TypeError("The listener must be a function");var M=new s(k,_||g,U),T=e?e+v:v;return g._events[T]?g._events[T].fn?g._events[T]=[g._events[T],M]:g._events[T].push(M):(g._events[T]=M,g._eventsCount++),g}function c(g,v){--g._eventsCount===0?g._events=new r:delete g._events[v]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var v=[],k,_;if(this._eventsCount===0)return v;for(_ in k=this._events)t.call(k,_)&&v.push(e?_.slice(1):_);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(k)):v},u.prototype.listeners=function(v){var k=e?e+v:v,_=this._events[k];if(!_)return[];if(_.fn)return[_.fn];for(var U=0,M=_.length,T=new Array(M);U<M;U++)T[U]=_[U].fn;return T},u.prototype.listenerCount=function(v){var k=e?e+v:v,_=this._events[k];return _?_.fn?1:_.length:0},u.prototype.emit=function(v,k,_,U,M,T){var L=e?e+v:v;if(!this._events[L])return!1;var C=this._events[L],D=arguments.length,H,O;if(C.fn){switch(C.once&&this.removeListener(v,C.fn,void 0,!0),D){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,k),!0;case 3:return C.fn.call(C.context,k,_),!0;case 4:return C.fn.call(C.context,k,_,U),!0;case 5:return C.fn.call(C.context,k,_,U,M),!0;case 6:return C.fn.call(C.context,k,_,U,M,T),!0}for(O=1,H=new Array(D-1);O<D;O++)H[O-1]=arguments[O];C.fn.apply(C.context,H)}else{var Z=C.length,N;for(O=0;O<Z;O++)switch(C[O].once&&this.removeListener(v,C[O].fn,void 0,!0),D){case 1:C[O].fn.call(C[O].context);break;case 2:C[O].fn.call(C[O].context,k);break;case 3:C[O].fn.call(C[O].context,k,_);break;case 4:C[O].fn.call(C[O].context,k,_,U);break;default:if(!H)for(N=1,H=new Array(D-1);N<D;N++)H[N-1]=arguments[N];C[O].fn.apply(C[O].context,H)}}return!0},u.prototype.on=function(v,k,_){return o(this,v,k,_,!1)},u.prototype.once=function(v,k,_){return o(this,v,k,_,!0)},u.prototype.removeListener=function(v,k,_,U){var M=e?e+v:v;if(!this._events[M])return this;if(!k)return c(this,M),this;var T=this._events[M];if(T.fn)T.fn===k&&(!U||T.once)&&(!_||T.context===_)&&c(this,M);else{for(var L=0,C=[],D=T.length;L<D;L++)(T[L].fn!==k||U&&!T[L].once||_&&T[L].context!==_)&&C.push(T[L]);C.length?this._events[M]=C.length===1?C[0]:C:c(this,M)}return this},u.prototype.removeAllListeners=function(v){var k;return v?(k=e?e+v:v,this._events[k]&&c(this,k)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=e,u.EventEmitter=u,n.exports=u}(Kf)),jn}(function(n){var t=Cn;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(kf()),r=t(Mf()),s=t(gn()),o=t(Sa()),c=t(_a()),u=t(Aa()),g=t(Ia()),v=t(ka()),k=Ra();function _(L){var C=U();return function(){var H=(0,v.default)(L),O;if(C){var Z=(0,v.default)(this).constructor;O=Reflect.construct(H,arguments,Z)}else O=H.apply(this,arguments);return(0,g.default)(this,O)}}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var M=function(L,C){var D={};for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&C.indexOf(H)<0&&(D[H]=L[H]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,H=Object.getOwnPropertySymbols(L);O<H.length;O++)C.indexOf(H[O])<0&&Object.prototype.propertyIsEnumerable.call(L,H[O])&&(D[H[O]]=L[H[O]]);return D},T=function(L){(0,u.default)(D,L);var C=_(D);function D(H){var O,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments.length>3?arguments[3]:void 0;(0,o.default)(this,D);var K=N.autoconnect,rt=K===void 0?!0:K,wt=N.reconnect,zt=wt===void 0?!0:wt,gt=N.reconnect_interval,Ut=gt===void 0?1e3:gt,A=N.max_reconnects,h=A===void 0?5:A,p=M(N,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return O=C.call(this),O.webSocketFactory=H,O.queue={},O.rpc_id=0,O.address=Z,O.autoconnect=rt,O.ready=!1,O.reconnect=zt,O.reconnect_timer_id=void 0,O.reconnect_interval=Ut,O.max_reconnects=h,O.rest_options=p,O.current_reconnects=0,O.generate_request_id=j||function(){return++O.rpc_id},O.autoconnect&&O._connect(O.address,Object.assign({autoconnect:O.autoconnect,reconnect:O.reconnect,reconnect_interval:O.reconnect_interval,max_reconnects:O.max_reconnects},O.rest_options)),O}return(0,c.default)(D,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(O,Z,N,j){var K=this;return!j&&(0,s.default)(N)==="object"&&(j=N,N=null),new Promise(function(rt,wt){if(!K.ready)return wt(new Error("socket not ready"));var zt=K.generate_request_id(O,Z),gt={jsonrpc:"2.0",method:O,params:Z||null,id:zt};K.socket.send(JSON.stringify(gt),j,function(Ut){if(Ut)return wt(Ut);K.queue[zt]={promise:[rt,wt]},N&&(K.queue[zt].timeout=setTimeout(function(){delete K.queue[zt],wt(new Error("reply timeout"))},N))})})}},{key:"login",value:function(){var H=(0,r.default)(e.default.mark(function Z(N){var j;return e.default.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.next=2,this.call("rpc.login",N);case 2:if(j=rt.sent,j){rt.next=5;break}throw new Error("authentication failed");case 5:return rt.abrupt("return",j);case 6:case"end":return rt.stop()}},Z,this)}));function O(Z){return H.apply(this,arguments)}return O}()},{key:"listMethods",value:function(){var H=(0,r.default)(e.default.mark(function Z(){return e.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,this.call("__listMethods");case 2:return j.abrupt("return",j.sent);case 3:case"end":return j.stop()}},Z,this)}));function O(){return H.apply(this,arguments)}return O}()},{key:"notify",value:function(O,Z){var N=this;return new Promise(function(j,K){if(!N.ready)return K(new Error("socket not ready"));var rt={jsonrpc:"2.0",method:O,params:Z||null};N.socket.send(JSON.stringify(rt),function(wt){if(wt)return K(wt);j()})})}},{key:"subscribe",value:function(){var H=(0,r.default)(e.default.mark(function Z(N){var j;return e.default.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return typeof N=="string"&&(N=[N]),rt.next=3,this.call("rpc.on",N);case 3:if(j=rt.sent,!(typeof N=="string"&&j[N]!=="ok")){rt.next=6;break}throw new Error("Failed subscribing to an event '"+N+"' with: "+j[N]);case 6:return rt.abrupt("return",j);case 7:case"end":return rt.stop()}},Z,this)}));function O(Z){return H.apply(this,arguments)}return O}()},{key:"unsubscribe",value:function(){var H=(0,r.default)(e.default.mark(function Z(N){var j;return e.default.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return typeof N=="string"&&(N=[N]),rt.next=3,this.call("rpc.off",N);case 3:if(j=rt.sent,!(typeof N=="string"&&j[N]!=="ok")){rt.next=6;break}throw new Error("Failed unsubscribing from an event with: "+j);case 6:return rt.abrupt("return",j);case 7:case"end":return rt.stop()}},Z,this)}));function O(Z){return H.apply(this,arguments)}return O}()},{key:"close",value:function(O,Z){this.socket.close(O||1e3,Z)}},{key:"_connect",value:function(O,Z){var N=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(O,Z),this.socket.addEventListener("open",function(){N.ready=!0,N.emit("open"),N.current_reconnects=0}),this.socket.addEventListener("message",function(j){var K=j.data;K instanceof ArrayBuffer&&(K=Buffer.from(K).toString());try{K=JSON.parse(K)}catch{return}if(K.notification&&N.listeners(K.notification).length){if(!Object.keys(K.params).length)return N.emit(K.notification);var rt=[K.notification];if(K.params.constructor===Object)rt.push(K.params);else for(var wt=0;wt<K.params.length;wt++)rt.push(K.params[wt]);return Promise.resolve().then(function(){N.emit.apply(N,rt)})}if(!N.queue[K.id])return K.method&&K.params?Promise.resolve().then(function(){N.emit(K.method,K.params)}):void 0;"error"in K=="result"in K&&N.queue[K.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),N.queue[K.id].timeout&&clearTimeout(N.queue[K.id].timeout),K.error?N.queue[K.id].promise[1](K.error):N.queue[K.id].promise[0](K.result),delete N.queue[K.id]}),this.socket.addEventListener("error",function(j){return N.emit("error",j)}),this.socket.addEventListener("close",function(j){var K=j.code,rt=j.reason;N.ready&&setTimeout(function(){return N.emit("close",K,rt)},0),N.ready=!1,N.socket=void 0,K!==1e3&&(N.current_reconnects++,N.reconnect&&(N.max_reconnects>N.current_reconnects||N.max_reconnects===0)&&(N.reconnect_timer_id=setTimeout(function(){return N._connect(O,Z)},N.reconnect_interval)))})}}]),D}(k.EventEmitter);n.default=T})(Ba);const Wf=Ts(Ba);var Ma={};(function(n){var t=Cn;Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var e=t(Sa()),r=t(_a()),s=t(Aa()),o=t(Ia()),c=t(ka()),u=Ra();function g(U){var M=v();return function(){var L=(0,c.default)(U),C;if(M){var D=(0,c.default)(this).constructor;C=Reflect.construct(L,arguments,D)}else C=L.apply(this,arguments);return(0,o.default)(this,C)}}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var k=function(U){(0,s.default)(T,U);var M=g(T);function T(L,C,D){var H;return(0,e.default)(this,T),H=M.call(this),H.socket=new window.WebSocket(L,D),H.socket.onopen=function(){return H.emit("open")},H.socket.onmessage=function(O){return H.emit("message",O.data)},H.socket.onerror=function(O){return H.emit("error",O)},H.socket.onclose=function(O){H.emit("close",O.code,O.reason)},H}return(0,r.default)(T,[{key:"send",value:function(C,D,H){var O=H||D;try{this.socket.send(C),O()}catch(Z){O(Z)}}},{key:"close",value:function(C,D){this.socket.close(C,D)}},{key:"addEventListener",value:function(C,D,H){this.socket.addEventListener(C,D,H)}}]),T}(u.EventEmitter);function _(U,M){return new k(U,M)}})(Ma);const Gf=Ts(Ma),[Ta,Ua,La]=[[],[],[]],jf=BigInt(0),Gr=BigInt(1),Vf=BigInt(2),Zf=BigInt(7),Xf=BigInt(256),Yf=BigInt(113);for(let n=0,t=Gr,e=1,r=0;n<24;n++){[e,r]=[r,(2*e+3*r)%5],Ta.push(2*(5*r+e)),Ua.push((n+1)*(n+2)/2%64);let s=jf;for(let o=0;o<7;o++)t=(t<<Gr^(t>>Zf)*Yf)%Xf,t&Vf&&(s^=Gr<<(Gr<<BigInt(o))-Gr);La.push(s)}const[Jf,Qf]=ht.split(La,!0),cs=(n,t,e)=>e>32?ht.rotlBH(n,t,e):ht.rotlSH(n,t,e),us=(n,t,e)=>e>32?ht.rotlBL(n,t,e):ht.rotlSL(n,t,e);function th(n,t=24){const e=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let c=0;c<10;c++)e[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,g=(c+2)%10,v=e[g],k=e[g+1],_=cs(v,k,1)^e[u],U=us(v,k,1)^e[u+1];for(let M=0;M<50;M+=10)n[c+M]^=_,n[c+M+1]^=U}let s=n[2],o=n[3];for(let c=0;c<24;c++){const u=Ua[c],g=cs(s,o,u),v=us(s,o,u),k=Ta[c];s=n[k],o=n[k+1],n[k]=g,n[k+1]=v}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)e[u]=n[c+u];for(let u=0;u<10;u++)n[c+u]^=~e[(u+2)%10]&e[(u+4)%10]}n[0]^=Jf[r],n[1]^=Qf[r]}e.fill(0)}class ci extends ho{constructor(t,e,r,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ue.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=lc(this.state)}keccak(){th(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ue.exists(this);const{blockLen:e,state:r}=this;t=cn(t);const s=t.length;for(let o=0;o<s;){const c=Math.min(e-this.pos,s-o);for(let u=0;u<c;u++)r[this.pos++]^=t[o++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:s}=this;t[r]^=e,e&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Ue.exists(this,!1),Ue.bytes(t),this.finish();const e=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,o-s);t.set(e.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ue.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ue.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:s,rounds:o,enableXOF:c}=this;return t||(t=new ci(e,r,s,c,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=c,t.destroyed=this.destroyed,t}}const gr=(n,t,e)=>Br(()=>new ci(t,n,e));gr(6,144,224/8);gr(6,136,256/8);gr(6,104,384/8);gr(6,72,512/8);gr(1,144,224/8);gr(1,136,256/8);gr(1,104,384/8);gr(1,72,512/8);const Ca=(n,t,e)=>gc((r={})=>new ci(t,n,r.dkLen===void 0?e:r.dkLen,!0));Ca(31,168,128/8);Ca(31,136,256/8);class Fa extends ho{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Ue.hash(t);const r=cn(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=t.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),o.fill(0)}update(t){return Ue.exists(this),this.iHash.update(t),this}digestInto(t){Ue.exists(this),Ue.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:s,destroyed:o,blockLen:c,outputLen:u}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=c,t.outputLen=u,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Oa=(n,t,e)=>new Fa(n,t).update(e).digest();Oa.create=(n,t)=>new Fa(n,t);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const At=BigInt(0),qt=BigInt(1),hr=BigInt(2),tn=BigInt(3),fs=BigInt(8),ge=Object.freeze({a:At,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:qt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),hs=(n,t)=>(n+t/hr)/t,bn={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(n){const{n:t}=ge,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-qt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=e,c=BigInt("0x100000000000000000000000000000000"),u=hs(o*n,t),g=hs(-r*n,t);let v=et(n-u*e-g*s,t),k=et(-u*r-g*o,t);const _=v>c,U=k>c;if(_&&(v=t-v),U&&(k=t-k),v>c||k>c)throw new Error("splitScalarEndo: Endomorphism failed, k="+n);return{k1neg:_,k1:v,k2neg:U,k2:k}}},Lr=32,on=32,ls=Lr+1,ds=2*Lr+1;function ps(n){const{a:t,b:e}=ge,r=et(n*n),s=et(r*n);return et(s+t*n+e)}const xn=ge.a===At;class eh extends Error{constructor(t){super(t)}}function gs(n){if(!(n instanceof Bt))throw new TypeError("JacobianPoint expected")}class Bt{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof Gt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Gt.ZERO)?Bt.ZERO:new Bt(t.x,t.y,qt)}static toAffineBatch(t){const e=sh(t.map(r=>r.z));return t.map((r,s)=>r.toAffine(e[s]))}static normalizeZ(t){return Bt.toAffineBatch(t).map(Bt.fromAffine)}equals(t){gs(t);const{x:e,y:r,z:s}=this,{x:o,y:c,z:u}=t,g=et(s*s),v=et(u*u),k=et(e*v),_=et(o*g),U=et(et(r*u)*v),M=et(et(c*s)*g);return k===_&&U===M}negate(){return new Bt(this.x,et(-this.y),this.z)}double(){const{x:t,y:e,z:r}=this,s=et(t*t),o=et(e*e),c=et(o*o),u=t+o,g=et(hr*(et(u*u)-s-c)),v=et(tn*s),k=et(v*v),_=et(k-hr*g),U=et(v*(g-_)-fs*c),M=et(hr*e*r);return new Bt(_,U,M)}add(t){gs(t);const{x:e,y:r,z:s}=this,{x:o,y:c,z:u}=t;if(o===At||c===At)return this;if(e===At||r===At)return t;const g=et(s*s),v=et(u*u),k=et(e*v),_=et(o*g),U=et(et(r*u)*v),M=et(et(c*s)*g),T=et(_-k),L=et(M-U);if(T===At)return L===At?this.double():Bt.ZERO;const C=et(T*T),D=et(T*C),H=et(k*C),O=et(L*L-D-hr*H),Z=et(L*(H-O)-U*D),N=et(s*u*T);return new Bt(O,Z,N)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=Bt.ZERO;if(typeof t=="bigint"&&t===At)return e;let r=bs(t);if(r===qt)return this;if(!xn){let _=e,U=this;for(;r>At;)r&qt&&(_=_.add(U)),U=U.double(),r>>=qt;return _}let{k1neg:s,k1:o,k2neg:c,k2:u}=bn.splitScalar(r),g=e,v=e,k=this;for(;o>At||u>At;)o&qt&&(g=g.add(k)),u&qt&&(v=v.add(k)),k=k.double(),o>>=qt,u>>=qt;return s&&(g=g.negate()),c&&(v=v.negate()),v=new Bt(et(v.x*bn.beta),v.y,v.z),g.add(v)}precomputeWindow(t){const e=xn?128/t+1:256/t+1,r=[];let s=this,o=s;for(let c=0;c<e;c++){o=s,r.push(o);for(let u=1;u<2**(t-1);u++)o=o.add(s),r.push(o);s=o.double()}return r}wNAF(t,e){!e&&this.equals(Bt.BASE)&&(e=Gt.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=e&&no.get(e);s||(s=this.precomputeWindow(r),e&&r!==1&&(s=Bt.normalizeZ(s),no.set(e,s)));let o=Bt.ZERO,c=Bt.BASE;const u=1+(xn?128/r:256/r),g=2**(r-1),v=BigInt(2**r-1),k=2**r,_=BigInt(r);for(let U=0;U<u;U++){const M=U*g;let T=Number(t&v);t>>=_,T>g&&(T-=k,t+=qt);const L=M,C=M+Math.abs(T)-1,D=U%2!==0,H=T<0;T===0?c=c.add(vn(D,s[L])):o=o.add(vn(H,s[C]))}return{p:o,f:c}}multiply(t,e){let r=bs(t),s,o;if(xn){const{k1neg:c,k1:u,k2neg:g,k2:v}=bn.splitScalar(r);let{p:k,f:_}=this.wNAF(u,e),{p:U,f:M}=this.wNAF(v,e);k=vn(c,k),U=vn(g,U),U=new Bt(et(U.x*bn.beta),U.y,U.z),s=k.add(U),o=_.add(M)}else{const{p:c,f:u}=this.wNAF(r,e);s=c,o=u}return Bt.normalizeZ([s,o])[0]}toAffine(t){const{x:e,y:r,z:s}=this,o=this.equals(Bt.ZERO);t==null&&(t=o?fs:ui(s));const c=t,u=et(c*c),g=et(u*c),v=et(e*u),k=et(r*g),_=et(s*c);if(o)return Gt.ZERO;if(_!==qt)throw new Error("invZ was invalid");return new Gt(v,k)}}Bt.BASE=new Bt(ge.Gx,ge.Gy,qt);Bt.ZERO=new Bt(At,qt,At);function vn(n,t){const e=t.negate();return n?e:t}const no=new WeakMap;class Gt{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,no.delete(this)}hasEvenY(){return this.y%hr===At}static fromCompressedHex(t){const e=t.length===32,r=Er(e?t:t.subarray(1));if(!Gi(r))throw new Error("Point is not on curve");const s=ps(r);let o=oh(s);const c=(o&qt)===qt;e?c&&(o=et(-o)):(t[0]&1)===1!==c&&(o=et(-o));const u=new Gt(r,o);return u.assertValidity(),u}static fromUncompressedHex(t){const e=Er(t.subarray(1,Lr+1)),r=Er(t.subarray(Lr+1,Lr*2+1)),s=new Gt(e,r);return s.assertValidity(),s}static fromHex(t){const e=io(t),r=e.length,s=e[0];if(r===Lr)return this.fromCompressedHex(e);if(r===ls&&(s===2||s===3))return this.fromCompressedHex(e);if(r===ds&&s===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${ls} compressed bytes or ${ds} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return Gt.BASE.multiply(oo(t))}static fromSignature(t,e,r){const{r:s,s:o}=uh(e);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const c=ch(io(t)),{n:u}=ge,g=r===2||r===3?s+u:s,v=ui(g,u),k=et(-c*v,u),_=et(o*v,u),U=r&1?"03":"02",M=Gt.fromHex(U+Fr(g)),T=Gt.BASE.multiplyAndAddUnsafe(M,k,_);if(!T)throw new Error("Cannot recover signature: point at infinify");return T.assertValidity(),T}toRawBytes(t=!1){return vr(this.toHex(t))}toHex(t=!1){const e=Fr(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${Fr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:r}=this;if(!Gi(e)||!Gi(r))throw new Error(t);const s=et(r*r),o=ps(e);if(et(s-o)!==At)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Gt(this.x,et(-this.y))}double(){return Bt.fromAffine(this).double().toAffine()}add(t){return Bt.fromAffine(this).add(Bt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Bt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){const s=Bt.fromAffine(this),o=e===At||e===qt||this!==Gt.BASE?s.multiplyUnsafe(e):s.multiply(e),c=Bt.fromAffine(t).multiplyUnsafe(r),u=o.add(c);return u.equals(Bt.ZERO)?void 0:u.toAffine()}}Gt.BASE=new Gt(ge.Gx,ge.Gy);Gt.ZERO=new Gt(At,At);function ys(n){return Number.parseInt(n[0],16)>=8?"00"+n:n}function ws(n){if(n.length<2||n[0]!==2)throw new Error(`Invalid signature integer tag: ${Hr(n)}`);const t=n[1],e=n.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&&e[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Er(e),left:n.subarray(t+2)}}function rh(n){if(n.length<2||n[0]!=48)throw new Error(`Invalid signature tag: ${Hr(n)}`);if(n[1]!==n.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=ws(n.subarray(2)),{data:r,left:s}=ws(e);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${Hr(s)}`);return{r:t,s:r}}class xr{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,r="Signature.fromCompact";if(typeof t!="string"&&!e)throw new TypeError(`${r}: Expected string or Uint8Array`);const s=e?Hr(t):t;if(s.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new xr(Vn(s.slice(0,64)),Vn(s.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=rh(e?t:vr(t));return new xr(r,s)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!Zn(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Zn(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=ge.n>>qt;return this.s>t}normalizeS(){return this.hasHighS()?new xr(this.r,et(-this.s,ge.n)):this}toDERRawBytes(){return vr(this.toDERHex())}toDERHex(){const t=ys(Vr(this.s)),e=ys(Vr(this.r)),r=t.length/2,s=e.length/2,o=Vr(r),c=Vr(s);return`30${Vr(s+r+4)}02${c}${e}02${o}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return vr(this.toCompactHex())}toCompactHex(){return Fr(this.r)+Fr(this.s)}}function jr(...n){if(!n.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(n.length===1)return n[0];const t=n.reduce((r,s)=>r+s.length,0),e=new Uint8Array(t);for(let r=0,s=0;r<n.length;r++){const o=n[r];e.set(o,s),s+=o.length}return e}const nh=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function Hr(n){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e<n.length;e++)t+=nh[n[e]];return t}const ih=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Fr(n){if(typeof n!="bigint")throw new Error("Expected bigint");if(!(At<=n&&n<ih))throw new Error("Expected number 0 <= n < 2^256");return n.toString(16).padStart(64,"0")}function ms(n){const t=vr(Fr(n));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function Vr(n){const t=n.toString(16);return t.length&1?`0${t}`:t}function Vn(n){if(typeof n!="string")throw new TypeError("hexToNumber: expected string, got "+typeof n);return BigInt(`0x${n}`)}function vr(n){if(typeof n!="string")throw new TypeError("hexToBytes: expected string, got "+typeof n);if(n.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+n.length);const t=new Uint8Array(n.length/2);for(let e=0;e<t.length;e++){const r=e*2,s=n.slice(r,r+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[e]=o}return t}function Er(n){return Vn(Hr(n))}function io(n){return n instanceof Uint8Array?Uint8Array.from(n):vr(n)}function bs(n){if(typeof n=="number"&&Number.isSafeInteger(n)&&n>0)return BigInt(n);if(typeof n=="bigint"&&Zn(n))return n;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function et(n,t=ge.P){const e=n%t;return e>=At?e:t+e}function Ce(n,t){const{P:e}=ge;let r=n;for(;t-- >At;)r*=r,r%=e;return r}function oh(n){const{P:t}=ge,e=BigInt(6),r=BigInt(11),s=BigInt(22),o=BigInt(23),c=BigInt(44),u=BigInt(88),g=n*n*n%t,v=g*g*n%t,k=Ce(v,tn)*v%t,_=Ce(k,tn)*v%t,U=Ce(_,hr)*g%t,M=Ce(U,r)*U%t,T=Ce(M,s)*M%t,L=Ce(T,c)*T%t,C=Ce(L,u)*L%t,D=Ce(C,c)*T%t,H=Ce(D,tn)*v%t,O=Ce(H,o)*M%t,Z=Ce(O,e)*g%t,N=Ce(Z,hr);if(N*N%t!==n)throw new Error("Cannot find square root");return N}function ui(n,t=ge.P){if(n===At||t<=At)throw new Error(`invert: expected positive integers, got n=${n} mod=${t}`);let e=et(n,t),r=t,s=At,o=qt;for(;e!==At;){const u=r/e,g=r%e,v=s-o*u;r=e,e=g,s=o,o=v}if(r!==qt)throw new Error("invert: does not exist");return et(s,t)}function sh(n,t=ge.P){const e=new Array(n.length),r=n.reduce((o,c,u)=>c===At?o:(e[u]=o,et(o*c,t)),qt),s=ui(r,t);return n.reduceRight((o,c,u)=>c===At?o:(e[u]=et(o*e[u],t),et(o*c,t)),s),e}function ah(n){const t=n.length*8-on*8,e=Er(n);return t>0?e>>BigInt(t):e}function ch(n,t=!1){const e=ah(n);if(t)return e;const{n:r}=ge;return e>=r?e-r:e}let Or,Wi;function Zn(n){return At<n&&n<ge.n}function Gi(n){return At<n&&n<ge.P}function oo(n){let t;if(typeof n=="bigint")t=n;else if(typeof n=="number"&&Number.isSafeInteger(n)&&n>0)t=BigInt(n);else if(typeof n=="string"){if(n.length!==2*on)throw new Error("Expected 32 bytes of private key");t=Vn(n)}else if(n instanceof Uint8Array){if(n.length!==on)throw new Error("Expected 32 bytes of private key");t=Er(n)}else throw new TypeError("Expected valid private key");if(!Zn(t))throw new Error("Expected private key: 0 < key < n");return t}function uh(n){if(n instanceof xr)return n.assertValidity(),n;try{return xr.fromDER(n)}catch{return xr.fromCompact(n)}}Gt.BASE._setWindowSize(8);const Me={node:lo,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},En={},mr={bytesToHex:Hr,hexToBytes:vr,concatBytes:jr,mod:et,invert:ui,isValidPrivateKey(n){try{return oo(n),!0}catch{return!1}},_bigintTo32Bytes:ms,_normalizePrivateKey:oo,hashToPrivateKey:n=>{n=io(n);const t=on+8;if(n.length<t||n.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=et(Er(n),ge.n-qt)+qt;return ms(e)},randomBytes:(n=32)=>{if(Me.web)return Me.web.getRandomValues(new Uint8Array(n));if(Me.node){const{randomBytes:t}=Me.node;return Uint8Array.from(t(n))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>mr.hashToPrivateKey(mr.randomBytes(on+8)),precompute(n=8,t=Gt.BASE){const e=t===Gt.BASE?t:new Gt(t.x,t.y);return e._setWindowSize(n),e.multiply(tn),e},sha256:async(...n)=>{if(Me.web){const t=await Me.web.subtle.digest("SHA-256",jr(...n));return new Uint8Array(t)}else if(Me.node){const{createHash:t}=Me.node,e=t("sha256");return n.forEach(r=>e.update(r)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(n,...t)=>{if(Me.web){const e=await Me.web.subtle.importKey("raw",n,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=jr(...t),s=await Me.web.subtle.sign("HMAC",e,r);return new Uint8Array(s)}else if(Me.node){const{createHmac:e}=Me.node,r=e("sha256",n);return t.forEach(s=>r.update(s)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(n,...t)=>{let e=En[n];if(e===void 0){const r=await mr.sha256(Uint8Array.from(n,s=>s.charCodeAt(0)));e=jr(r,r),En[n]=e}return mr.sha256(e,...t)},taggedHashSync:(n,...t)=>{if(typeof Or!="function")throw new eh("sha256Sync is undefined, you need to set it");let e=En[n];if(e===void 0){const r=Or(Uint8Array.from(n,s=>s.charCodeAt(0)));e=jr(r,r),En[n]=e}return Or(e,...t)},_JacobianPoint:Bt};Object.defineProperties(mr,{sha256Sync:{configurable:!1,get(){return Or},set(n){Or||(Or=n)}},hmacSha256Sync:{configurable:!1,get(){return Wi},set(n){Wi||(Wi=n)}}});Nr.sha512Sync=(...n)=>zc(Nr.concatBytes(...n));Nr.randomPrivateKey;function xs(n){try{return de.fromHex(n,!0),!0}catch{return!1}}const fh=(n,t)=>$s.sign(n,t.slice(0,32)),hh=$s.verify,qr=n=>lt.Buffer.isBuffer(n)?n:n instanceof Uint8Array?lt.Buffer.from(n.buffer,n.byteOffset,n.byteLength):lt.Buffer.from(n);class lh{constructor(t){Object.assign(this,t)}encode(){return lt.Buffer.from(Xs(Sn,this))}static decode(t){return Ys(Sn,this,t)}static decodeUnchecked(t){return Ws(Sn,this,t)}}const Sn=new Map;let Pa;const dh=32,Ve=32;function ph(n){return n._bn!==void 0}let vs=1;Pa=Symbol.toStringTag;class ut extends lh{constructor(t){if(super({}),this._bn=void 0,ph(t))this._bn=t._bn;else{if(typeof t=="string"){const e=ye.decode(t);if(e.length!=Ve)throw new Error("Invalid public key input");this._bn=new rn(e)}else this._bn=new rn(t);if(this._bn.byteLength()>Ve)throw new Error("Invalid public key input")}}static unique(){const t=new ut(vs);return vs+=1,new ut(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ye.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(lt.Buffer);if(t.length===Ve)return t;const e=lt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Pa](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const s=lt.Buffer.concat([t.toBuffer(),lt.Buffer.from(e),r.toBuffer()]),o=eo(s);return new ut(o)}static createProgramAddressSync(t,e){let r=lt.Buffer.alloc(0);t.forEach(function(o){if(o.length>dh)throw new TypeError("Max seed length exceeded");r=lt.Buffer.concat([r,qr(o)])}),r=lt.Buffer.concat([r,e.toBuffer(),lt.Buffer.from("ProgramDerivedAddress")]);const s=eo(r);if(xs(s))throw new Error("Invalid seeds, address must fall off the curve");return new ut(s)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r=255,s;for(;r!=0;){try{const o=t.concat(lt.Buffer.from([r]));s=this.createProgramAddressSync(o,e)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new ut(t);return xs(e.toBytes())}}ut.default=new ut("11111111111111111111111111111111");Sn.set(ut,{kind:"struct",fields:[["_bn","u256"]]});new ut("BPFLoader1111111111111111111111111111111111");const Pr=1280-40-8,Na=127,so=64;class Da extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Da.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Ha extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Ha.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Xr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Xr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Xn{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,c)=>{r.set(o.toBase58(),c)});const s=o=>{const c=r.get(o.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return t.map(o=>({programIdIndex:s(o.programId),accountKeyIndexes:o.keys.map(c=>s(c.pubkey)),data:o.data}))}}const yt=(n="publicKey")=>Wt(32,n),Cr=(n="string")=>{const t=it([at("length"),at("lengthPadding"),Wt(br(at(),-8),"chars")],n),e=t.decode.bind(t),r=t.encode.bind(t),s=t;return s.decode=(o,c)=>e(o,c).chars.toString(),s.encode=(o,c,u)=>{const g={chars:lt.Buffer.from(o,"utf8")};return r(g,c,u)},s.alloc=o=>at().span+at().span+lt.Buffer.from(o,"utf8").length,s},gh=(n="authorized")=>it([yt("staker"),yt("withdrawer")],n),yh=(n="lockup")=>it([Te("unixTimestamp"),Te("epoch"),yt("custodian")],n),wh=(n="voteInit")=>it([yt("nodePubkey"),yt("authorizedVoter"),yt("authorizedWithdrawer"),St("commission")],n),mh=(n="voteAuthorizeWithSeedArgs")=>it([at("voteAuthorizationType"),yt("currentAuthorityDerivedKeyOwnerPubkey"),Cr("currentAuthorityDerivedKeySeed"),yt("newAuthorized")],n);function Pe(n){let t=0,e=0;for(;;){let r=n.shift();if(t|=(r&127)<<e*7,e+=1,!(r&128))break}return t}function Ne(n,t){let e=t;for(;;){let r=e&127;if(e>>=7,e==0){n.push(r);break}else r|=128,n.push(r)}}function he(n,t){if(!n)throw new Error(t||"Assertion failed")}class fi{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,s=c=>{const u=c.toBase58();let g=r.get(u);return g===void 0&&(g={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,g)),g},o=s(e);o.isSigner=!0,o.isWritable=!0;for(const c of t){s(c.programId).isInvoked=!0;for(const u of c.keys){const g=s(u.pubkey);g.isSigner||(g.isSigner=u.isSigner),g.isWritable||(g.isWritable=u.isWritable)}}return new fi(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];he(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,g])=>g.isSigner&&g.isWritable),r=t.filter(([,g])=>g.isSigner&&!g.isWritable),s=t.filter(([,g])=>!g.isSigner&&g.isWritable),o=t.filter(([,g])=>!g.isSigner&&!g.isWritable),c={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{he(e.length>0,"Expected at least one writable signer key");const[g]=e[0];he(g===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...e.map(([g])=>new ut(g)),...r.map(([g])=>new ut(g)),...s.map(([g])=>new ut(g)),...o.map(([g])=>new ut(g))];return[c,u]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[s,o]=this.drainKeysFoundInLookupTable(t.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(e.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:s},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,e){const r=new Array,s=new Array;for(const[o,c]of this.keyMetaMap.entries())if(e(c)){const u=new ut(o),g=t.findIndex(v=>v.equals(u));g>=0&&(he(g<256,"Max lookup table index exceeded"),r.push(g),s.push(u),this.keyMetaMap.delete(o))}return[r,s]}}class pr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new ut(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ye.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Xn(this.staticAccountKeys)}static compile(t){const e=fi.compile(t.instructions,t.payerKey),[r,s]=e.getMessageComponents(),c=new Xn(s).compileInstructions(t.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:ye.encode(u.data)}));return new pr({header:r,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:c})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-e,o=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=e-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Ne(e,t);const r=this.instructions.map(_=>{const{accounts:U,programIdIndex:M}=_,T=Array.from(ye.decode(_.data));let L=[];Ne(L,U.length);let C=[];return Ne(C,T.length),{programIdIndex:M,keyIndicesCount:lt.Buffer.from(L),keyIndices:U,dataLength:lt.Buffer.from(C),data:T}});let s=[];Ne(s,r.length);let o=lt.Buffer.alloc(Pr);lt.Buffer.from(s).copy(o);let c=s.length;r.forEach(_=>{const M=it([St("programIdIndex"),Wt(_.keyIndicesCount.length,"keyIndicesCount"),Ie(St("keyIndex"),_.keyIndices.length,"keyIndices"),Wt(_.dataLength.length,"dataLength"),Ie(St("userdatum"),_.data.length,"data")]).encode(_,o,c);c+=M}),o=o.slice(0,c);const u=it([Wt(1,"numRequiredSignatures"),Wt(1,"numReadonlySignedAccounts"),Wt(1,"numReadonlyUnsignedAccounts"),Wt(e.length,"keyCount"),Ie(yt("key"),t,"keys"),yt("recentBlockhash")]),g={numRequiredSignatures:lt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:lt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:lt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:lt.Buffer.from(e),keys:this.accountKeys.map(_=>qr(_.toBytes())),recentBlockhash:ye.decode(this.recentBlockhash)};let v=lt.Buffer.alloc(2048);const k=u.encode(g,v);return o.copy(v,k),v.slice(0,k+o.length)}static from(t){let e=[...t];const r=e.shift();if(r!==(r&Na))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=e.shift(),o=e.shift(),c=Pe(e);let u=[];for(let U=0;U<c;U++){const M=e.slice(0,Ve);e=e.slice(Ve),u.push(new ut(lt.Buffer.from(M)))}const g=e.slice(0,Ve);e=e.slice(Ve);const v=Pe(e);let k=[];for(let U=0;U<v;U++){const M=e.shift(),T=Pe(e),L=e.slice(0,T);e=e.slice(T);const C=Pe(e),D=e.slice(0,C),H=ye.encode(lt.Buffer.from(D));e=e.slice(C),k.push({programIdIndex:M,accounts:L,data:H})}const _={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:o},recentBlockhash:ye.encode(lt.Buffer.from(g)),accountKeys:u,instructions:k};return new pr(_)}}class Yn{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Xn(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const s=t-r,o=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return s<o}else if(t>=this.header.numRequiredSignatures){const s=t-e,c=r-e-this.header.numReadonlyUnsignedAccounts;return s<c}else{const s=e-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=t.find(o=>o.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<s.state.addresses.length)e.writable.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<s.state.addresses.length)e.readonly.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return e}static compile(t){const e=fi.compile(t.instructions,t.payerKey),r=new Array,s={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const k of o){const _=e.extractTableLookup(k);if(_!==void 0){const[U,{writable:M,readonly:T}]=_;r.push(U),s.writable.push(...M),s.readonly.push(...T)}}const[c,u]=e.getMessageComponents(),v=new Xn(u,s).compileInstructions(t.instructions);return new Yn({header:c,staticAccountKeys:u,recentBlockhash:t.recentBlockhash,compiledInstructions:v,addressTableLookups:r})}serialize(){const t=Array();Ne(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();Ne(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),o=Array();Ne(o,this.addressTableLookups.length);const c=it([St("prefix"),it([St("numRequiredSignatures"),St("numReadonlySignedAccounts"),St("numReadonlyUnsignedAccounts")],"header"),Wt(t.length,"staticAccountKeysLength"),Ie(yt(),this.staticAccountKeys.length,"staticAccountKeys"),yt("recentBlockhash"),Wt(r.length,"instructionsLength"),Wt(e.length,"serializedInstructions"),Wt(o.length,"addressTableLookupsLength"),Wt(s.length,"serializedAddressTableLookups")]),u=new Uint8Array(Pr),g=1<<7,v=c.encode({prefix:g,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(k=>k.toBytes()),recentBlockhash:ye.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:s},u);return u.slice(0,v)}serializeInstructions(){let t=0;const e=new Uint8Array(Pr);for(const r of this.compiledInstructions){const s=Array();Ne(s,r.accountKeyIndexes.length);const o=Array();Ne(o,r.data.length);const c=it([St("programIdIndex"),Wt(s.length,"encodedAccountKeyIndexesLength"),Ie(St(),r.accountKeyIndexes.length,"accountKeyIndexes"),Wt(o.length,"encodedDataLength"),Wt(r.data.length,"data")]);t+=c.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Pr);for(const r of this.addressTableLookups){const s=Array();Ne(s,r.writableIndexes.length);const o=Array();Ne(o,r.readonlyIndexes.length);const c=it([yt("accountKey"),Wt(s.length,"encodedWritableIndexesLength"),Ie(St(),r.writableIndexes.length,"writableIndexes"),Wt(o.length,"encodedReadonlyIndexesLength"),Ie(St(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=c.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=e.shift(),s=r&Na;he(r!==s,"Expected versioned message but received legacy message");const o=s;he(o===0,`Expected versioned message with version 0 but found version ${o}`);const c={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},u=[],g=Pe(e);for(let T=0;T<g;T++)u.push(new ut(e.splice(0,Ve)));const v=ye.encode(e.splice(0,Ve)),k=Pe(e),_=[];for(let T=0;T<k;T++){const L=e.shift(),C=Pe(e),D=e.splice(0,C),H=Pe(e),O=new Uint8Array(e.splice(0,H));_.push({programIdIndex:L,accountKeyIndexes:D,data:O})}const U=Pe(e),M=[];for(let T=0;T<U;T++){const L=new ut(e.splice(0,Ve)),C=Pe(e),D=e.splice(0,C),H=Pe(e),O=e.splice(0,H);M.push({accountKey:L,writableIndexes:D,readonlyIndexes:O})}return new Yn({header:c,staticAccountKeys:u,recentBlockhash:v,compiledInstructions:_,addressTableLookups:M})}}let Ge;(function(n){n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID"})(Ge||(Ge={}));const bh=lt.Buffer.alloc(so).fill(0);class Es{constructor(t){this.keys=void 0,this.programId=void 0,this.data=lt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class cr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Es(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let L=0;L<e.length;L++)if(e[L].programId===void 0)throw new Error(`Transaction instruction index ${L} has undefined program id`);const s=[],o=[];e.forEach(L=>{L.keys.forEach(D=>{o.push({...D})});const C=L.programId.toString();s.includes(C)||s.push(C)}),s.forEach(L=>{o.push({pubkey:new ut(L),isSigner:!1,isWritable:!1})});const c=[];o.forEach(L=>{const C=L.pubkey.toString(),D=c.findIndex(H=>H.pubkey.toString()===C);D>-1?(c[D].isWritable=c[D].isWritable||L.isWritable,c[D].isSigner=c[D].isSigner||L.isSigner):c.push(L)}),c.sort(function(L,C){return L.isSigner!==C.isSigner?L.isSigner?-1:1:L.isWritable!==C.isWritable?L.isWritable?-1:1:L.pubkey.toBase58().localeCompare(C.pubkey.toBase58())});const u=c.findIndex(L=>L.pubkey.equals(r));if(u>-1){const[L]=c.splice(u,1);L.isSigner=!0,L.isWritable=!0,c.unshift(L)}else c.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const L of this.signatures){const C=c.findIndex(D=>D.pubkey.equals(L.publicKey));if(C>-1)c[C].isSigner||(c[C].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${L.publicKey.toString()}`)}let g=0,v=0,k=0;const _=[],U=[];c.forEach(({pubkey:L,isSigner:C,isWritable:D})=>{C?(_.push(L.toString()),g+=1,D||(v+=1)):(U.push(L.toString()),D||(k+=1))});const M=_.concat(U),T=e.map(L=>{const{data:C,programId:D}=L;return{programIdIndex:M.indexOf(D.toString()),accounts:L.keys.map(H=>M.indexOf(H.pubkey.toString())),data:ye.encode(C)}});return T.forEach(L=>{he(L.programIdIndex>=0),L.accounts.forEach(C=>he(C>=0))}),new pr({header:{numRequiredSignatures:g,numReadonlySignedAccounts:v,numReadonlyUnsignedAccounts:k},accountKeys:M,recentBlockhash:t,instructions:T})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((s,o)=>e[o].equals(s.publicKey))||(this.signatures=e.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(r=>{const s=r.toString();return e.has(s)?!1:(e.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const o of t){const c=o.publicKey.toString();e.has(c)||(e.add(c),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const o of t){const c=o.publicKey.toString();e.has(c)||(e.add(c),r.push(o))}const s=this._compile();this._partialSign(s,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach(s=>{const o=fh(r,s.secretKey);this._addSignature(s.publicKey,qr(o))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){he(e.length===64);const r=this.signatures.findIndex(s=>t.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=lt.Buffer.from(e)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),t===void 0?!0:t)}_verifySignatures(t,e){for(const{signature:r,publicKey:s}of this.signatures)if(r===null){if(e)return!1}else if(!hh(r,t,s.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(r&&!this._verifySignatures(s,e))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(t){const{signatures:e}=this,r=[];Ne(r,e.length);const s=r.length+e.length*64+t.length,o=lt.Buffer.alloc(s);return he(e.length<256),lt.Buffer.from(r).copy(o,0),e.forEach(({signature:c},u)=>{c!==null&&(he(c.length===64,"signature has invalid length"),lt.Buffer.from(c).copy(o,r.length+u*64))}),t.copy(o,r.length+e.length*64),he(o.length<=Pr,`Transaction too large: ${o.length} > ${Pr}`),o}get keys(){return he(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return he(this.instructions.length===1),this.instructions[0].programId}get data(){return he(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const r=Pe(e);let s=[];for(let o=0;o<r;o++){const c=e.slice(0,so);e=e.slice(so),s.push(ye.encode(lt.Buffer.from(c)))}return cr.populate(pr.from(e),s)}static populate(t,e=[]){const r=new cr;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((s,o)=>{const c={signature:s==ye.encode(bh)?null:ye.decode(s),publicKey:t.accountKeys[o]};r.signatures.push(c)}),t.instructions.forEach(s=>{const o=s.accounts.map(c=>{const u=t.accountKeys[c];return{pubkey:u,isSigner:r.signatures.some(g=>g.publicKey.toString()===u.toString())||t.isAccountSigner(c),isWritable:t.isAccountWritable(c)}});r.instructions.push(new Es({keys:o,programId:t.accountKeys[s.programIdIndex],data:ye.decode(s.data)}))}),r._message=t,r._json=r.toJSON(),r}}new ut("SysvarC1ock11111111111111111111111111111111");new ut("SysvarEpochSchedu1e111111111111111111111111");new ut("Sysvar1nstructions1111111111111111111111111");new ut("SysvarRecentB1ockHashes11111111111111111111");new ut("SysvarRent111111111111111111111111111111111");new ut("SysvarRewards111111111111111111111111111111");new ut("SysvarS1otHashes111111111111111111111111111");new ut("SysvarS1otHistory11111111111111111111111111");new ut("SysvarStakeHistory1111111111111111111111111");function Ur(n){return new Promise(t=>setTimeout(t,n))}const xh=me("lamportsPerSignature"),qa=it([at("version"),at("state"),yt("authorizedPubkey"),yt("nonce"),it([xh],"feeCalculator")]);qa.span;class Ro{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=qa.decode(qr(t),0);return new Ro({authorizedPubkey:new ut(e.authorizedPubkey),nonce:new ut(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const vh=n=>{const t=n.decode.bind(n),e=n.encode.bind(n);return{decode:t,encode:e}},Eh=n=>t=>{const e=Wt(n,t),{encode:r,decode:s}=vh(e),o=e;return o.decode=(c,u)=>{const g=s(c,u);return Pu(lt.Buffer.from(g))},o.encode=(c,u,g)=>{const v=Hu(c,n);return r(v,u,g)},o},$r=Eh(8);Object.freeze({Create:{index:0,layout:it([at("instruction"),Te("lamports"),Te("space"),yt("programId")])},Assign:{index:1,layout:it([at("instruction"),yt("programId")])},Transfer:{index:2,layout:it([at("instruction"),$r("lamports")])},CreateWithSeed:{index:3,layout:it([at("instruction"),yt("base"),Cr("seed"),Te("lamports"),Te("space"),yt("programId")])},AdvanceNonceAccount:{index:4,layout:it([at("instruction")])},WithdrawNonceAccount:{index:5,layout:it([at("instruction"),Te("lamports")])},InitializeNonceAccount:{index:6,layout:it([at("instruction"),yt("authorized")])},AuthorizeNonceAccount:{index:7,layout:it([at("instruction"),yt("authorized")])},Allocate:{index:8,layout:it([at("instruction"),Te("space")])},AllocateWithSeed:{index:9,layout:it([at("instruction"),yt("base"),Cr("seed"),Te("space"),yt("programId")])},AssignWithSeed:{index:10,layout:it([at("instruction"),yt("base"),Cr("seed"),yt("programId")])},TransferWithSeed:{index:11,layout:it([at("instruction"),$r("lamports"),Cr("seed"),yt("programId")])},UpgradeNonceAccount:{index:12,layout:it([at("instruction")])}});new ut("11111111111111111111111111111111");new ut("BPFLoader2111111111111111111111111111111111");var Bh=Object.prototype.toString,Sh=Object.keys||function(n){var t=[];for(var e in n)t.push(e);return t};function Yr(n,t){var e,r,s,o,c,u,g;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Yr(n.toJSON(),t);if(g=Bh.call(n),g==="[object Array]"){for(s="[",r=n.length-1,e=0;e<r;e++)s+=Yr(n[e],!0)+",";return r>-1&&(s+=Yr(n[e],!0)),s+"]"}else if(g==="[object Object]"){for(o=Sh(n).sort(),r=o.length,s="",e=0;e<r;)c=o[e],u=Yr(n[c],!1),u!==void 0&&(s&&(s+=","),s+=JSON.stringify(c)+":"+u),e++;return"{"+s+"}"}else return JSON.stringify(n);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var _h=function(n){var t=Yr(n,!1);if(t!==void 0)return""+t},Ah=_h;const Zr=32;function ji(n){let t=0;for(;n>1;)n/=2,t++;return t}function Ih(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class kh{constructor(t,e,r,s,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=ji(Ih(t+Zr+1))-ji(Zr)-1,r=this.getSlotsInEpoch(e),s=t-(r-Zr);return[e,s]}else{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch),s=this.firstNormalEpoch+r,o=e%this.slotsPerEpoch;return[s,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Zr:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+ji(Zr)):this.slotsPerEpoch}}class Bs extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}class st extends Error{constructor({code:t,message:e,data:r},s){super(s!=null?`${s}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}var Rh=globalThis.fetch;class Mh extends Wf{constructor(t,e,r){const s=o=>{const c=Gf(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(s,t,e,r),this.underlyingSocket=void 0}call(...t){var r;const e=(r=this.underlyingSocket)==null?void 0:r.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){var r;const e=(r=this.underlyingSocket)==null?void 0:r.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}const Th=160,Uh=64,Lh=Th/Uh,Ch=1e3/Lh;function Fh(n,t){let e;try{e=n.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(e.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${n.index}`);return e}const Ss=56;class _s{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=Fh(Oh,t),r=t.length-Ss;he(r>=0,"lookup table is invalid"),he(r%32===0,"lookup table is invalid");const s=r/32,{addresses:o}=it([Ie(yt(),s,"addresses")]).decode(t.slice(Ss));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new ut(e.authority[0]):void 0,addresses:o.map(c=>new ut(c))}}}const Oh={index:1,layout:it([at("typeIndex"),$r("deactivationSlot"),me("lastExtendedSlot"),St("lastExtendedStartIndex"),St(),Ie(yt(),br(St(),-1),"authority")])},Ph=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Nh(n){const t=n.match(Ph);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[e,r,s,o]=t,c=n.startsWith("https:")?"wss:":"ws:",u=s==null?null:parseInt(s.slice(1),10),g=u==null?"":`:${u+1}`;return`${c}//${r}${g}${o}`}const pe=pn(Io(ut),z(),n=>new ut(n)),$a=ko([z(),$t("base64")]),Mo=pn(Io(lt.Buffer),$a,n=>lt.Buffer.from(n[0],"base64")),Dh=30*1e3;function Hh(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ht(n){let t,e;if(typeof n=="string")t=n;else if(n){const{commitment:r,...s}=n;t=r,e=s}return{commitment:t,config:e}}function za(n){return Re([$({jsonrpc:$t("2.0"),id:z(),result:n}),$({jsonrpc:$t("2.0"),id:z(),error:$({code:dn(),message:z(),data:ct(Vu())})})])}const qh=za(dn());function pt(n){return pn(za(n),qh,t=>"error"in t?t:{...t,result:G(t.result,n)})}function le(n){return pt($({context:$({slot:F()}),value:n}))}function hi(n){return $({context:$({slot:F()}),value:n})}function Vi(n,t){return n===0?new Yn({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new ut(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ye.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new pr(t)}const $h=$({foundation:F(),foundationTerm:F(),initial:F(),taper:F(),terminal:F()}),zh=pt(Y(X($({epoch:F(),effectiveSlot:F(),amount:F(),postBalance:F(),commission:ct(X(F()))})))),Kh=$({total:F(),validator:F(),foundation:F(),epoch:F()}),Wh=$({epoch:F(),slotIndex:F(),slotsInEpoch:F(),absoluteSlot:F(),blockHeight:ct(F()),transactionCount:ct(F())}),Gh=$({slotsPerEpoch:F(),leaderScheduleSlotOffset:F(),warmup:Qe(),firstNormalEpoch:F(),firstNormalSlot:F()}),jh=wa(z(),Y(F())),Ar=X(Re([$({}),z()])),Vh=$({err:Ar}),Zh=$t("receivedSignature"),Xh=$({"solana-core":z(),"feature-set":ct(F())}),As=le($({err:X(Re([$({}),z()])),logs:X(Y(z())),accounts:ct(X(Y(X($({executable:Qe(),owner:z(),lamports:F(),data:Y(z()),rentEpoch:ct(F())}))))),unitsConsumed:ct(F()),returnData:ct(X($({programId:z(),data:ko([z(),$t("base64")])})))})),Yh=le($({byIdentity:wa(z(),Y(F())),range:$({firstSlot:F(),lastSlot:F()})}));function Jh(n,t,e,r,s,o){const c=e||Rh;let u;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let g;return r&&(g=async(k,_)=>{const U=await new Promise((M,T)=>{try{r(k,_,(L,C)=>M([L,C]))}catch(L){T(L)}});return await c(...U)}),new Bf(async(k,_)=>{const U={method:"POST",body:k,agent:u,headers:Object.assign({"Content-Type":"application/json"},t||{},Yl)};try{let M=5,T,L=500;for(;g?T=await g(n,U):T=await c(n,U),!(T.status!==429||s===!0||(M-=1,M===0));)console.log(`Server responded with ${T.status} ${T.statusText}.  Retrying after ${L}ms delay...`),await Ur(L),L*=2;const C=await T.text();T.ok?_(null,C):_(new Error(`${T.status} ${T.statusText}: ${C}`))}catch(M){M instanceof Error&&_(M)}},{})}function Qh(n){return(t,e)=>new Promise((r,s)=>{n.request(t,e,(o,c)=>{if(o){s(o);return}r(c)})})}function tl(n){return t=>new Promise((e,r)=>{t.length===0&&e([]);const s=t.map(o=>n.request(o.methodName,o.args));n.request(s,(o,c)=>{if(o){r(o);return}e(c)})})}const el=pt($h),rl=pt(Kh),nl=pt(Wh),il=pt(Gh),ol=pt(jh),sl=pt(F()),al=le($({total:F(),circulating:F(),nonCirculating:F(),nonCirculatingAccounts:Y(pe)})),ao=$({amount:z(),uiAmount:X(F()),decimals:F(),uiAmountString:ct(z())}),cl=le(Y($({address:pe,amount:z(),uiAmount:X(F()),decimals:F(),uiAmountString:ct(z())}))),ul=le(Y($({pubkey:pe,account:$({executable:Qe(),owner:pe,lamports:F(),data:Mo,rentEpoch:F()})}))),co=$({program:z(),parsed:dn(),space:F()}),fl=le(Y($({pubkey:pe,account:$({executable:Qe(),owner:pe,lamports:F(),data:co,rentEpoch:F()})}))),hl=le(Y($({lamports:F(),address:pe}))),sn=$({executable:Qe(),owner:pe,lamports:F(),data:Mo,rentEpoch:F()}),ll=$({pubkey:pe,account:sn}),dl=pn(Re([Io(lt.Buffer),co]),Re([$a,co]),n=>Array.isArray(n)?G(n,Mo):n),uo=$({executable:Qe(),owner:pe,lamports:F(),data:dl,rentEpoch:F()}),pl=$({pubkey:pe,account:uo}),gl=$({state:Re([$t("active"),$t("inactive"),$t("activating"),$t("deactivating")]),active:F(),inactive:F()}),yl=pt(Y($({signature:z(),slot:F(),err:Ar,memo:X(z()),blockTime:ct(X(F()))}))),wl=pt(Y($({signature:z(),slot:F(),err:Ar,memo:X(z()),blockTime:ct(X(F()))}))),ml=$({subscription:F(),result:hi(sn)}),bl=$({pubkey:pe,account:sn}),xl=$({subscription:F(),result:hi(bl)}),vl=$({parent:F(),slot:F(),root:F()}),El=$({subscription:F(),result:vl}),Bl=Re([$({type:Re([$t("firstShredReceived"),$t("completed"),$t("optimisticConfirmation"),$t("root")]),slot:F(),timestamp:F()}),$({type:$t("createdBank"),parent:F(),slot:F(),timestamp:F()}),$({type:$t("frozen"),slot:F(),timestamp:F(),stats:$({numTransactionEntries:F(),numSuccessfulTransactions:F(),numFailedTransactions:F(),maxTransactionsPerEntry:F()})}),$({type:$t("dead"),slot:F(),timestamp:F(),err:z()})]),Sl=$({subscription:F(),result:Bl}),_l=$({subscription:F(),result:hi(Re([Vh,Zh]))}),Al=$({subscription:F(),result:F()}),Il=$({pubkey:z(),gossip:X(z()),tpu:X(z()),rpc:X(z()),version:X(z())}),Is=$({votePubkey:z(),nodePubkey:z(),activatedStake:F(),epochVoteAccount:Qe(),epochCredits:Y(ko([F(),F(),F()])),commission:F(),lastVote:F(),rootSlot:X(F())}),kl=pt($({current:Y(Is),delinquent:Y(Is)})),Rl=Re([$t("processed"),$t("confirmed"),$t("finalized")]),Ml=$({slot:F(),confirmations:X(F()),err:Ar,confirmationStatus:ct(Rl)}),Tl=le(Y(X(Ml))),Ul=pt(F()),Ka=$({accountKey:pe,writableIndexes:Y(F()),readonlyIndexes:Y(F())}),To=$({signatures:Y(z()),message:$({accountKeys:Y(z()),header:$({numRequiredSignatures:F(),numReadonlySignedAccounts:F(),numReadonlyUnsignedAccounts:F()}),instructions:Y($({accounts:Y(F()),data:z(),programIdIndex:F()})),recentBlockhash:z(),addressTableLookups:ct(Y(Ka))})}),Wa=$({pubkey:pe,signer:Qe(),writable:Qe(),source:ct(Re([$t("transaction"),$t("lookupTable")]))}),Ga=$({accountKeys:Y(Wa),signatures:Y(z())}),ja=$({parsed:dn(),program:z(),programId:pe}),Va=$({accounts:Y(pe),data:z(),programId:pe}),Ll=Re([Va,ja]),Cl=Re([$({parsed:dn(),program:z(),programId:z()}),$({accounts:Y(z()),data:z(),programId:z()})]),Za=pn(Ll,Cl,n=>"accounts"in n?G(n,Va):G(n,ja)),Xa=$({signatures:Y(z()),message:$({accountKeys:Y(Wa),instructions:Y(Za),recentBlockhash:z(),addressTableLookups:ct(X(Y(Ka)))})}),Jn=$({accountIndex:F(),mint:z(),owner:ct(z()),uiTokenAmount:ao}),Ya=$({writable:Y(pe),readonly:Y(pe)}),li=$({err:Ar,fee:F(),innerInstructions:ct(X(Y($({index:F(),instructions:Y($({accounts:Y(F()),data:z(),programIdIndex:F()}))})))),preBalances:Y(F()),postBalances:Y(F()),logMessages:ct(X(Y(z()))),preTokenBalances:ct(X(Y(Jn))),postTokenBalances:ct(X(Y(Jn))),loadedAddresses:ct(Ya),computeUnitsConsumed:ct(F())}),Uo=$({err:Ar,fee:F(),innerInstructions:ct(X(Y($({index:F(),instructions:Y(Za)})))),preBalances:Y(F()),postBalances:Y(F()),logMessages:ct(X(Y(z()))),preTokenBalances:ct(X(Y(Jn))),postTokenBalances:ct(X(Y(Jn))),loadedAddresses:ct(Ya),computeUnitsConsumed:ct(F())}),Wr=Re([$t(0),$t("legacy")]),Ir=$({pubkey:z(),lamports:F(),postBalance:X(F()),rewardType:X(z()),commission:ct(X(F()))}),Fl=pt(X($({blockhash:z(),previousBlockhash:z(),parentSlot:F(),transactions:Y($({transaction:To,meta:X(li),version:ct(Wr)})),rewards:ct(Y(Ir)),blockTime:X(F()),blockHeight:X(F())}))),Ol=pt(X($({blockhash:z(),previousBlockhash:z(),parentSlot:F(),rewards:ct(Y(Ir)),blockTime:X(F()),blockHeight:X(F())}))),Pl=pt(X($({blockhash:z(),previousBlockhash:z(),parentSlot:F(),transactions:Y($({transaction:Ga,meta:X(li),version:ct(Wr)})),rewards:ct(Y(Ir)),blockTime:X(F()),blockHeight:X(F())}))),Nl=pt(X($({blockhash:z(),previousBlockhash:z(),parentSlot:F(),transactions:Y($({transaction:Xa,meta:X(Uo),version:ct(Wr)})),rewards:ct(Y(Ir)),blockTime:X(F()),blockHeight:X(F())}))),Dl=pt(X($({blockhash:z(),previousBlockhash:z(),parentSlot:F(),transactions:Y($({transaction:Ga,meta:X(Uo),version:ct(Wr)})),rewards:ct(Y(Ir)),blockTime:X(F()),blockHeight:X(F())}))),Hl=pt(X($({blockhash:z(),previousBlockhash:z(),parentSlot:F(),rewards:ct(Y(Ir)),blockTime:X(F()),blockHeight:X(F())}))),ql=pt(X($({blockhash:z(),previousBlockhash:z(),parentSlot:F(),transactions:Y($({transaction:To,meta:X(li)})),rewards:ct(Y(Ir)),blockTime:X(F())}))),ks=pt(X($({blockhash:z(),previousBlockhash:z(),parentSlot:F(),signatures:Y(z()),blockTime:X(F())}))),Zi=pt(X($({slot:F(),meta:li,blockTime:ct(X(F())),transaction:To,version:ct(Wr)}))),Bn=pt(X($({slot:F(),transaction:Xa,meta:X(Uo),blockTime:ct(X(F())),version:ct(Wr)}))),$l=le($({blockhash:z(),feeCalculator:$({lamportsPerSignature:F()})})),zl=le($({blockhash:z(),lastValidBlockHeight:F()})),Kl=$({slot:F(),numTransactions:F(),numSlots:F(),samplePeriodSecs:F()}),Wl=pt(Y(Kl)),Gl=le(X($({feeCalculator:$({lamportsPerSignature:F()})}))),jl=pt(z()),Vl=pt(z()),Zl=$({err:Ar,logs:Y(z()),signature:z()}),Xl=$({result:hi(Zl),subscription:F()}),Yl={"solana-client":"js/0.0.0-development"};class Jl{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let r,s,o,c,u,g;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,s=e.httpHeaders,o=e.fetch,c=e.fetchMiddleware,u=e.disableRetryOnRateLimit,g=e.httpAgent),this._rpcEndpoint=Hh(t),this._rpcWsEndpoint=r||Nh(t),this._rpcClient=Jh(t,s,o,c,u,g),this._rpcRequest=Qh(this._rpcClient),this._rpcBatchRequest=tl(this._rpcClient),this._rpcWebSocket=new Mh(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:s}=Ht(e),o=this._buildArgs([t.toBase58()],r,void 0,s),c=await this._rpcRequest("getBalance",o),u=G(c,le(F()));if("error"in u)throw new st(u.error,`failed to get balance for ${t.toBase58()}`);return u.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),r=G(e,pt(X(F())));if("error"in r)throw new st(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=G(t,pt(F()));if("error"in e)throw new st(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=G(t,sl);if("error"in e)throw new st(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[e]),s=G(r,al);if("error"in s)throw new st(s.error,"failed to get supply");return s.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenSupply",r),o=G(s,le(ao));if("error"in o)throw new st(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenAccountBalance",r),o=G(s,le(ao));if("error"in o)throw new st(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,e,r){const{commitment:s,config:o}=Ht(r);let c=[t.toBase58()];"mint"in e?c.push({mint:e.mint.toBase58()}):c.push({programId:e.programId.toBase58()});const u=this._buildArgs(c,s,"base64",o),g=await this._rpcRequest("getTokenAccountsByOwner",u),v=G(g,ul);if("error"in v)throw new st(v.error,`failed to get token accounts owned by account ${t.toBase58()}`);return v.result}async getParsedTokenAccountsByOwner(t,e,r){let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const o=this._buildArgs(s,r,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",o),u=G(c,fl);if("error"in u)throw new st(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],s=await this._rpcRequest("getLargestAccounts",r),o=G(s,hl);if("error"in o)throw new st(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenLargestAccounts",r),o=G(s,cl);if("error"in o)throw new st(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:s}=Ht(e),o=this._buildArgs([t.toBase58()],r,"base64",s),c=await this._rpcRequest("getAccountInfo",o),u=G(c,le(X(sn)));if("error"in u)throw new st(u.error,`failed to get info about account ${t.toBase58()}`);return u.result}async getParsedAccountInfo(t,e){const{commitment:r,config:s}=Ht(e),o=this._buildArgs([t.toBase58()],r,"jsonParsed",s),c=await this._rpcRequest("getAccountInfo",o),u=G(c,le(X(uo)));if("error"in u)throw new st(u.error,`failed to get info about account ${t.toBase58()}`);return u.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:s}=Ht(e),o=t.map(v=>v.toBase58()),c=this._buildArgs([o],r,"jsonParsed",s),u=await this._rpcRequest("getMultipleAccounts",c),g=G(u,le(Y(X(uo))));if("error"in g)throw new st(g.error,`failed to get info for accounts ${o}`);return g.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:s}=Ht(e),o=t.map(v=>v.toBase58()),c=this._buildArgs([o],r,"base64",s),u=await this._rpcRequest("getMultipleAccounts",c),g=G(u,le(Y(X(sn))));if("error"in g)throw new st(g.error,`failed to get info for accounts ${o}`);return g.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:s,config:o}=Ht(e),c=this._buildArgs([t.toBase58()],s,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),u=await this._rpcRequest("getStakeActivation",c),g=G(u,pt(gl));if("error"in g)throw new st(g.error,`failed to get Stake Activation ${t.toBase58()}`);return g.result}async getProgramAccounts(t,e){const{commitment:r,config:s}=Ht(e),{encoding:o,...c}=s||{},u=this._buildArgs([t.toBase58()],r,o||"base64",c),g=await this._rpcRequest("getProgramAccounts",u),v=G(g,pt(Y(ll)));if("error"in v)throw new st(v.error,`failed to get accounts owned by program ${t.toBase58()}`);return v.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:s}=Ht(e),o=this._buildArgs([t.toBase58()],r,"jsonParsed",s),c=await this._rpcRequest("getProgramAccounts",o),u=G(c,pt(Y(pl)));if("error"in u)throw new st(u.error,`failed to get accounts owned by program ${t.toBase58()}`);return u.result}async confirmTransaction(t,e){var o;let r;if(typeof t=="string")r=t;else{const c=t;if((o=c.abortSignal)!=null&&o.aborted)return Promise.reject(c.abortSignal.reason);r=c.signature}let s;try{s=ye.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return he(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,s,o=!1;const c=new Promise((g,v)=>{try{r=this.onSignature(e,(_,U)=>{r=void 0;const M={context:U,value:_};g({__type:Ge.PROCESSED,response:M})},t);const k=new Promise(_=>{r==null?_():s=this._onSubscriptionStateChange(r,U=>{U==="subscribed"&&_()})});(async()=>{if(await k,o)return;const _=await this.getSignatureStatus(e);if(o||_==null)return;const{context:U,value:M}=_;if(M!=null)if(M!=null&&M.err)v(M.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(M.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(M.confirmationStatus==="processed"||M.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,g({__type:Ge.PROCESSED,response:{context:U,value:M}})}})()}catch(k){v(k)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:s}}){let o=!1;const c=new Promise(_=>{const U=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let M=await U();if(!o){for(;M<=r;)if(await Ur(1e3),o||(M=await U(),o))return;_({__type:Ge.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),v=this.getCancellationPromise(e);let k;try{const _=await Promise.race([v,g,c]);if(_.__type===Ge.PROCESSED)k=_.response;else throw new Da(s)}finally{o=!0,u()}return k}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:s,nonceValue:o,signature:c}}){let u=!1;const g=new Promise(M=>{let T=o,L=null;const C=async()=>{try{const{context:D,value:H}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:r});return L=D.slot,H==null?void 0:H.nonce}catch{return T}};(async()=>{if(T=await C(),!u)for(;;){if(o!==T){M({__type:Ge.NONCE_INVALID,slotInWhichNonceDidAdvance:L});return}if(await Ur(2e3),u||(T=await C(),u))return}})()}),{abortConfirmation:v,confirmationPromise:k}=this.getTransactionConfirmationPromise({commitment:t,signature:c}),_=this.getCancellationPromise(e);let U;try{const M=await Promise.race([_,k,g]);if(M.__type===Ge.PROCESSED)U=M.response;else{let T;for(;;){const L=await this.getSignatureStatus(c);if(L==null)break;if(L.context.slot<(M.slotInWhichNonceDidAdvance??r)){await Ur(400);continue}T=L;break}if(T!=null&&T.value){const L=t||"finalized",{confirmationStatus:C}=T.value;switch(L){case"processed":case"recent":if(C!=="processed"&&C!=="confirmed"&&C!=="finalized")throw new Xr(c);break;case"confirmed":case"single":case"singleGossip":if(C!=="confirmed"&&C!=="finalized")throw new Xr(c);break;case"finalized":case"max":case"root":if(C!=="finalized")throw new Xr(c);break;default:(D=>{})(L)}U={context:T.context,value:{err:T.value.err}}}else throw new Xr(c)}}finally{u=!0,v()}return U}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const s=new Promise(g=>{let v=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{v=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>g({__type:Ge.TIMED_OUT,timeoutMs:v}),v)}),{abortConfirmation:o,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let u;try{const g=await Promise.race([c,s]);if(g.__type===Ge.PROCESSED)u=g.response;else throw new Ha(e,g.timeoutMs/1e3)}finally{clearTimeout(r),o()}return u}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=G(t,pt(Y(Il)));if("error"in e)throw new st(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",e),s=G(r,kl);if("error"in s)throw new st(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:e,config:r}=Ht(t),s=this._buildArgs([],e,void 0,r),o=await this._rpcRequest("getSlot",s),c=G(o,pt(F()));if("error"in c)throw new st(c.error,"failed to get slot");return c.result}async getSlotLeader(t){const{commitment:e,config:r}=Ht(t),s=this._buildArgs([],e,void 0,r),o=await this._rpcRequest("getSlotLeader",s),c=G(o,pt(z()));if("error"in c)throw new st(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(t,e){const r=[t,e],s=await this._rpcRequest("getSlotLeaders",r),o=G(s,pt(Y(pe)));if("error"in o)throw new st(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,e){const{context:r,value:s}=await this.getSignatureStatuses([t],e);he(s.length===1);const o=s[0];return{context:r,value:o}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const s=await this._rpcRequest("getSignatureStatuses",r),o=G(s,Tl);if("error"in o)throw new st(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:e,config:r}=Ht(t),s=this._buildArgs([],e,void 0,r),o=await this._rpcRequest("getTransactionCount",s),c=G(o,pt(F()));if("error"in c)throw new st(c.error,"failed to get transaction count");return c.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",e),s=G(r,el);if("error"in s)throw new st(s.error,"failed to get inflation");return s.result}async getInflationReward(t,e,r){const{commitment:s,config:o}=Ht(r),c=this._buildArgs([t.map(v=>v.toBase58())],s,void 0,{...o,epoch:e??(o==null?void 0:o.epoch)}),u=await this._rpcRequest("getInflationReward",c),g=G(u,zh);if("error"in g)throw new st(g.error,"failed to get inflation reward");return g.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=G(t,rl);if("error"in e)throw new st(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:r}=Ht(t),s=this._buildArgs([],e,void 0,r),o=await this._rpcRequest("getEpochInfo",s),c=G(o,nl);if("error"in c)throw new st(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=G(t,il);if("error"in e)throw new st(e.error,"failed to get epoch schedule");const r=e.result;return new kh(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=G(t,ol);if("error"in e)throw new st(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=G(s,Ul);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getRecentBlockhash",e),s=G(r,$l);if("error"in s)throw new st(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=G(e,Wl);if("error"in r)throw new st(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=G(s,Gl);if("error"in o)throw new st(o.error,"failed to get fee calculator");const{context:c,value:u}=o.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(t,e){const r=qr(t.serialize()).toString("base64"),s=this._buildArgs([r],e),o=await this._rpcRequest("getFeeForMessage",s),c=G(o,le(X(F())));if("error"in c)throw new st(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=Ht(t),s=this._buildArgs([],e,void 0,r),o=await this._rpcRequest("getLatestBlockhash",s),c=G(o,zl);if("error"in c)throw new st(c.error,"failed to get latest blockhash");return c.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=G(t,pt(Xh));if("error"in e)throw new st(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=G(t,pt(z()));if("error"in e)throw new st(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:r,config:s}=Ht(e),o=this._buildArgsAtLeastConfirmed([t],r,void 0,s),c=await this._rpcRequest("getBlock",o);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const u=G(c,Pl);if("error"in u)throw u.error;return u.result}case"none":{const u=G(c,Ol);if("error"in u)throw u.error;return u.result}default:{const u=G(c,Fl);if("error"in u)throw u.error;const{result:g}=u;return g?{...g,transactions:g.transactions.map(({transaction:v,meta:k,version:_})=>({meta:k,transaction:{...v,message:Vi(_,v.message)},version:_}))}:null}}}catch(u){throw new st(u,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:s}=Ht(e),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),c=await this._rpcRequest("getBlock",o);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const u=G(c,Dl);if("error"in u)throw u.error;return u.result}case"none":{const u=G(c,Hl);if("error"in u)throw u.error;return u.result}default:{const u=G(c,Nl);if("error"in u)throw u.error;return u.result}}}catch(u){throw new st(u,"failed to get block")}}async getBlockHeight(t){const{commitment:e,config:r}=Ht(t),s=this._buildArgs([],e,void 0,r),o=await this._rpcRequest("getBlockHeight",s),c=G(o,pt(F()));if("error"in c)throw new st(c.error,"failed to get block height information");return c.result}async getBlockProduction(t){let e,r;if(typeof t=="string")r=t;else if(t){const{commitment:u,...g}=t;r=u,e=g}const s=this._buildArgs([],r,"base64",e),o=await this._rpcRequest("getBlockProduction",s),c=G(o,Yh);if("error"in c)throw new st(c.error,"failed to get block production information");return c.result}async getTransaction(t,e){const{commitment:r,config:s}=Ht(e),o=this._buildArgsAtLeastConfirmed([t],r,void 0,s),c=await this._rpcRequest("getTransaction",o),u=G(c,Zi);if("error"in u)throw new st(u.error,"failed to get transaction");const g=u.result;return g&&{...g,transaction:{...g.transaction,message:Vi(g.version,g.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:r,config:s}=Ht(e),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),c=await this._rpcRequest("getTransaction",o),u=G(c,Bn);if("error"in u)throw new st(u.error,"failed to get transaction");return u.result}async getParsedTransactions(t,e){const{commitment:r,config:s}=Ht(e),o=t.map(g=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([g],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(o)).map(g=>{const v=G(g,Bn);if("error"in v)throw new st(v.error,"failed to get transactions");return v.result})}async getTransactions(t,e){const{commitment:r,config:s}=Ht(e),o=t.map(g=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([g],r,void 0,s)}));return(await this._rpcBatchRequest(o)).map(g=>{const v=G(g,Zi);if("error"in v)throw new st(v.error,"failed to get transactions");const k=v.result;return k&&{...k,transaction:{...k.transaction,message:Vi(k.version,k.transaction.message)}}})}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getConfirmedBlock",r),o=G(s,ql);if("error"in o)throw new st(o.error,"failed to get confirmed block");const c=o.result;if(!c)throw new Error("Confirmed block "+t+" not found");const u={...c,transactions:c.transactions.map(({transaction:g,meta:v})=>{const k=new pr(g.message);return{meta:v,transaction:{...g,message:k}}})};return{...u,transactions:u.transactions.map(({transaction:g,meta:v})=>({meta:v,transaction:cr.populate(g.message,g.signatures)}))}}async getBlocks(t,e,r){const s=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],r),o=await this._rpcRequest("getBlocks",s),c=G(o,pt(Y(F())));if("error"in c)throw new st(c.error,"failed to get blocks");return c.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),o=G(s,ks);if("error"in o)throw new st(o.error,"failed to get block");const c=o.result;if(!c)throw new Error("Block "+t+" not found");return c}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),o=G(s,ks);if("error"in o)throw new st(o.error,"failed to get confirmed block");const c=o.result;if(!c)throw new Error("Confirmed block "+t+" not found");return c}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getConfirmedTransaction",r),o=G(s,Zi);if("error"in o)throw new st(o.error,"failed to get transaction");const c=o.result;if(!c)return c;const u=new pr(c.transaction.message),g=c.transaction.signatures;return{...c,transaction:cr.populate(u,g)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),o=G(s,Bn);if("error"in o)throw new st(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,e){const r=t.map(c=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([c],e,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(c=>{const u=G(c,Bn);if("error"in u)throw new st(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(t,e,r){let s={},o=await this.getFirstAvailableBlock();for(;!("until"in s)&&(e--,!(e<=0||e<o));)try{const g=await this.getConfirmedBlockSignatures(e,"finalized");g.signatures.length>0&&(s.until=g.signatures[g.signatures.length-1].toString())}catch(g){if(g instanceof Error&&g.message.includes("skipped"))continue;throw g}let c=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>c));)try{const g=await this.getConfirmedBlockSignatures(r);g.signatures.length>0&&(s.before=g.signatures[g.signatures.length-1].toString())}catch(g){if(g instanceof Error&&g.message.includes("skipped"))continue;throw g}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(g=>g.signature)}async getConfirmedSignaturesForAddress2(t,e,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),c=G(o,yl);if("error"in c)throw new st(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(t,e,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),o=await this._rpcRequest("getSignaturesForAddress",s),c=G(o,wl);if("error"in c)throw new st(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(t,e){const{context:r,value:s}=await this.getAccountInfoAndContext(t,e);let o=null;return s!==null&&(o=new _s({key:t,state:_s.deserialize(s.data)})),{context:r,value:o}}async getNonceAndContext(t,e){const{context:r,value:s}=await this.getAccountInfoAndContext(t,e);let o=null;return s!==null&&(o=Ro.fromAccountData(s.data)),{context:r,value:o}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,e){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),s=G(r,jl);if("error"in s)throw new st(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Ur(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Dh;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let s=0;s<50;s++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Ur(Ch/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=Ht(t),s=this._buildArgs([],e,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",s),c=G(o,le(F()));if("error"in c)throw new st(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(t,e,r){if("message"in t){const L=t.serialize(),C=lt.Buffer.from(L).toString("base64");if(Array.isArray(e)||r!==void 0)throw new Error("Invalid arguments");const D=e||{};D.encoding="base64","commitment"in D||(D.commitment=this.commitment);const H=[C,D],O=await this._rpcRequest("simulateTransaction",H),Z=G(O,As);if("error"in Z)throw new Error("failed to simulate transaction: "+Z.error.message);return Z.result}let s;if(t instanceof cr){let T=t;s=new cr,s.feePayer=T.feePayer,s.instructions=t.instructions,s.nonceInfo=T.nonceInfo,s.signatures=T.signatures}else s=cr.populate(t),s._message=s._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const o=e;if(s.nonceInfo&&o)s.sign(...o);else{let T=this._disableBlockhashCaching;for(;;){const L=await this._blockhashWithExpiryBlockHeight(T);if(s.lastValidBlockHeight=L.lastValidBlockHeight,s.recentBlockhash=L.blockhash,!o)break;if(s.sign(...o),!s.signature)throw new Error("!signature");const C=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(C)&&!this._blockhashInfo.transactionSignatures.includes(C)){this._blockhashInfo.simulatedSignatures.push(C);break}else T=!0}}const c=s._compile(),u=c.serialize(),v=s._serialize(u).toString("base64"),k={encoding:"base64",commitment:this.commitment};if(r){const T=(Array.isArray(r)?r:c.nonProgramIds()).map(L=>L.toBase58());k.accounts={encoding:"base64",addresses:T}}o&&(k.sigVerify=!0);const _=[v,k],U=await this._rpcRequest("simulateTransaction",_),M=G(U,As);if("error"in M){let T;if("data"in M.error&&(T=M.error.data.logs,T&&Array.isArray(T))){const L=`
    `,C=L+T.join(L);console.error(M.error.message,C)}throw new Bs("failed to simulate transaction: "+M.error.message,T)}return M.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const c=t.serialize();return await this.sendRawTransaction(c,r)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(t.nonceInfo)t.sign(...s);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(t.lastValidBlockHeight=u.lastValidBlockHeight,t.recentBlockhash=u.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const g=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(g))c=!0;else{this._blockhashInfo.transactionSignatures.push(g);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,e){const r=qr(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},s=e&&e.skipPreflight,o=e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(r.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(r.minContextSlot=e.minContextSlot),s&&(r.skipPreflight=s),o&&(r.preflightCommitment=o);const c=[t,r],u=await this._rpcRequest("sendTransaction",c),g=G(u,Vl);if("error"in g){let v;throw"data"in g.error&&(v=g.error.data.logs),new Bs("failed to send transaction: "+g.error.message,v)}return g.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,r])=>{this._setSubscription(e,{...r,state:"pending"})})}_setSubscription(t,e){var s;const r=(s=this._subscriptionsByHash[t])==null?void 0:s.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(c=>{try{c(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){var r;const s=this._subscriptionHashByClientSubscriptionId[t];if(s==null)return()=>{};const o=(r=this._subscriptionStateChangeCallbacksByHash)[s]||(r[s]=new Set);return o.add(e),()=>{o.delete(e),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[s]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:c}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const u=await this._rpcWebSocket.call(c,o);this._setSubscription(r,{...s,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=s.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,o,u.message),!e())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:c}=s;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[o])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!e())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(s=>{try{s(...e)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:e,subscription:r}=G(t,ml);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,s=Ah([t.method,e]),o=this._subscriptionsByHash[s];return o===void 0?this._subscriptionsByHash[s]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const c=this._subscriptionsByHash[s];he(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),c.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const s=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=G(t,xl);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,s){const o=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",s?{filters:s}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=G(t,Xl);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=G(t,El);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=G(t,Sl);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,s){const o=e||this._commitment;if(o||r||s){let c={};r&&(c.encoding=r),o&&(c.commitment=o),s&&(c=Object.assign(c,s)),t.push(c)}return t}_buildArgsAtLeastConfirmed(t,e,r,s){const o=e||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,s)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=G(t,_l);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const s=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){e(c.result,u);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}onSignatureWithOptions(t,e,r){const{commitment:s,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},c=this._buildArgs([t],s,void 0,o),u=this._makeSubscription({callback:(g,v)=>{e(g,v);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=G(t,Al);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:it([at("instruction"),$r("recentSlot"),St("bumpSeed")])},FreezeLookupTable:{index:1,layout:it([at("instruction")])},ExtendLookupTable:{index:2,layout:it([at("instruction"),$r(),Ie(yt(),br(at(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:it([at("instruction")])},CloseLookupTable:{index:4,layout:it([at("instruction")])}});new ut("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:it([St("instruction"),at("units"),at("additionalFee")])},RequestHeapFrame:{index:1,layout:it([St("instruction"),at("bytes")])},SetComputeUnitLimit:{index:2,layout:it([St("instruction"),at("units")])},SetComputeUnitPrice:{index:3,layout:it([St("instruction"),$r("microLamports")])}});new ut("ComputeBudget111111111111111111111111111111");it([St("numSignatures"),St("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);new ut("Ed25519SigVerify111111111111111111111111111");mr.hmacSha256Sync=(n,...t)=>{const e=Oa.create(eo,n);return t.forEach(r=>e.update(r)),e.digest()};mr.isValidPrivateKey;it([St("numSignatures"),Oe("signatureOffset"),St("signatureInstructionIndex"),Oe("ethAddressOffset"),St("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),St("messageInstructionIndex"),Wt(20,"ethAddress"),Wt(64,"signature"),St("recoveryId")]);new ut("KeccakSecp256k11111111111111111111111111111");new ut("StakeConfig11111111111111111111111111111111");class Rs{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}Rs.default=new Rs(0,0,ut.default);Object.freeze({Initialize:{index:0,layout:it([at("instruction"),gh(),yh()])},Authorize:{index:1,layout:it([at("instruction"),yt("newAuthorized"),at("stakeAuthorizationType")])},Delegate:{index:2,layout:it([at("instruction")])},Split:{index:3,layout:it([at("instruction"),Te("lamports")])},Withdraw:{index:4,layout:it([at("instruction"),Te("lamports")])},Deactivate:{index:5,layout:it([at("instruction")])},Merge:{index:7,layout:it([at("instruction")])},AuthorizeWithSeed:{index:8,layout:it([at("instruction"),yt("newAuthorized"),at("stakeAuthorizationType"),Cr("authoritySeed"),yt("authorityOwner")])}});new ut("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:it([at("instruction"),wh()])},Authorize:{index:1,layout:it([at("instruction"),yt("newAuthorized"),at("voteAuthorizationType")])},Withdraw:{index:3,layout:it([at("instruction"),Te("lamports")])},AuthorizeWithSeed:{index:10,layout:it([at("instruction"),mh()])}});new ut("Vote111111111111111111111111111111111111111");new ut("Va1idator1nfo111111111111111111111111111111");$({name:z(),website:ct(z()),details:ct(z()),keybaseUsername:ct(z())});new ut("Vote111111111111111111111111111111111111111");it([yt("nodePubkey"),yt("authorizedWithdrawer"),St("commission"),me(),Ie(it([me("slot"),at("confirmationCount")]),br(at(),-8),"votes"),St("rootSlotValid"),me("rootSlot"),me(),Ie(it([me("epoch"),yt("authorizedVoter")]),br(at(),-8),"authorizedVoters"),it([Ie(it([yt("authorizedPubkey"),me("epochOfLastAuthorizedSwitch"),me("targetEpoch")]),32,"buf"),me("idx"),St("isEmpty")],"priorVoters"),me(),Ie(it([me("epoch"),me("credits"),me("prevCredits")]),br(at(),-8),"epochCredits"),it([me("slot"),me("timestamp")],"lastTimestamp")]);const Ql=1e9,Ja=document.getElementById("get_airdrop_button"),Qa=document.getElementById("wallet_address_input");function Ms(n=!0){Ja.disabled=n,Qa.disabled=n}Ja.addEventListener("click",async()=>{try{Ms();const n=Qa.value;if(!n)return window.alert("Please enter a wallet address");const t=new Jl("https://api.devnet.solana.com","confirmed"),e=new ut(n),r=await t.requestAirdrop(e,Ql);await t.confirmTransaction(r)}catch(n){console.error(n),window.alert(n.message||"Something went wrong!, please try again later.")}finally{Ms(!1)}});
